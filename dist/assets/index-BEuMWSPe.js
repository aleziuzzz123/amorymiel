(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function SE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s0={exports:{}},Pc={},o0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=Symbol.for("react.element"),TE=Symbol.for("react.portal"),IE=Symbol.for("react.fragment"),AE=Symbol.for("react.strict_mode"),CE=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),RE=Symbol.for("react.forward_ref"),PE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),NE=Symbol.for("react.lazy"),vm=Symbol.iterator;function jE(t){return t===null||typeof t!="object"?null:(t=vm&&t[vm]||t["@@iterator"],typeof t=="function"?t:null)}var a0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l0=Object.assign,c0={};function Rs(t,e,n){this.props=t,this.context=e,this.refs=c0,this.updater=n||a0}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u0(){}u0.prototype=Rs.prototype;function Bh(t,e,n){this.props=t,this.context=e,this.refs=c0,this.updater=n||a0}var Wh=Bh.prototype=new u0;Wh.constructor=Bh;l0(Wh,Rs.prototype);Wh.isPureReactComponent=!0;var _m=Array.isArray,d0=Object.prototype.hasOwnProperty,$h={current:null},h0={key:!0,ref:!0,__self:!0,__source:!0};function f0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)d0.call(e,r)&&!h0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:oa,type:t,key:s,ref:o,props:i,_owner:$h.current}}function VE(t,e){return{$$typeof:oa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qh(t){return typeof t=="object"&&t!==null&&t.$$typeof===oa}function LE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wm=/\/+/g;function Du(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LE(""+t.key):e.toString(36)}function yl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case oa:case TE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Du(o,0):r,_m(i)?(n="",t!=null&&(n=t.replace(wm,"$&/")+"/"),yl(i,e,n,"",function(h){return h})):i!=null&&(qh(i)&&(i=VE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_m(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Du(s,l);o+=yl(s,e,n,u,i)}else if(u=jE(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Du(s,l++),o+=yl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ka(t,e,n){if(t==null)return t;var r=[],i=0;return yl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},vl={transition:null},ME={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:vl,ReactCurrentOwner:$h};function p0(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Ka,forEach:function(t,e,n){Ka(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ka(t,function(){e++}),e},toArray:function(t){return Ka(t,function(e){return e})||[]},only:function(t){if(!qh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Rs;ae.Fragment=IE;ae.Profiler=CE;ae.PureComponent=Bh;ae.StrictMode=AE;ae.Suspense=PE;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ME;ae.act=p0;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$h.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)d0.call(e,u)&&!h0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:oa,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:kE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bE,_context:t},t.Consumer=t};ae.createElement=f0;ae.createFactory=function(t){var e=f0.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:RE,render:t}};ae.isValidElement=qh;ae.lazy=function(t){return{$$typeof:NE,_payload:{_status:-1,_result:t},_init:OE}};ae.memo=function(t,e){return{$$typeof:DE,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=vl.transition;vl.transition={};try{t()}finally{vl.transition=e}};ae.unstable_act=p0;ae.useCallback=function(t,e){return Dt.current.useCallback(t,e)};ae.useContext=function(t){return Dt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Dt.current.useEffect(t,e)};ae.useId=function(){return Dt.current.useId()};ae.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Dt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};ae.useRef=function(t){return Dt.current.useRef(t)};ae.useState=function(t){return Dt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Dt.current.useTransition()};ae.version="18.3.1";o0.exports=ae;var ie=o0.exports;const FE=SE(ie);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE=ie,UE=Symbol.for("react.element"),BE=Symbol.for("react.fragment"),WE=Object.prototype.hasOwnProperty,$E=zE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qE={key:!0,ref:!0,__self:!0,__source:!0};function m0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WE.call(e,r)&&!qE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UE,type:t,key:s,ref:o,props:i,_owner:$E.current}}Pc.Fragment=BE;Pc.jsx=m0;Pc.jsxs=m0;s0.exports=Pc;var c=s0.exports,_d={},g0={exports:{}},Qt={},y0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,X){var J=H.length;H.push(X);e:for(;0<J;){var de=J-1>>>1,C=H[de];if(0<i(C,X))H[de]=X,H[J]=C,J=de;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],J=H.pop();if(J!==X){H[0]=J;e:for(var de=0,C=H.length,W=C>>>1;de<W;){var ne=2*(de+1)-1,ge=H[ne],we=ne+1,Oe=H[we];if(0>i(ge,J))we<C&&0>i(Oe,ge)?(H[de]=Oe,H[we]=J,de=we):(H[de]=ge,H[ne]=J,de=ne);else if(we<C&&0>i(Oe,J))H[de]=Oe,H[we]=J,de=we;else break e}}return X}function i(H,X){var J=H.sortIndex-X.sortIndex;return J!==0?J:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],p=1,m=null,y=3,R=!1,P=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=H)r(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function O(H){if(V=!1,b(H),!P)if(n(u)!==null)P=!0,jn(B);else{var X=n(h);X!==null&&gt(O,X.startTime-H)}}function B(H,X){P=!1,V&&(V=!1,A(_),_=-1),R=!0;var J=y;try{for(b(X),m=n(u);m!==null&&(!(m.expirationTime>X)||H&&!k());){var de=m.callback;if(typeof de=="function"){m.callback=null,y=m.priorityLevel;var C=de(m.expirationTime<=X);X=t.unstable_now(),typeof C=="function"?m.callback=C:m===n(u)&&r(u),b(X)}else r(u);m=n(u)}if(m!==null)var W=!0;else{var ne=n(h);ne!==null&&gt(O,ne.startTime-X),W=!1}return W}finally{m=null,y=J,R=!1}}var U=!1,S=null,_=-1,x=5,w=-1;function k(){return!(t.unstable_now()-w<x)}function N(){if(S!==null){var H=t.unstable_now();w=H;var X=!0;try{X=S(!0,H)}finally{X?I():(U=!1,S=null)}}else U=!1}var I;if(typeof E=="function")I=function(){E(N)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Ut=Ct.port2;Ct.port1.onmessage=N,I=function(){Ut.postMessage(null)}}else I=function(){F(N,0)};function jn(H){S=H,U||(U=!0,I())}function gt(H,X){_=F(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,jn(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var J=y;y=X;try{return H()}finally{y=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=y;y=H;try{return X()}finally{y=J}},t.unstable_scheduleCallback=function(H,X,J){var de=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?de+J:de):J=de,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,H={id:p++,callback:X,priorityLevel:H,startTime:J,expirationTime:C,sortIndex:-1},J>de?(H.sortIndex=J,e(h,H),n(u)===null&&H===n(h)&&(V?(A(_),_=-1):V=!0,gt(O,J-de))):(H.sortIndex=C,e(u,H),P||R||(P=!0,jn(B))),H},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(H){var X=y;return function(){var J=y;y=X;try{return H.apply(this,arguments)}finally{y=J}}}})(v0);y0.exports=v0;var HE=y0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=ie,Kt=HE;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _0=new Set,jo={};function bi(t,e){gs(t,e),gs(t+"Capture",e)}function gs(t,e){for(jo[t]=e,t=0;t<e.length;t++)_0.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=Object.prototype.hasOwnProperty,KE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Em={},xm={};function QE(t){return wd.call(xm,t)?!0:wd.call(Em,t)?!1:KE.test(t)?xm[t]=!0:(Em[t]=!0,!1)}function YE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JE(t,e,n,r){if(e===null||typeof e>"u"||YE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hh=/[\-:]([a-z])/g;function Gh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hh,Gh);mt[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hh,Gh);mt[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hh,Gh);mt[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kh(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JE(e,n,i,r)&&(n=null),r||i===null?QE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tr=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),$i=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),E0=Symbol.for("react.context"),Yh=Symbol.for("react.forward_ref"),xd=Symbol.for("react.suspense"),Sd=Symbol.for("react.suspense_list"),Jh=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),x0=Symbol.for("react.offscreen"),Sm=Symbol.iterator;function eo(t){return t===null||typeof t!="object"?null:(t=Sm&&t[Sm]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,Nu;function lo(t){if(Nu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nu=e&&e[1]||""}return`
`+Nu+t}var ju=!1;function Vu(t,e){if(!t||ju)return"";ju=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{ju=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lo(t):""}function XE(t){switch(t.tag){case 5:return lo(t.type);case 16:return lo("Lazy");case 13:return lo("Suspense");case 19:return lo("SuspenseList");case 0:case 2:case 15:return t=Vu(t.type,!1),t;case 11:return t=Vu(t.type.render,!1),t;case 1:return t=Vu(t.type,!0),t;default:return""}}function Td(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case $i:return"Portal";case Ed:return"Profiler";case Qh:return"StrictMode";case xd:return"Suspense";case Sd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E0:return(t.displayName||"Context")+".Consumer";case w0:return(t._context.displayName||"Context")+".Provider";case Yh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jh:return e=t.displayName||null,e!==null?e:Td(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return Td(t(e))}catch{}}return null}function ZE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Td(e);case 8:return e===Qh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ex(t){var e=S0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ya(t){t._valueTracker||(t._valueTracker=ex(t))}function T0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Id(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I0(t,e){e=e.checked,e!=null&&Kh(t,"checked",e,!1)}function Ad(t,e){I0(t,e);var n=Mr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cd(t,e.type,Mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Im(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cd(t,e,n){(e!=="number"||zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var co=Array.isArray;function ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Am(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(co(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mr(n)}}function A0(t,e){var n=Mr(e.value),r=Mr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ja,b0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tx=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(t){tx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vo[e]=vo[t]})});function k0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vo.hasOwnProperty(t)&&vo[t]?(""+e).trim():e+"px"}function R0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nx=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(t,e){if(e){if(nx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Pd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=null;function Xh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nd=null,os=null,as=null;function bm(t){if(t=ca(t)){if(typeof Nd!="function")throw Error($(280));var e=t.stateNode;e&&(e=Lc(e),Nd(t.stateNode,t.type,e))}}function P0(t){os?as?as.push(t):as=[t]:os=t}function D0(){if(os){var t=os,e=as;if(as=os=null,bm(t),e)for(t=0;t<e.length;t++)bm(e[t])}}function N0(t,e){return t(e)}function j0(){}var Lu=!1;function V0(t,e,n){if(Lu)return t(e,n);Lu=!0;try{return N0(t,e,n)}finally{Lu=!1,(os!==null||as!==null)&&(j0(),D0())}}function Lo(t,e){var n=t.stateNode;if(n===null)return null;var r=Lc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var jd=!1;if(Gn)try{var to={};Object.defineProperty(to,"passive",{get:function(){jd=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{jd=!1}function rx(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var _o=!1,Ul=null,Bl=!1,Vd=null,ix={onError:function(t){_o=!0,Ul=t}};function sx(t,e,n,r,i,s,o,l,u){_o=!1,Ul=null,rx.apply(ix,arguments)}function ox(t,e,n,r,i,s,o,l,u){if(sx.apply(this,arguments),_o){if(_o){var h=Ul;_o=!1,Ul=null}else throw Error($(198));Bl||(Bl=!0,Vd=h)}}function ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function km(t){if(ki(t)!==t)throw Error($(188))}function ax(t){var e=t.alternate;if(!e){if(e=ki(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return km(i),t;if(s===r)return km(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function O0(t){return t=ax(t),t!==null?M0(t):null}function M0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=M0(t);if(e!==null)return e;t=t.sibling}return null}var F0=Kt.unstable_scheduleCallback,Rm=Kt.unstable_cancelCallback,lx=Kt.unstable_shouldYield,cx=Kt.unstable_requestPaint,We=Kt.unstable_now,ux=Kt.unstable_getCurrentPriorityLevel,Zh=Kt.unstable_ImmediatePriority,z0=Kt.unstable_UserBlockingPriority,Wl=Kt.unstable_NormalPriority,dx=Kt.unstable_LowPriority,U0=Kt.unstable_IdlePriority,Dc=null,An=null;function hx(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Dc,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:mx,fx=Math.log,px=Math.LN2;function mx(t){return t>>>=0,t===0?32:31-(fx(t)/px|0)|0}var Xa=64,Za=4194304;function uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=uo(l):(s&=o,s!==0&&(r=uo(s)))}else o=n&~i,o!==0?r=uo(o):s!==0&&(r=uo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),i=1<<n,r|=t[n],e&=~i;return r}function gx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=gx(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Ld(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B0(){var t=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),t}function Ou(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function aa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function vx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ef(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function W0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $0,tf,q0,H0,G0,Od=!1,el=[],Tr=null,Ir=null,Ar=null,Oo=new Map,Mo=new Map,mr=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pm(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Oo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(e.pointerId)}}function no(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ca(e),e!==null&&tf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wx(t,e,n,r,i){switch(e){case"focusin":return Tr=no(Tr,t,e,n,r,i),!0;case"dragenter":return Ir=no(Ir,t,e,n,r,i),!0;case"mouseover":return Ar=no(Ar,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Oo.set(s,no(Oo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mo.set(s,no(Mo.get(s)||null,t,e,n,r,i)),!0}return!1}function K0(t){var e=ui(t.target);if(e!==null){var n=ki(e);if(n!==null){if(e=n.tag,e===13){if(e=L0(n),e!==null){t.blockedOn=e,G0(t.priority,function(){q0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Md(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dd=r,n.target.dispatchEvent(r),Dd=null}else return e=ca(n),e!==null&&tf(e),t.blockedOn=n,!1;e.shift()}return!0}function Dm(t,e,n){_l(t)&&n.delete(e)}function Ex(){Od=!1,Tr!==null&&_l(Tr)&&(Tr=null),Ir!==null&&_l(Ir)&&(Ir=null),Ar!==null&&_l(Ar)&&(Ar=null),Oo.forEach(Dm),Mo.forEach(Dm)}function ro(t,e){t.blockedOn===e&&(t.blockedOn=null,Od||(Od=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,Ex)))}function Fo(t){function e(i){return ro(i,t)}if(0<el.length){ro(el[0],t);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&ro(Tr,t),Ir!==null&&ro(Ir,t),Ar!==null&&ro(Ar,t),Oo.forEach(e),Mo.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)K0(n),n.blockedOn===null&&mr.shift()}var ls=tr.ReactCurrentBatchConfig,ql=!0;function xx(t,e,n,r){var i=ve,s=ls.transition;ls.transition=null;try{ve=1,nf(t,e,n,r)}finally{ve=i,ls.transition=s}}function Sx(t,e,n,r){var i=ve,s=ls.transition;ls.transition=null;try{ve=4,nf(t,e,n,r)}finally{ve=i,ls.transition=s}}function nf(t,e,n,r){if(ql){var i=Md(t,e,n,r);if(i===null)Gu(t,e,r,Hl,n),Pm(t,r);else if(wx(i,t,e,n,r))r.stopPropagation();else if(Pm(t,r),e&4&&-1<_x.indexOf(t)){for(;i!==null;){var s=ca(i);if(s!==null&&$0(s),s=Md(t,e,n,r),s===null&&Gu(t,e,r,Hl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gu(t,e,r,null,n)}}var Hl=null;function Md(t,e,n,r){if(Hl=null,t=Xh(r),t=ui(t),t!==null)if(e=ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function Q0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ux()){case Zh:return 1;case z0:return 4;case Wl:case dx:return 16;case U0:return 536870912;default:return 16}default:return 16}}var Er=null,rf=null,wl=null;function Y0(){if(wl)return wl;var t,e=rf,n=e.length,r,i="value"in Er?Er.value:Er.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wl=i.slice(t,1<r?1-r:void 0)}function El(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tl(){return!0}function Nm(){return!1}function Yt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tl:Nm,this.isPropagationStopped=Nm,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=Yt(Ps),la=Ve({},Ps,{view:0,detail:0}),Tx=Yt(la),Mu,Fu,io,Nc=Ve({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==io&&(io&&t.type==="mousemove"?(Mu=t.screenX-io.screenX,Fu=t.screenY-io.screenY):Fu=Mu=0,io=t),Mu)},movementY:function(t){return"movementY"in t?t.movementY:Fu}}),jm=Yt(Nc),Ix=Ve({},Nc,{dataTransfer:0}),Ax=Yt(Ix),Cx=Ve({},la,{relatedTarget:0}),zu=Yt(Cx),bx=Ve({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),kx=Yt(bx),Rx=Ve({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Px=Yt(Rx),Dx=Ve({},Ps,{data:0}),Vm=Yt(Dx),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vx[t])?!!e[t]:!1}function of(){return Lx}var Ox=Ve({},la,{key:function(t){if(t.key){var e=Nx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=El(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(t){return t.type==="keypress"?El(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?El(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mx=Yt(Ox),Fx=Ve({},Nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=Yt(Fx),zx=Ve({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),Ux=Yt(zx),Bx=Ve({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=Yt(Bx),$x=Ve({},Nc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=Yt($x),Hx=[9,13,27,32],af=Gn&&"CompositionEvent"in window,wo=null;Gn&&"documentMode"in document&&(wo=document.documentMode);var Gx=Gn&&"TextEvent"in window&&!wo,J0=Gn&&(!af||wo&&8<wo&&11>=wo),Om=" ",Mm=!1;function X0(t,e){switch(t){case"keyup":return Hx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hi=!1;function Kx(t,e){switch(t){case"compositionend":return Z0(e);case"keypress":return e.which!==32?null:(Mm=!0,Om);case"textInput":return t=e.data,t===Om&&Mm?null:t;default:return null}}function Qx(t,e){if(Hi)return t==="compositionend"||!af&&X0(t,e)?(t=Y0(),wl=rf=Er=null,Hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J0&&e.locale!=="ko"?null:e.data;default:return null}}var Yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yx[t.type]:e==="textarea"}function ev(t,e,n,r){P0(r),e=Gl(e,"onChange"),0<e.length&&(n=new sf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Eo=null,zo=null;function Jx(t){dv(t,0)}function jc(t){var e=Qi(t);if(T0(e))return t}function Xx(t,e){if(t==="change")return e}var tv=!1;if(Gn){var Uu;if(Gn){var Bu="oninput"in document;if(!Bu){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),Bu=typeof zm.oninput=="function"}Uu=Bu}else Uu=!1;tv=Uu&&(!document.documentMode||9<document.documentMode)}function Um(){Eo&&(Eo.detachEvent("onpropertychange",nv),zo=Eo=null)}function nv(t){if(t.propertyName==="value"&&jc(zo)){var e=[];ev(e,zo,t,Xh(t)),V0(Jx,e)}}function Zx(t,e,n){t==="focusin"?(Um(),Eo=e,zo=n,Eo.attachEvent("onpropertychange",nv)):t==="focusout"&&Um()}function eS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(zo)}function tS(t,e){if(t==="click")return jc(e)}function nS(t,e){if(t==="input"||t==="change")return jc(e)}function rS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vn=typeof Object.is=="function"?Object.is:rS;function Uo(t,e){if(vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wd.call(e,i)||!vn(t[i],e[i]))return!1}return!0}function Bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wm(t,e){var n=Bm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bm(n)}}function rv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iv(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zl(t.document)}return e}function lf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iS(t){var e=iv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rv(n.ownerDocument.documentElement,n)){if(r!==null&&lf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wm(n,s);var o=Wm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sS=Gn&&"documentMode"in document&&11>=document.documentMode,Gi=null,Fd=null,xo=null,zd=!1;function $m(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zd||Gi==null||Gi!==zl(r)||(r=Gi,"selectionStart"in r&&lf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xo&&Uo(xo,r)||(xo=r,r=Gl(Fd,"onSelect"),0<r.length&&(e=new sf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gi)))}function nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ki={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},Wu={},sv={};Gn&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Vc(t){if(Wu[t])return Wu[t];if(!Ki[t])return t;var e=Ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sv)return Wu[t]=e[n];return t}var ov=Vc("animationend"),av=Vc("animationiteration"),lv=Vc("animationstart"),cv=Vc("transitionend"),uv=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(t,e){uv.set(t,e),bi(e,[t])}for(var $u=0;$u<qm.length;$u++){var qu=qm[$u],oS=qu.toLowerCase(),aS=qu[0].toUpperCase()+qu.slice(1);Hr(oS,"on"+aS)}Hr(ov,"onAnimationEnd");Hr(av,"onAnimationIteration");Hr(lv,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(cv,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function Hm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ox(r,e,void 0,t),t.currentTarget=null}function dv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Hm(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Hm(i,l,h),s=u}}}if(Bl)throw t=Vd,Bl=!1,Vd=null,t}function be(t,e){var n=e[qd];n===void 0&&(n=e[qd]=new Set);var r=t+"__bubble";n.has(r)||(hv(e,t,2,!1),n.add(r))}function Hu(t,e,n){var r=0;e&&(r|=4),hv(n,t,r,e)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Bo(t){if(!t[rl]){t[rl]=!0,_0.forEach(function(n){n!=="selectionchange"&&(lS.has(n)||Hu(n,!1,t),Hu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rl]||(e[rl]=!0,Hu("selectionchange",!1,e))}}function hv(t,e,n,r){switch(Q0(e)){case 1:var i=xx;break;case 4:i=Sx;break;default:i=nf}n=i.bind(null,e,n,t),i=void 0,!jd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ui(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}V0(function(){var h=s,p=Xh(n),m=[];e:{var y=uv.get(t);if(y!==void 0){var R=sf,P=t;switch(t){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":R=Mx;break;case"focusin":P="focus",R=zu;break;case"focusout":P="blur",R=zu;break;case"beforeblur":case"afterblur":R=zu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Ux;break;case ov:case av:case lv:R=kx;break;case cv:R=Wx;break;case"scroll":R=Tx;break;case"wheel":R=qx;break;case"copy":case"cut":case"paste":R=Px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Lm}var V=(e&4)!==0,F=!V&&t==="scroll",A=V?y!==null?y+"Capture":null:y;V=[];for(var E=h,b;E!==null;){b=E;var O=b.stateNode;if(b.tag===5&&O!==null&&(b=O,A!==null&&(O=Lo(E,A),O!=null&&V.push(Wo(E,O,b)))),F)break;E=E.return}0<V.length&&(y=new R(y,P,null,n,p),m.push({event:y,listeners:V}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",y&&n!==Dd&&(P=n.relatedTarget||n.fromElement)&&(ui(P)||P[Kn]))break e;if((R||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,R?(P=n.relatedTarget||n.toElement,R=h,P=P?ui(P):null,P!==null&&(F=ki(P),P!==F||P.tag!==5&&P.tag!==6)&&(P=null)):(R=null,P=h),R!==P)){if(V=jm,O="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(V=Lm,O="onPointerLeave",A="onPointerEnter",E="pointer"),F=R==null?y:Qi(R),b=P==null?y:Qi(P),y=new V(O,E+"leave",R,n,p),y.target=F,y.relatedTarget=b,O=null,ui(p)===h&&(V=new V(A,E+"enter",P,n,p),V.target=b,V.relatedTarget=F,O=V),F=O,R&&P)t:{for(V=R,A=P,E=0,b=V;b;b=Mi(b))E++;for(b=0,O=A;O;O=Mi(O))b++;for(;0<E-b;)V=Mi(V),E--;for(;0<b-E;)A=Mi(A),b--;for(;E--;){if(V===A||A!==null&&V===A.alternate)break t;V=Mi(V),A=Mi(A)}V=null}else V=null;R!==null&&Gm(m,y,R,V,!1),P!==null&&F!==null&&Gm(m,F,P,V,!0)}}e:{if(y=h?Qi(h):window,R=y.nodeName&&y.nodeName.toLowerCase(),R==="select"||R==="input"&&y.type==="file")var B=Xx;else if(Fm(y))if(tv)B=nS;else{B=eS;var U=Zx}else(R=y.nodeName)&&R.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(B=tS);if(B&&(B=B(t,h))){ev(m,B,n,p);break e}U&&U(t,y,h),t==="focusout"&&(U=y._wrapperState)&&U.controlled&&y.type==="number"&&Cd(y,"number",y.value)}switch(U=h?Qi(h):window,t){case"focusin":(Fm(U)||U.contentEditable==="true")&&(Gi=U,Fd=h,xo=null);break;case"focusout":xo=Fd=Gi=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,$m(m,n,p);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":$m(m,n,p)}var S;if(af)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Hi?X0(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(J0&&n.locale!=="ko"&&(Hi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Hi&&(S=Y0()):(Er=p,rf="value"in Er?Er.value:Er.textContent,Hi=!0)),U=Gl(h,_),0<U.length&&(_=new Vm(_,t,null,n,p),m.push({event:_,listeners:U}),S?_.data=S:(S=Z0(n),S!==null&&(_.data=S)))),(S=Gx?Kx(t,n):Qx(t,n))&&(h=Gl(h,"onBeforeInput"),0<h.length&&(p=new Vm("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=S))}dv(m,e)})}function Wo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lo(t,n),s!=null&&r.unshift(Wo(t,s,i)),s=Lo(t,e),s!=null&&r.push(Wo(t,s,i))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Lo(n,s),u!=null&&o.unshift(Wo(n,u,l))):i||(u=Lo(n,s),u!=null&&o.push(Wo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function Km(t){return(typeof t=="string"?t:""+t).replace(cS,`
`).replace(uS,"")}function il(t,e,n){if(e=Km(e),Km(t)!==e&&n)throw Error($(425))}function Kl(){}var Ud=null,Bd=null;function Wd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(t){return Qm.resolve(null).then(t).catch(fS)}:$d;function fS(t){setTimeout(function(){throw t})}function Ku(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fo(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ym(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),In="__reactFiber$"+Ds,$o="__reactProps$"+Ds,Kn="__reactContainer$"+Ds,qd="__reactEvents$"+Ds,pS="__reactListeners$"+Ds,mS="__reactHandles$"+Ds;function ui(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[In]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ym(t);t!==null;){if(n=t[In])return n;t=Ym(t)}return e}t=n,n=t.parentNode}return null}function ca(t){return t=t[In]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Lc(t){return t[$o]||null}var Hd=[],Yi=-1;function Gr(t){return{current:t}}function ke(t){0>Yi||(t.current=Hd[Yi],Hd[Yi]=null,Yi--)}function Ie(t,e){Yi++,Hd[Yi]=t.current,t.current=e}var Fr={},It=Gr(Fr),Mt=Gr(!1),gi=Fr;function ys(t,e){var n=t.type.contextTypes;if(!n)return Fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function Ql(){ke(Mt),ke(It)}function Jm(t,e,n){if(It.current!==Fr)throw Error($(168));Ie(It,e),Ie(Mt,n)}function fv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,ZE(t)||"Unknown",i));return Ve({},n,r)}function Yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,gi=It.current,Ie(It,t),Ie(Mt,Mt.current),!0}function Xm(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=fv(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,ke(Mt),ke(It),Ie(It,t)):ke(Mt),Ie(Mt,n)}var Mn=null,Oc=!1,Qu=!1;function pv(t){Mn===null?Mn=[t]:Mn.push(t)}function gS(t){Oc=!0,pv(t)}function Kr(){if(!Qu&&Mn!==null){Qu=!0;var t=0,e=ve;try{var n=Mn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mn=null,Oc=!1}catch(i){throw Mn!==null&&(Mn=Mn.slice(t+1)),F0(Zh,Kr),i}finally{ve=e,Qu=!1}}return null}var Ji=[],Xi=0,Jl=null,Xl=0,Jt=[],Xt=0,yi=null,Fn=1,zn="";function ai(t,e){Ji[Xi++]=Xl,Ji[Xi++]=Jl,Jl=t,Xl=e}function mv(t,e,n){Jt[Xt++]=Fn,Jt[Xt++]=zn,Jt[Xt++]=yi,yi=t;var r=Fn;t=zn;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var s=32-pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fn=1<<32-pn(e)+i|n<<i|r,zn=s+t}else Fn=1<<s|n<<i|r,zn=t}function cf(t){t.return!==null&&(ai(t,1),mv(t,1,0))}function uf(t){for(;t===Jl;)Jl=Ji[--Xi],Ji[Xi]=null,Xl=Ji[--Xi],Ji[Xi]=null;for(;t===yi;)yi=Jt[--Xt],Jt[Xt]=null,zn=Jt[--Xt],Jt[Xt]=null,Fn=Jt[--Xt],Jt[Xt]=null}var Gt=null,qt=null,Pe=!1,hn=null;function gv(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yi!==null?{id:Fn,overflow:zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function Gd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kd(t){if(Pe){var e=qt;if(e){var n=e;if(!Zm(t,e)){if(Gd(t))throw Error($(418));e=Cr(n.nextSibling);var r=Gt;e&&Zm(t,e)?gv(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Gt=t)}}else{if(Gd(t))throw Error($(418));t.flags=t.flags&-4097|2,Pe=!1,Gt=t}}}function eg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function sl(t){if(t!==Gt)return!1;if(!Pe)return eg(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wd(t.type,t.memoizedProps)),e&&(e=qt)){if(Gd(t))throw yv(),Error($(418));for(;e;)gv(t,e),e=Cr(e.nextSibling)}if(eg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?Cr(t.stateNode.nextSibling):null;return!0}function yv(){for(var t=qt;t;)t=Cr(t.nextSibling)}function vs(){qt=Gt=null,Pe=!1}function df(t){hn===null?hn=[t]:hn.push(t)}var yS=tr.ReactCurrentBatchConfig;function so(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function ol(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tg(t){var e=t._init;return e(t._payload)}function vv(t){function e(A,E){if(t){var b=A.deletions;b===null?(A.deletions=[E],A.flags|=16):b.push(E)}}function n(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function r(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function i(A,E){return A=Pr(A,E),A.index=0,A.sibling=null,A}function s(A,E,b){return A.index=b,t?(b=A.alternate,b!==null?(b=b.index,b<E?(A.flags|=2,E):b):(A.flags|=2,E)):(A.flags|=1048576,E)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function l(A,E,b,O){return E===null||E.tag!==6?(E=nd(b,A.mode,O),E.return=A,E):(E=i(E,b),E.return=A,E)}function u(A,E,b,O){var B=b.type;return B===qi?p(A,E,b.props.children,O,b.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===fr&&tg(B)===E.type)?(O=i(E,b.props),O.ref=so(A,E,b),O.return=A,O):(O=bl(b.type,b.key,b.props,null,A.mode,O),O.ref=so(A,E,b),O.return=A,O)}function h(A,E,b,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=rd(b,A.mode,O),E.return=A,E):(E=i(E,b.children||[]),E.return=A,E)}function p(A,E,b,O,B){return E===null||E.tag!==7?(E=mi(b,A.mode,O,B),E.return=A,E):(E=i(E,b),E.return=A,E)}function m(A,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=nd(""+E,A.mode,b),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qa:return b=bl(E.type,E.key,E.props,null,A.mode,b),b.ref=so(A,null,E),b.return=A,b;case $i:return E=rd(E,A.mode,b),E.return=A,E;case fr:var O=E._init;return m(A,O(E._payload),b)}if(co(E)||eo(E))return E=mi(E,A.mode,b,null),E.return=A,E;ol(A,E)}return null}function y(A,E,b,O){var B=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return B!==null?null:l(A,E,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qa:return b.key===B?u(A,E,b,O):null;case $i:return b.key===B?h(A,E,b,O):null;case fr:return B=b._init,y(A,E,B(b._payload),O)}if(co(b)||eo(b))return B!==null?null:p(A,E,b,O,null);ol(A,b)}return null}function R(A,E,b,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return A=A.get(b)||null,l(E,A,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Qa:return A=A.get(O.key===null?b:O.key)||null,u(E,A,O,B);case $i:return A=A.get(O.key===null?b:O.key)||null,h(E,A,O,B);case fr:var U=O._init;return R(A,E,b,U(O._payload),B)}if(co(O)||eo(O))return A=A.get(b)||null,p(E,A,O,B,null);ol(E,O)}return null}function P(A,E,b,O){for(var B=null,U=null,S=E,_=E=0,x=null;S!==null&&_<b.length;_++){S.index>_?(x=S,S=null):x=S.sibling;var w=y(A,S,b[_],O);if(w===null){S===null&&(S=x);break}t&&S&&w.alternate===null&&e(A,S),E=s(w,E,_),U===null?B=w:U.sibling=w,U=w,S=x}if(_===b.length)return n(A,S),Pe&&ai(A,_),B;if(S===null){for(;_<b.length;_++)S=m(A,b[_],O),S!==null&&(E=s(S,E,_),U===null?B=S:U.sibling=S,U=S);return Pe&&ai(A,_),B}for(S=r(A,S);_<b.length;_++)x=R(S,A,_,b[_],O),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?_:x.key),E=s(x,E,_),U===null?B=x:U.sibling=x,U=x);return t&&S.forEach(function(k){return e(A,k)}),Pe&&ai(A,_),B}function V(A,E,b,O){var B=eo(b);if(typeof B!="function")throw Error($(150));if(b=B.call(b),b==null)throw Error($(151));for(var U=B=null,S=E,_=E=0,x=null,w=b.next();S!==null&&!w.done;_++,w=b.next()){S.index>_?(x=S,S=null):x=S.sibling;var k=y(A,S,w.value,O);if(k===null){S===null&&(S=x);break}t&&S&&k.alternate===null&&e(A,S),E=s(k,E,_),U===null?B=k:U.sibling=k,U=k,S=x}if(w.done)return n(A,S),Pe&&ai(A,_),B;if(S===null){for(;!w.done;_++,w=b.next())w=m(A,w.value,O),w!==null&&(E=s(w,E,_),U===null?B=w:U.sibling=w,U=w);return Pe&&ai(A,_),B}for(S=r(A,S);!w.done;_++,w=b.next())w=R(S,A,_,w.value,O),w!==null&&(t&&w.alternate!==null&&S.delete(w.key===null?_:w.key),E=s(w,E,_),U===null?B=w:U.sibling=w,U=w);return t&&S.forEach(function(N){return e(A,N)}),Pe&&ai(A,_),B}function F(A,E,b,O){if(typeof b=="object"&&b!==null&&b.type===qi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qa:e:{for(var B=b.key,U=E;U!==null;){if(U.key===B){if(B=b.type,B===qi){if(U.tag===7){n(A,U.sibling),E=i(U,b.props.children),E.return=A,A=E;break e}}else if(U.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===fr&&tg(B)===U.type){n(A,U.sibling),E=i(U,b.props),E.ref=so(A,U,b),E.return=A,A=E;break e}n(A,U);break}else e(A,U);U=U.sibling}b.type===qi?(E=mi(b.props.children,A.mode,O,b.key),E.return=A,A=E):(O=bl(b.type,b.key,b.props,null,A.mode,O),O.ref=so(A,E,b),O.return=A,A=O)}return o(A);case $i:e:{for(U=b.key;E!==null;){if(E.key===U)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(A,E.sibling),E=i(E,b.children||[]),E.return=A,A=E;break e}else{n(A,E);break}else e(A,E);E=E.sibling}E=rd(b,A.mode,O),E.return=A,A=E}return o(A);case fr:return U=b._init,F(A,E,U(b._payload),O)}if(co(b))return P(A,E,b,O);if(eo(b))return V(A,E,b,O);ol(A,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(A,E.sibling),E=i(E,b),E.return=A,A=E):(n(A,E),E=nd(b,A.mode,O),E.return=A,A=E),o(A)):n(A,E)}return F}var _s=vv(!0),_v=vv(!1),Zl=Gr(null),ec=null,Zi=null,hf=null;function ff(){hf=Zi=ec=null}function pf(t){var e=Zl.current;ke(Zl),t._currentValue=e}function Qd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cs(t,e){ec=t,hf=Zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(hf!==t)if(t={context:t,memoizedValue:e,next:null},Zi===null){if(ec===null)throw Error($(308));Zi=t,ec.dependencies={lanes:0,firstContext:t}}else Zi=Zi.next=t;return e}var di=null;function mf(t){di===null?di=[t]:di.push(t)}function wv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qn(t,n)}return i=r.interleaved,i===null?(e.next=e,mf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qn(t,n)}function xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ef(t,n)}}function ng(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tc(t,e,n,r){var i=t.updateQueue;pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,p=h=u=null,l=s;do{var y=l.lane,R=l.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,V=l;switch(y=e,R=n,V.tag){case 1:if(P=V.payload,typeof P=="function"){m=P.call(R,m,y);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=V.payload,y=typeof P=="function"?P.call(R,m,y):P,y==null)break e;m=Ve({},m,y);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else R={eventTime:R,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=R,u=m):p=p.next=R,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=m}}function rg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var ua={},Cn=Gr(ua),qo=Gr(ua),Ho=Gr(ua);function hi(t){if(t===ua)throw Error($(174));return t}function yf(t,e){switch(Ie(Ho,e),Ie(qo,t),Ie(Cn,ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kd(e,t)}ke(Cn),Ie(Cn,e)}function ws(){ke(Cn),ke(qo),ke(Ho)}function xv(t){hi(Ho.current);var e=hi(Cn.current),n=kd(e,t.type);e!==n&&(Ie(qo,t),Ie(Cn,n))}function vf(t){qo.current===t&&(ke(Cn),ke(qo))}var De=Gr(0);function nc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yu=[];function _f(){for(var t=0;t<Yu.length;t++)Yu[t]._workInProgressVersionPrimary=null;Yu.length=0}var Sl=tr.ReactCurrentDispatcher,Ju=tr.ReactCurrentBatchConfig,vi=0,je=null,Je=null,rt=null,rc=!1,So=!1,Go=0,vS=0;function _t(){throw Error($(321))}function wf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vn(t[n],e[n]))return!1;return!0}function Ef(t,e,n,r,i,s){if(vi=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sl.current=t===null||t.memoizedState===null?xS:SS,t=n(r,i),So){s=0;do{if(So=!1,Go=0,25<=s)throw Error($(301));s+=1,rt=Je=null,e.updateQueue=null,Sl.current=TS,t=n(r,i)}while(So)}if(Sl.current=ic,e=Je!==null&&Je.next!==null,vi=0,rt=Je=je=null,rc=!1,e)throw Error($(300));return t}function xf(){var t=Go!==0;return Go=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?je.memoizedState=rt=t:rt=rt.next=t,rt}function on(){if(Je===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=rt===null?je.memoizedState:rt.next;if(e!==null)rt=e,Je=t;else{if(t===null)throw Error($(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},rt===null?je.memoizedState=rt=t:rt=rt.next=t}return rt}function Ko(t,e){return typeof e=="function"?e(t):e}function Xu(t){var e=on(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var p=h.lane;if((vi&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,je.lanes|=p,_i|=p}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,vn(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,_i|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zu(t){var e=on(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vn(s,e.memoizedState)||(Ot=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sv(){}function Tv(t,e){var n=je,r=on(),i=e(),s=!vn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ot=!0),r=r.queue,Sf(Cv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Qo(9,Av.bind(null,n,r,i,e),void 0,null),st===null)throw Error($(349));vi&30||Iv(n,e,i)}return i}function Iv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Av(t,e,n,r){e.value=n,e.getSnapshot=r,bv(e)&&kv(t)}function Cv(t,e,n){return n(function(){bv(e)&&kv(t)})}function bv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vn(t,n)}catch{return!0}}function kv(t){var e=Qn(t,1);e!==null&&mn(e,t,1,-1)}function ig(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:t},e.queue=t,t=t.dispatch=ES.bind(null,je,t),[e.memoizedState,t]}function Qo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Rv(){return on().memoizedState}function Tl(t,e,n,r){var i=Sn();je.flags|=t,i.memoizedState=Qo(1|e,n,void 0,r===void 0?null:r)}function Mc(t,e,n,r){var i=on();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&wf(r,o.deps)){i.memoizedState=Qo(e,n,s,r);return}}je.flags|=t,i.memoizedState=Qo(1|e,n,s,r)}function sg(t,e){return Tl(8390656,8,t,e)}function Sf(t,e){return Mc(2048,8,t,e)}function Pv(t,e){return Mc(4,2,t,e)}function Dv(t,e){return Mc(4,4,t,e)}function Nv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jv(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4,4,Nv.bind(null,e,t),n)}function Tf(){}function Vv(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lv(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ov(t,e,n){return vi&21?(vn(n,e)||(n=B0(),je.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function _S(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Ju.transition;Ju.transition={};try{t(!1),e()}finally{ve=n,Ju.transition=r}}function Mv(){return on().memoizedState}function wS(t,e,n){var r=Rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fv(t))zv(e,n);else if(n=wv(t,e,n,r),n!==null){var i=Rt();mn(n,t,r,i),Uv(n,e,r)}}function ES(t,e,n){var r=Rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fv(t))zv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,vn(l,o)){var u=e.interleaved;u===null?(i.next=i,mf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=wv(t,e,i,r),n!==null&&(i=Rt(),mn(n,t,r,i),Uv(n,e,r))}}function Fv(t){var e=t.alternate;return t===je||e!==null&&e===je}function zv(t,e){So=rc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ef(t,n)}}var ic={readContext:sn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},xS={readContext:sn,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:sg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tl(4194308,4,Nv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tl(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wS.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:ig,useDebugValue:Tf,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=ig(!1),e=t[0];return t=_S.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=Sn();if(Pe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),st===null)throw Error($(349));vi&30||Iv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sg(Cv.bind(null,r,s,t),[t]),r.flags|=2048,Qo(9,Av.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Sn(),e=st.identifierPrefix;if(Pe){var n=zn,r=Fn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Go++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SS={readContext:sn,useCallback:Vv,useContext:sn,useEffect:Sf,useImperativeHandle:jv,useInsertionEffect:Pv,useLayoutEffect:Dv,useMemo:Lv,useReducer:Xu,useRef:Rv,useState:function(){return Xu(Ko)},useDebugValue:Tf,useDeferredValue:function(t){var e=on();return Ov(e,Je.memoizedState,t)},useTransition:function(){var t=Xu(Ko)[0],e=on().memoizedState;return[t,e]},useMutableSource:Sv,useSyncExternalStore:Tv,useId:Mv,unstable_isNewReconciler:!1},TS={readContext:sn,useCallback:Vv,useContext:sn,useEffect:Sf,useImperativeHandle:jv,useInsertionEffect:Pv,useLayoutEffect:Dv,useMemo:Lv,useReducer:Zu,useRef:Rv,useState:function(){return Zu(Ko)},useDebugValue:Tf,useDeferredValue:function(t){var e=on();return Je===null?e.memoizedState=t:Ov(e,Je.memoizedState,t)},useTransition:function(){var t=Zu(Ko)[0],e=on().memoizedState;return[t,e]},useMutableSource:Sv,useSyncExternalStore:Tv,useId:Mv,unstable_isNewReconciler:!1};function un(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fc={isMounted:function(t){return(t=t._reactInternals)?ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Rr(t),s=Wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(mn(e,t,i,r),xl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Rr(t),s=Wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(mn(e,t,i,r),xl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Rr(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=br(t,i,r),e!==null&&(mn(e,t,r,n),xl(e,t,r))}};function og(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uo(n,r)||!Uo(i,s):!0}function Bv(t,e,n){var r=!1,i=Fr,s=e.contextType;return typeof s=="object"&&s!==null?s=sn(s):(i=Ft(e)?gi:It.current,r=e.contextTypes,s=(r=r!=null)?ys(t,i):Fr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ag(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fc.enqueueReplaceState(e,e.state,null)}function Jd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sn(s):(s=Ft(e)?gi:It.current,i.context=ys(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fc.enqueueReplaceState(i,i.state,null),tc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,e){try{var n="",r=e;do n+=XE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ed(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IS=typeof WeakMap=="function"?WeakMap:Map;function Wv(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){oc||(oc=!0,lh=r),Xd(t,e)},n}function $v(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xd(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FS.bind(null,t,e,n),e.then(t,t))}function cg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ug(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var AS=tr.ReactCurrentOwner,Ot=!1;function kt(t,e,n,r){e.child=t===null?_v(e,null,n,r):_s(e,t.child,n,r)}function dg(t,e,n,r,i){n=n.render;var s=e.ref;return cs(e,i),r=Ef(t,e,n,r,s,i),n=xf(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):(Pe&&n&&cf(e),e.flags|=1,kt(t,e,r,i),e.child)}function hg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Df(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qv(t,e,s,r,i)):(t=bl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Uo,n(o,r)&&t.ref===e.ref)return Yn(t,e,i)}return e.flags|=1,t=Pr(s,r),t.ref=e.ref,t.return=e,e.child=t}function qv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Uo(s,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,Yn(t,e,i)}return Zd(t,e,n,r,i)}function Hv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ts,Wt),Wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(ts,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(ts,Wt),Wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(ts,Wt),Wt|=r;return kt(t,e,i,n),e.child}function Gv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zd(t,e,n,r,i){var s=Ft(n)?gi:It.current;return s=ys(e,s),cs(e,i),n=Ef(t,e,n,r,s,i),r=xf(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yn(t,e,i)):(Pe&&r&&cf(e),e.flags|=1,kt(t,e,n,i),e.child)}function fg(t,e,n,r,i){if(Ft(n)){var s=!0;Yl(e)}else s=!1;if(cs(e,i),e.stateNode===null)Il(t,e),Bv(e,n,r),Jd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=sn(h):(h=Ft(n)?gi:It.current,h=ys(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&ag(e,o,r,h),pr=!1;var y=e.memoizedState;o.state=y,tc(e,r,o,i),u=e.memoizedState,l!==r||y!==u||Mt.current||pr?(typeof p=="function"&&(Yd(e,n,p,r),u=e.memoizedState),(l=pr||og(e,n,l,r,y,u,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ev(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:un(e.type,l),o.props=h,m=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=sn(u):(u=Ft(n)?gi:It.current,u=ys(e,u));var R=n.getDerivedStateFromProps;(p=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==u)&&ag(e,o,r,u),pr=!1,y=e.memoizedState,o.state=y,tc(e,r,o,i);var P=e.memoizedState;l!==m||y!==P||Mt.current||pr?(typeof R=="function"&&(Yd(e,n,R,r),P=e.memoizedState),(h=pr||og(e,n,h,r,y,P,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return eh(t,e,n,r,s,i)}function eh(t,e,n,r,i,s){Gv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xm(e,n,!1),Yn(t,e,s);r=e.stateNode,AS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_s(e,t.child,null,s),e.child=_s(e,null,l,s)):kt(t,e,l,s),e.memoizedState=r.state,i&&Xm(e,n,!0),e.child}function Kv(t){var e=t.stateNode;e.pendingContext?Jm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jm(t,e.context,!1),yf(t,e.containerInfo)}function pg(t,e,n,r,i){return vs(),df(i),e.flags|=256,kt(t,e,n,r),e.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qv(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(De,i&1),t===null)return Kd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bc(o,r,0,null),t=mi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nh(n),e.memoizedState=th,t):If(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return CS(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Pr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Pr(l,s):(s=mi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?nh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=th,r}return s=t.child,t=s.sibling,r=Pr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function If(t,e){return e=Bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function al(t,e,n,r){return r!==null&&df(r),_s(e,t.child,null,n),t=If(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CS(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ed(Error($(422))),al(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bc({mode:"visible",children:r.children},i,0,null),s=mi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_s(e,t.child,null,o),e.child.memoizedState=nh(o),e.memoizedState=th,s);if(!(e.mode&1))return al(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=ed(s,r,void 0),al(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ot||l){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qn(t,i),mn(r,t,i,-1))}return Pf(),r=ed(Error($(421))),al(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Cr(i.nextSibling),Gt=e,Pe=!0,hn=null,t!==null&&(Jt[Xt++]=Fn,Jt[Xt++]=zn,Jt[Xt++]=yi,Fn=t.id,zn=t.overflow,yi=e),e=If(e,r.children),e.flags|=4096,e)}function mg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qd(t.return,e,n)}function td(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mg(t,n,e);else if(t.tag===19)mg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),td(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}td(e,!0,n,null,s);break;case"together":td(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Il(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bS(t,e,n){switch(e.tag){case 3:Kv(e),vs();break;case 5:xv(e);break;case 1:Ft(e.type)&&Yl(e);break;case 4:yf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(Zl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?Qv(t,e,n):(Ie(De,De.current&1),t=Yn(t,e,n),t!==null?t.sibling:null);Ie(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,Hv(t,e,n)}return Yn(t,e,n)}var Jv,rh,Xv,Zv;Jv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rh=function(){};Xv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hi(Cn.current);var s=null;switch(n){case"input":i=Id(t,i),r=Id(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=bd(t,i),r=bd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kl)}Rd(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(jo.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(jo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&be("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Zv=function(t,e,n,r){n!==r&&(e.flags|=4)};function oo(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kS(t,e,n){var r=e.pendingProps;switch(uf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Ft(e.type)&&Ql(),wt(e),null;case 3:return r=e.stateNode,ws(),ke(Mt),ke(It),_f(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(dh(hn),hn=null))),rh(t,e),wt(e),null;case 5:vf(e);var i=hi(Ho.current);if(n=e.type,t!==null&&e.stateNode!=null)Xv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return wt(e),null}if(t=hi(Cn.current),sl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[In]=e,r[$o]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<ho.length;i++)be(ho[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Tm(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":Am(r,s),be("invalid",r)}Rd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&il(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&il(r.textContent,l,t),i=["children",""+l]):jo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Ya(r),Im(r,s,!0);break;case"textarea":Ya(r),Cm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[In]=e,t[$o]=r,Jv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pd(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<ho.length;i++)be(ho[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":Tm(t,r),i=Id(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),be("invalid",t);break;case"textarea":Am(t,r),i=bd(t,r),be("invalid",t);break;default:i=r}Rd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?R0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&b0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Vo(t,u):typeof u=="number"&&Vo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&be("scroll",t):u!=null&&Kh(t,s,u,o))}switch(n){case"input":Ya(t),Im(t,r,!1);break;case"textarea":Ya(t),Cm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ss(t,!!r.multiple,s,!1):r.defaultValue!=null&&ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)Zv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=hi(Ho.current),hi(Cn.current),sl(e)){if(r=e.stateNode,n=e.memoizedProps,r[In]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:il(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=e,e.stateNode=r}return wt(e),null;case 13:if(ke(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&qt!==null&&e.mode&1&&!(e.flags&128))yv(),vs(),e.flags|=98560,s=!1;else if(s=sl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[In]=e}else vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else hn!==null&&(dh(hn),hn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Xe===0&&(Xe=3):Pf())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return ws(),rh(t,e),t===null&&Bo(e.stateNode.containerInfo),wt(e),null;case 10:return pf(e.type._context),wt(e),null;case 17:return Ft(e.type)&&Ql(),wt(e),null;case 19:if(ke(De),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)oo(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nc(t),o!==null){for(e.flags|=128,oo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>xs&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304)}else{if(!r)if(t=nc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return wt(e),null}else 2*We()-s.renderingStartTime>xs&&n!==1073741824&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=De.current,Ie(De,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Rf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function RS(t,e){switch(uf(e),e.tag){case 1:return Ft(e.type)&&Ql(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ws(),ke(Mt),ke(It),_f(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vf(e),null;case 13:if(ke(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(De),null;case 4:return ws(),null;case 10:return pf(e.type._context),null;case 22:case 23:return Rf(),null;case 24:return null;default:return null}}var ll=!1,St=!1,PS=typeof WeakSet=="function"?WeakSet:Set,Q=null;function es(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function ih(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var gg=!1;function DS(t,e){if(Ud=ql,t=iv(),lf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,p=0,m=t,y=null;t:for(;;){for(var R;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(R=m.firstChild)!==null;)y=m,m=R;for(;;){if(m===t)break t;if(y===n&&++h===i&&(l=o),y===s&&++p===r&&(u=o),(R=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=R}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bd={focusedElem:t,selectionRange:n},ql=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var V=P.memoizedProps,F=P.memoizedState,A=e.stateNode,E=A.getSnapshotBeforeUpdate(e.elementType===e.type?V:un(e.type,V),F);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(O){Ue(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return P=gg,gg=!1,P}function To(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ih(e,n,s)}i=i.next}while(i!==r)}}function zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e_(t){var e=t.alternate;e!==null&&(t.alternate=null,e_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[$o],delete e[qd],delete e[pS],delete e[mS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t_(t){return t.tag===5||t.tag===3||t.tag===4}function yg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kl));else if(r!==4&&(t=t.child,t!==null))for(oh(t,e,n),t=t.sibling;t!==null;)oh(t,e,n),t=t.sibling}function ah(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ah(t,e,n),t=t.sibling;t!==null;)ah(t,e,n),t=t.sibling}var dt=null,dn=!1;function dr(t,e,n){for(n=n.child;n!==null;)n_(t,e,n),n=n.sibling}function n_(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Dc,n)}catch{}switch(n.tag){case 5:St||es(n,e);case 6:var r=dt,i=dn;dt=null,dr(t,e,n),dt=r,dn=i,dt!==null&&(dn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(dn?(t=dt,n=n.stateNode,t.nodeType===8?Ku(t.parentNode,n):t.nodeType===1&&Ku(t,n),Fo(t)):Ku(dt,n.stateNode));break;case 4:r=dt,i=dn,dt=n.stateNode.containerInfo,dn=!0,dr(t,e,n),dt=r,dn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ih(n,e,o),i=i.next}while(i!==r)}dr(t,e,n);break;case 1:if(!St&&(es(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,e,l)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,dr(t,e,n),St=r):dr(t,e,n);break;default:dr(t,e,n)}}function vg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PS),e.forEach(function(r){var i=US.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,dn=!1;break e;case 3:dt=l.stateNode.containerInfo,dn=!0;break e;case 4:dt=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(dt===null)throw Error($(160));n_(s,o,i),dt=null,dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Ue(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r_(e,t),e=e.sibling}function r_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),xn(t),r&4){try{To(3,t,t.return),zc(3,t)}catch(V){Ue(t,t.return,V)}try{To(5,t,t.return)}catch(V){Ue(t,t.return,V)}}break;case 1:cn(e,t),xn(t),r&512&&n!==null&&es(n,n.return);break;case 5:if(cn(e,t),xn(t),r&512&&n!==null&&es(n,n.return),t.flags&32){var i=t.stateNode;try{Vo(i,"")}catch(V){Ue(t,t.return,V)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&I0(i,s),Pd(l,o);var h=Pd(l,s);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?R0(i,m):p==="dangerouslySetInnerHTML"?b0(i,m):p==="children"?Vo(i,m):Kh(i,p,m,h)}switch(l){case"input":Ad(i,s);break;case"textarea":A0(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var R=s.value;R!=null?ss(i,!!s.multiple,R,!1):y!==!!s.multiple&&(s.defaultValue!=null?ss(i,!!s.multiple,s.defaultValue,!0):ss(i,!!s.multiple,s.multiple?[]:"",!1))}i[$o]=s}catch(V){Ue(t,t.return,V)}}break;case 6:if(cn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(V){Ue(t,t.return,V)}}break;case 3:if(cn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fo(e.containerInfo)}catch(V){Ue(t,t.return,V)}break;case 4:cn(e,t),xn(t);break;case 13:cn(e,t),xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bf=We())),r&4&&vg(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(St=(h=St)||p,cn(e,t),St=h):cn(e,t),xn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(Q=t,p=t.child;p!==null;){for(m=Q=p;Q!==null;){switch(y=Q,R=y.child,y.tag){case 0:case 11:case 14:case 15:To(4,y,y.return);break;case 1:es(y,y.return);var P=y.stateNode;if(typeof P.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(V){Ue(r,n,V)}}break;case 5:es(y,y.return);break;case 22:if(y.memoizedState!==null){wg(m);continue}}R!==null?(R.return=y,Q=R):wg(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=k0("display",o))}catch(V){Ue(t,t.return,V)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(V){Ue(t,t.return,V)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:cn(e,t),xn(t),r&4&&vg(t);break;case 21:break;default:cn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t_(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vo(i,""),r.flags&=-33);var s=yg(t);ah(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=yg(t);oh(t,l,o);break;default:throw Error($(161))}}catch(u){Ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NS(t,e,n){Q=t,i_(t)}function i_(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ll;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||St;l=ll;var h=St;if(ll=o,(St=u)&&!h)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?Eg(i):u!==null?(u.return=o,Q=u):Eg(i);for(;s!==null;)Q=s,i_(s),s=s.sibling;Q=i,ll=l,St=h}_g(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):_g(t)}}function _g(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||zc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rg(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Fo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}St||e.flags&512&&sh(e)}catch(y){Ue(e,e.return,y)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function wg(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Eg(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zc(4,e)}catch(u){Ue(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ue(e,i,u)}}var s=e.return;try{sh(e)}catch(u){Ue(e,s,u)}break;case 5:var o=e.return;try{sh(e)}catch(u){Ue(e,o,u)}}}catch(u){Ue(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var jS=Math.ceil,sc=tr.ReactCurrentDispatcher,Af=tr.ReactCurrentOwner,nn=tr.ReactCurrentBatchConfig,pe=0,st=null,He=null,pt=0,Wt=0,ts=Gr(0),Xe=0,Yo=null,_i=0,Uc=0,Cf=0,Io=null,Vt=null,bf=0,xs=1/0,On=null,oc=!1,lh=null,kr=null,cl=!1,xr=null,ac=0,Ao=0,ch=null,Al=-1,Cl=0;function Rt(){return pe&6?We():Al!==-1?Al:Al=We()}function Rr(t){return t.mode&1?pe&2&&pt!==0?pt&-pt:yS.transition!==null?(Cl===0&&(Cl=B0()),Cl):(t=ve,t!==0||(t=window.event,t=t===void 0?16:Q0(t.type)),t):1}function mn(t,e,n,r){if(50<Ao)throw Ao=0,ch=null,Error($(185));aa(t,n,r),(!(pe&2)||t!==st)&&(t===st&&(!(pe&2)&&(Uc|=n),Xe===4&&gr(t,pt)),zt(t,r),n===1&&pe===0&&!(e.mode&1)&&(xs=We()+500,Oc&&Kr()))}function zt(t,e){var n=t.callbackNode;yx(t,e);var r=$l(t,t===st?pt:0);if(r===0)n!==null&&Rm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rm(n),e===1)t.tag===0?gS(xg.bind(null,t)):pv(xg.bind(null,t)),hS(function(){!(pe&6)&&Kr()}),n=null;else{switch(W0(r)){case 1:n=Zh;break;case 4:n=z0;break;case 16:n=Wl;break;case 536870912:n=U0;break;default:n=Wl}n=h_(n,s_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s_(t,e){if(Al=-1,Cl=0,pe&6)throw Error($(327));var n=t.callbackNode;if(us()&&t.callbackNode!==n)return null;var r=$l(t,t===st?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lc(t,r);else{e=r;var i=pe;pe|=2;var s=a_();(st!==t||pt!==e)&&(On=null,xs=We()+500,pi(t,e));do try{OS();break}catch(l){o_(t,l)}while(!0);ff(),sc.current=s,pe=i,He!==null?e=0:(st=null,pt=0,e=Xe)}if(e!==0){if(e===2&&(i=Ld(t),i!==0&&(r=i,e=uh(t,i))),e===1)throw n=Yo,pi(t,0),gr(t,r),zt(t,We()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!VS(i)&&(e=lc(t,r),e===2&&(s=Ld(t),s!==0&&(r=s,e=uh(t,s))),e===1))throw n=Yo,pi(t,0),gr(t,r),zt(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:li(t,Vt,On);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=bf+500-We(),10<e)){if($l(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$d(li.bind(null,t,Vt,On),e);break}li(t,Vt,On);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jS(r/1960))-r,10<r){t.timeoutHandle=$d(li.bind(null,t,Vt,On),r);break}li(t,Vt,On);break;case 5:li(t,Vt,On);break;default:throw Error($(329))}}}return zt(t,We()),t.callbackNode===n?s_.bind(null,t):null}function uh(t,e){var n=Io;return t.current.memoizedState.isDehydrated&&(pi(t,e).flags|=256),t=lc(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&dh(e)),t}function dh(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function VS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~Cf,e&=~Uc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function xg(t){if(pe&6)throw Error($(327));us();var e=$l(t,0);if(!(e&1))return zt(t,We()),null;var n=lc(t,e);if(t.tag!==0&&n===2){var r=Ld(t);r!==0&&(e=r,n=uh(t,r))}if(n===1)throw n=Yo,pi(t,0),gr(t,e),zt(t,We()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,Vt,On),zt(t,We()),null}function kf(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(xs=We()+500,Oc&&Kr())}}function wi(t){xr!==null&&xr.tag===0&&!(pe&6)&&us();var e=pe;pe|=1;var n=nn.transition,r=ve;try{if(nn.transition=null,ve=1,t)return t()}finally{ve=r,nn.transition=n,pe=e,!(pe&6)&&Kr()}}function Rf(){Wt=ts.current,ke(ts)}function pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dS(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(uf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ql();break;case 3:ws(),ke(Mt),ke(It),_f();break;case 5:vf(r);break;case 4:ws();break;case 13:ke(De);break;case 19:ke(De);break;case 10:pf(r.type._context);break;case 22:case 23:Rf()}n=n.return}if(st=t,He=t=Pr(t.current,null),pt=Wt=e,Xe=0,Yo=null,Cf=Uc=_i=0,Vt=Io=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}di=null}return t}function o_(t,e){do{var n=He;try{if(ff(),Sl.current=ic,rc){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rc=!1}if(vi=0,rt=Je=je=null,So=!1,Go=0,Af.current=null,n===null||n.return===null){Xe=1,Yo=e,He=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=pt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var R=cg(o);if(R!==null){R.flags&=-257,ug(R,o,l,s,e),R.mode&1&&lg(s,h,e),e=R,u=h;var P=e.updateQueue;if(P===null){var V=new Set;V.add(u),e.updateQueue=V}else P.add(u);break e}else{if(!(e&1)){lg(s,h,e),Pf();break e}u=Error($(426))}}else if(Pe&&l.mode&1){var F=cg(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),ug(F,o,l,s,e),df(Es(u,l));break e}}s=u=Es(u,l),Xe!==4&&(Xe=2),Io===null?Io=[s]:Io.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=Wv(s,u,e);ng(s,A);break e;case 1:l=u;var E=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kr===null||!kr.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=$v(s,l,e);ng(s,O);break e}}s=s.return}while(s!==null)}c_(n)}catch(B){e=B,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function a_(){var t=sc.current;return sc.current=ic,t===null?ic:t}function Pf(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),st===null||!(_i&268435455)&&!(Uc&268435455)||gr(st,pt)}function lc(t,e){var n=pe;pe|=2;var r=a_();(st!==t||pt!==e)&&(On=null,pi(t,e));do try{LS();break}catch(i){o_(t,i)}while(!0);if(ff(),pe=n,sc.current=r,He!==null)throw Error($(261));return st=null,pt=0,Xe}function LS(){for(;He!==null;)l_(He)}function OS(){for(;He!==null&&!lx();)l_(He)}function l_(t){var e=d_(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?c_(t):He=e,Af.current=null}function c_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RS(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,He=null;return}}else if(n=kS(n,e,Wt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Xe===0&&(Xe=5)}function li(t,e,n){var r=ve,i=nn.transition;try{nn.transition=null,ve=1,MS(t,e,n,r)}finally{nn.transition=i,ve=r}return null}function MS(t,e,n,r){do us();while(xr!==null);if(pe&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vx(t,s),t===st&&(He=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,h_(Wl,function(){return us(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nn.transition,nn.transition=null;var o=ve;ve=1;var l=pe;pe|=4,Af.current=null,DS(t,n),r_(n,t),iS(Bd),ql=!!Ud,Bd=Ud=null,t.current=n,NS(n),cx(),pe=l,ve=o,nn.transition=s}else t.current=n;if(cl&&(cl=!1,xr=t,ac=i),s=t.pendingLanes,s===0&&(kr=null),hx(n.stateNode),zt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oc)throw oc=!1,t=lh,lh=null,t;return ac&1&&t.tag!==0&&us(),s=t.pendingLanes,s&1?t===ch?Ao++:(Ao=0,ch=t):Ao=0,Kr(),null}function us(){if(xr!==null){var t=W0(ac),e=nn.transition,n=ve;try{if(nn.transition=null,ve=16>t?16:t,xr===null)var r=!1;else{if(t=xr,xr=null,ac=0,pe&6)throw Error($(331));var i=pe;for(pe|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Q=h;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:To(8,p,s)}var m=p.child;if(m!==null)m.return=p,Q=m;else for(;Q!==null;){p=Q;var y=p.sibling,R=p.return;if(e_(p),p===h){Q=null;break}if(y!==null){y.return=R,Q=y;break}Q=R}}}var P=s.alternate;if(P!==null){var V=P.child;if(V!==null){P.child=null;do{var F=V.sibling;V.sibling=null,V=F}while(V!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:To(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,Q=A;break e}Q=s.return}}var E=t.current;for(Q=E;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=E;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zc(9,l)}}catch(B){Ue(l,l.return,B)}if(l===o){Q=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,Q=O;break e}Q=l.return}}if(pe=i,Kr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Dc,t)}catch{}r=!0}return r}finally{ve=n,nn.transition=e}}return!1}function Sg(t,e,n){e=Es(n,e),e=Wv(t,e,1),t=br(t,e,1),e=Rt(),t!==null&&(aa(t,1,e),zt(t,e))}function Ue(t,e,n){if(t.tag===3)Sg(t,t,n);else for(;e!==null;){if(e.tag===3){Sg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=Es(n,t),t=$v(e,t,1),e=br(e,t,1),t=Rt(),e!==null&&(aa(e,1,t),zt(e,t));break}}e=e.return}}function FS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(pt&n)===n&&(Xe===4||Xe===3&&(pt&130023424)===pt&&500>We()-bf?pi(t,0):Cf|=n),zt(t,e)}function u_(t,e){e===0&&(t.mode&1?(e=Za,Za<<=1,!(Za&130023424)&&(Za=4194304)):e=1);var n=Rt();t=Qn(t,e),t!==null&&(aa(t,e,n),zt(t,n))}function zS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u_(t,n)}function US(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),u_(t,n)}var d_;d_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,bS(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Pe&&e.flags&1048576&&mv(e,Xl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Il(t,e),t=e.pendingProps;var i=ys(e,It.current);cs(e,n),i=Ef(null,e,r,t,i,n);var s=xf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,Yl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gf(e),i.updater=Fc,e.stateNode=i,i._reactInternals=e,Jd(e,r,t,n),e=eh(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&cf(e),kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Il(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WS(r),t=un(r,t),i){case 0:e=Zd(null,e,r,t,n);break e;case 1:e=fg(null,e,r,t,n);break e;case 11:e=dg(null,e,r,t,n);break e;case 14:e=hg(null,e,r,un(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Zd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),fg(t,e,r,i,n);case 3:e:{if(Kv(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ev(t,e),tc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Es(Error($(423)),e),e=pg(t,e,r,n,i);break e}else if(r!==i){i=Es(Error($(424)),e),e=pg(t,e,r,n,i);break e}else for(qt=Cr(e.stateNode.containerInfo.firstChild),Gt=e,Pe=!0,hn=null,n=_v(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vs(),r===i){e=Yn(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return xv(e),t===null&&Kd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wd(r,i)?o=null:s!==null&&Wd(r,s)&&(e.flags|=32),Gv(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&Kd(e),null;case 13:return Qv(t,e,n);case 4:return yf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_s(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),dg(t,e,r,i,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(Zl,r._currentValue),r._currentValue=o,s!==null)if(vn(s.value,o)){if(s.children===i.children&&!Mt.current){e=Yn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Wn(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Qd(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cs(e,n),i=sn(i),r=r(i),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,i=un(r,e.pendingProps),i=un(r.type,i),hg(t,e,r,i,n);case 15:return qv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Il(t,e),e.tag=1,Ft(r)?(t=!0,Yl(e)):t=!1,cs(e,n),Bv(e,r,i),Jd(e,r,i,n),eh(null,e,r,!0,t,n);case 19:return Yv(t,e,n);case 22:return Hv(t,e,n)}throw Error($(156,e.tag))};function h_(t,e){return F0(t,e)}function BS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new BS(t,e,n,r)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WS(t){if(typeof t=="function")return Df(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yh)return 11;if(t===Jh)return 14}return 2}function Pr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Df(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qi:return mi(n.children,i,s,e);case Qh:o=8,i|=8;break;case Ed:return t=tn(12,n,e,i|2),t.elementType=Ed,t.lanes=s,t;case xd:return t=tn(13,n,e,i),t.elementType=xd,t.lanes=s,t;case Sd:return t=tn(19,n,e,i),t.elementType=Sd,t.lanes=s,t;case x0:return Bc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w0:o=10;break e;case E0:o=9;break e;case Yh:o=11;break e;case Jh:o=14;break e;case fr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=tn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function mi(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function Bc(t,e,n,r){return t=tn(22,t,r,e),t.elementType=x0,t.lanes=n,t.stateNode={isHidden:!1},t}function nd(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function rd(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $S(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ou(0),this.expirationTimes=Ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nf(t,e,n,r,i,s,o,l,u){return t=new $S(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(s),t}function qS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f_(t){if(!t)return Fr;t=t._reactInternals;e:{if(ki(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ft(n))return fv(t,n,e)}return e}function p_(t,e,n,r,i,s,o,l,u){return t=Nf(n,r,!0,t,i,s,o,l,u),t.context=f_(null),n=t.current,r=Rt(),i=Rr(n),s=Wn(r,i),s.callback=e??null,br(n,s,i),t.current.lanes=i,aa(t,i,r),zt(t,r),t}function Wc(t,e,n,r){var i=e.current,s=Rt(),o=Rr(i);return n=f_(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(i,e,o),t!==null&&(mn(t,i,o,s),xl(t,i,o)),o}function cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jf(t,e){Tg(t,e),(t=t.alternate)&&Tg(t,e)}function HS(){return null}var m_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vf(t){this._internalRoot=t}$c.prototype.render=Vf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Wc(t,e,null,null)};$c.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wi(function(){Wc(null,t,null,null)}),e[Kn]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=H0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&K0(t)}};function Lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function GS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=cc(o);s.call(h)}}var o=p_(e,r,t,0,null,!1,!1,"",Ig);return t._reactRootContainer=o,t[Kn]=o.current,Bo(t.nodeType===8?t.parentNode:t),wi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=cc(u);l.call(h)}}var u=Nf(t,0,!1,null,null,!1,!1,"",Ig);return t._reactRootContainer=u,t[Kn]=u.current,Bo(t.nodeType===8?t.parentNode:t),wi(function(){Wc(e,u,n,r)}),u}function Hc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=cc(o);l.call(u)}}Wc(e,o,t,i)}else o=GS(n,e,t,i,r);return cc(o)}$0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uo(e.pendingLanes);n!==0&&(ef(e,n|1),zt(e,We()),!(pe&6)&&(xs=We()+500,Kr()))}break;case 13:wi(function(){var r=Qn(t,1);if(r!==null){var i=Rt();mn(r,t,1,i)}}),jf(t,1)}};tf=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=Rt();mn(e,t,134217728,n)}jf(t,134217728)}};q0=function(t){if(t.tag===13){var e=Rr(t),n=Qn(t,e);if(n!==null){var r=Rt();mn(n,t,e,r)}jf(t,e)}};H0=function(){return ve};G0=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Nd=function(t,e,n){switch(e){case"input":if(Ad(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lc(r);if(!i)throw Error($(90));T0(r),Ad(r,i)}}}break;case"textarea":A0(t,n);break;case"select":e=n.value,e!=null&&ss(t,!!n.multiple,e,!1)}};N0=kf;j0=wi;var KS={usingClientEntryPoint:!1,Events:[ca,Qi,Lc,P0,D0,kf]},ao={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QS={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O0(t),t===null?null:t.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||HS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Dc=ul.inject(QS),An=ul}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lf(e))throw Error($(200));return qS(t,e,null,n)};Qt.createRoot=function(t,e){if(!Lf(t))throw Error($(299));var n=!1,r="",i=m_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nf(t,1,!1,null,null,n,!1,r,i),t[Kn]=e.current,Bo(t.nodeType===8?t.parentNode:t),new Vf(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=O0(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return wi(t)};Qt.hydrate=function(t,e,n){if(!qc(e))throw Error($(200));return Hc(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!Lf(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=m_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=p_(e,null,t,1,n??null,i,!1,s,o),t[Kn]=e.current,Bo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $c(e)};Qt.render=function(t,e,n){if(!qc(e))throw Error($(200));return Hc(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!qc(t))throw Error($(40));return t._reactRootContainer?(wi(function(){Hc(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};Qt.unstable_batchedUpdates=kf;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Hc(t,e,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function g_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g_)}catch(t){console.error(t)}}g_(),g0.exports=Qt;var YS=g0.exports,Ag=YS;_d.createRoot=Ag.createRoot,_d.hydrateRoot=Ag.hydrateRoot;const JS="modulepreload",XS=function(t){return"/"+t},Cg={},id=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=XS(u),u in Cg)return;Cg[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":JS,h||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((y,R)=>{m.addEventListener("load",y),m.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};class da{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const ZS=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},ft={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ZS()},Of=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},eT=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Of(t);ft.publicKey=n.publicKey,ft.blockHeadless=n.blockHeadless,ft.storageProvider=n.storageProvider,ft.blockList=n.blockList,ft.limitRate=n.limitRate,ft.origin=n.origin||e},y_=async(t,e,n={})=>{const r=await fetch(ft.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new da(r.status,i);if(r.ok)return s;throw s},v_=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},tT=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},__=t=>t.webdriver||!t.languages||t.languages.length===0,w_=()=>new da(451,"Unavailable For Headless Browser"),nT=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},rT=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},iT=(t,e)=>t instanceof FormData?t.get(e):t[e],E_=(t,e)=>{if(rT(t))return!1;nT(t.list,t.watchVariable);const n=iT(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},x_=()=>new da(403,"Forbidden"),sT=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},oT=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},S_=async(t,e,n)=>{if(!e.throttle||!n)return!1;sT(e.throttle,e.id);const r=e.id||t;return await oT(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},T_=()=>new da(429,"Too Many Requests"),aT=async(t,e,n,r)=>{const i=Of(r),s=i.publicKey||ft.publicKey,o=i.blockHeadless||ft.blockHeadless,l=i.storageProvider||ft.storageProvider,u={...ft.blockList,...i.blockList},h={...ft.limitRate,...i.limitRate};return o&&__(navigator)?Promise.reject(w_()):(v_(s,t,e),tT(n),n&&E_(u,n)?Promise.reject(x_()):await S_(location.pathname,h,l)?Promise.reject(T_()):y_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},lT=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},cT=t=>typeof t=="string"?document.querySelector(t):t,uT=async(t,e,n,r)=>{const i=Of(r),s=i.publicKey||ft.publicKey,o=i.blockHeadless||ft.blockHeadless,l=ft.storageProvider||i.storageProvider,u={...ft.blockList,...i.blockList},h={...ft.limitRate,...i.limitRate};if(o&&__(navigator))return Promise.reject(w_());const p=cT(n);v_(s,t,e),lT(p);const m=new FormData(p);return E_(u,m)?Promise.reject(x_()):await S_(location.pathname,h,l)?Promise.reject(T_()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",s),y_("/api/v1.0/email/send-form",m))},sd={init:eT,send:aT,sendForm:uT,EmailJSResponseStatus:da},dT=()=>{};var bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},A_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let y=(l&15)<<2|h>>6,R=h&63;u||(R=64,o||(y=64)),r.push(n[p],n[m],n[y],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||m==null)throw new fT;const y=s<<2|l>>4;if(r.push(y),h!==64){const R=l<<4&240|h>>2;if(r.push(R),m!==64){const P=h<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pT=function(t){const e=I_(t);return A_.encodeByteArray(e,!0)},uc=function(t){return pT(t).replace(/\./g,"")},C_=function(t){try{return A_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=()=>mT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof bg>"u")return;const t=bg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C_(t[1]);return e&&JSON.parse(e)},Gc=()=>{try{return dT()||gT()||yT()||vT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},b_=t=>{var e,n;return(n=(e=Gc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_T=t=>{const e=b_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},k_=()=>{var t;return(t=Gc())==null?void 0:t.config},R_=t=>{var e;return(e=Gc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uc(JSON.stringify(n)),uc(JSON.stringify(o)),""].join(".")}const Co={};function xT(){const t={prod:[],emulator:[]};for(const e of Object.keys(Co))Co[e]?t.emulator.push(e):t.prod.push(e);return t}function ST(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kg=!1;function D_(t,e){if(typeof window>"u"||typeof document>"u"||!Ns(window.location.host)||Co[t]===e||Co[t]||kg)return;Co[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=xT().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,R){y.setAttribute("width","24"),y.setAttribute("id",R),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{kg=!0,o()},y}function p(y,R){y.setAttribute("id",R),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=ST(r),R=n("text"),P=document.getElementById(R)||document.createElement("span"),V=n("learnmore"),F=document.getElementById(V)||document.createElement("a"),A=n("preprendIcon"),E=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const b=y.element;l(b),p(F,V);const O=h();u(E,A),b.append(E,P,F,O),document.body.appendChild(b)}s?(P.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function IT(){var e;const t=(e=Gc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kT(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RT(){return!IT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function DT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NT,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jT(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new nr(i,l,r)}}function jT(t,e){return t.replace(VT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VT=/\{\$([^}]+)}/g;function LT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ei(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rg(s)&&Rg(o)){if(!Ei(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function po(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OT(t,e){const n=new MT(t,e);return n.subscribe.bind(n)}class MT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=od),i.error===void 0&&(i.error=od),i.complete===void 0&&(i.complete=od);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BT(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UT(t){return t===ci?void 0:t}function BT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const $T={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},qT=le.INFO,HT={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},GT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mf{constructor(e){this.name=e,this._logLevel=qT,this._logHandler=GT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const KT=(t,e)=>e.some(n=>t instanceof n);let Pg,Dg;function QT(){return Pg||(Pg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YT(){return Dg||(Dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N_=new WeakMap,hh=new WeakMap,j_=new WeakMap,ad=new WeakMap,Ff=new WeakMap;function JT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Dr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&N_.set(n,t)}).catch(()=>{}),Ff.set(e,t),e}function XT(t){if(hh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hh.set(t,e)}let fh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZT(t){fh=t(fh)}function eI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ld(this),e,...n);return j_.set(r,e.sort?e.sort():[e]),Dr(r)}:YT().includes(t)?function(...e){return t.apply(ld(this),e),Dr(N_.get(this))}:function(...e){return Dr(t.apply(ld(this),e))}}function tI(t){return typeof t=="function"?eI(t):(t instanceof IDBTransaction&&XT(t),KT(t,QT())?new Proxy(t,fh):t)}function Dr(t){if(t instanceof IDBRequest)return JT(t);if(ad.has(t))return ad.get(t);const e=tI(t);return e!==t&&(ad.set(t,e),Ff.set(e,t)),e}const ld=t=>Ff.get(t);function nI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Dr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Dr(o.result),u.oldVersion,u.newVersion,Dr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const rI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],cd=new Map;function Ng(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cd.get(e))return cd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rI.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return cd.set(e,s),s}ZT(t=>({...t,get:(e,n,r)=>Ng(e,n)||t.get(e,n,r),has:(e,n)=>!!Ng(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",jg="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new Mf("@firebase/app"),aI="@firebase/app-compat",lI="@firebase/analytics-compat",cI="@firebase/analytics",uI="@firebase/app-check-compat",dI="@firebase/app-check",hI="@firebase/auth",fI="@firebase/auth-compat",pI="@firebase/database",mI="@firebase/data-connect",gI="@firebase/database-compat",yI="@firebase/functions",vI="@firebase/functions-compat",_I="@firebase/installations",wI="@firebase/installations-compat",EI="@firebase/messaging",xI="@firebase/messaging-compat",SI="@firebase/performance",TI="@firebase/performance-compat",II="@firebase/remote-config",AI="@firebase/remote-config-compat",CI="@firebase/storage",bI="@firebase/storage-compat",kI="@firebase/firestore",RI="@firebase/ai",PI="@firebase/firestore-compat",DI="firebase",NI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",jI={[ph]:"fire-core",[aI]:"fire-core-compat",[cI]:"fire-analytics",[lI]:"fire-analytics-compat",[dI]:"fire-app-check",[uI]:"fire-app-check-compat",[hI]:"fire-auth",[fI]:"fire-auth-compat",[pI]:"fire-rtdb",[mI]:"fire-data-connect",[gI]:"fire-rtdb-compat",[yI]:"fire-fn",[vI]:"fire-fn-compat",[_I]:"fire-iid",[wI]:"fire-iid-compat",[EI]:"fire-fcm",[xI]:"fire-fcm-compat",[SI]:"fire-perf",[TI]:"fire-perf-compat",[II]:"fire-rc",[AI]:"fire-rc-compat",[CI]:"fire-gcs",[bI]:"fire-gcs-compat",[kI]:"fire-fst",[PI]:"fire-fst-compat",[RI]:"fire-vertex","fire-js":"fire-js",[DI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,VI=new Map,gh=new Map;function Vg(t,e){try{t.container.addComponent(e)}catch(n){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ss(t){const e=t.name;if(gh.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;gh.set(e,t);for(const n of dc.values())Vg(n,t);for(const n of VI.values())Vg(n,t);return!0}function zf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function en(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new ha("app","Firebase",LI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=NI;function V_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:mh,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(n||(n=k_()),!n)throw Nr.create("no-options");const s=dc.get(i);if(s){if(Ei(n,s.options)&&Ei(r,s.config))return s;throw Nr.create("duplicate-app",{appName:i})}const o=new WT(i);for(const u of gh.values())o.addComponent(u);const l=new OI(n,r,o);return dc.set(i,l),l}function L_(t=mh){const e=dc.get(t);if(!e&&t===mh&&k_())return V_();if(!e)throw Nr.create("no-app",{appName:t});return e}function jr(t,e,n){let r=jI[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(o.join(" "));return}Ss(new xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firebase-heartbeat-database",FI=1,Jo="firebase-heartbeat-store";let ud=null;function O_(){return ud||(ud=nI(MI,FI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),ud}async function zI(t){try{const n=(await O_()).transaction(Jo),r=await n.objectStore(Jo).get(M_(t));return await n.done,r}catch(e){if(e instanceof nr)Jn.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jn.warn(n.message)}}}async function Lg(t,e){try{const r=(await O_()).transaction(Jo,"readwrite");await r.objectStore(Jo).put(e,M_(t)),await r.done}catch(n){if(n instanceof nr)Jn.warn(n.message);else{const r=Nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jn.warn(r.message)}}}function M_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1024,BI=30;class WI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Og();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>BI){const o=HI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Og(),{heartbeatsToSend:r,unsentEntries:i}=$I(this._heartbeatsCache.heartbeats),s=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jn.warn(n),""}}}function Og(){return new Date().toISOString().substring(0,10)}function $I(t,e=UI){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?DT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mg(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}function HI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){Ss(new xi("platform-logger",e=>new sI(e),"PRIVATE")),Ss(new xi("heartbeat",e=>new WI(e),"PRIVATE")),jr(ph,jg,t),jr(ph,jg,"esm2020"),jr("fire-js","")}GI("");function F_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KI=F_,z_=new ha("auth","Firebase",F_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Mf("@firebase/auth");function QI(t,...e){hc.logLevel<=le.WARN&&hc.warn(`Auth (${js}): ${t}`,...e)}function kl(t,...e){hc.logLevel<=le.ERROR&&hc.error(`Auth (${js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw Uf(t,...e)}function bn(t,...e){return Uf(t,...e)}function U_(t,e,n){const r={...KI(),[e]:n};return new ha("auth","Firebase",r).create(e,{appName:t.name})}function $n(t){return U_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return z_.create(t,...e)}function ee(t,e,...n){if(!t)throw Uf(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kl(e),new Error(e)}function Xn(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function YI(){return Fg()==="http:"||Fg()==="https:"}function Fg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YI()||CT()||"connection"in navigator)?navigator.onLine:!0}function XI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=TT()||bT()}get(){return JI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tA=new pa(3e4,6e4);function rr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ir(t,e,n,r,i={}){return W_(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=fa({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...s};return AT()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ns(t.emulatorConfig.host)&&(h.credentials="include"),B_.fetch()(await $_(t,t.config.apiHost,n,l),h)})}async function W_(t,e,n){t._canInitEmulator=!1;const r={...ZI,...e};try{const i=new rA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw dl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw dl(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw U_(t,p,h);_n(t,p)}}catch(i){if(i instanceof nr)throw i;_n(t,"network-request-failed",{message:String(i)})}}async function ma(t,e,n,r,i={}){const s=await ir(t,e,n,r,i);return"mfaPendingCredential"in s&&_n(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function $_(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Bf(t.config,i):`${t.config.apiScheme}://${i}`;return eA.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function nA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),tA.get())})}}function dl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bn(t,e,r);return i.customData._tokenResponse=n,i}function zg(t){return t!==void 0&&t.enterprise!==void 0}class iA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sA(t,e){return ir(t,"GET","/v2/recaptchaConfig",rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e){return ir(t,"POST","/v1/accounts:delete",e)}async function fc(t,e){return ir(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aA(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=Wf(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bo(dd(i.auth_time)),issuedAtTime:bo(dd(i.iat)),expirationTime:bo(dd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dd(t){return Number(t)*1e3}function Wf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kl("JWT malformed, contained fewer than 3 sections"),null;try{const i=C_(n);return i?JSON.parse(i):(kl("Failed to decode base64 JWT payload"),null)}catch(i){return kl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ug(t){const e=Wf(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&lA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Xo(t,fc(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?q_(i.providerUserInfo):[],o=dA(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),h=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vh(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function uA(t){const e=et(t);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t,e){const n=await W_(t,{},async()=>{const r=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await $_(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ns(t.emulatorConfig.host)&&(u.credentials="include"),B_.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fA(t,e){return ir(t,"POST","/v2/accounts:revokeToken",rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ug(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Ug(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await hA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ds;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new cA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xo(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aA(this,e)}reload(){return uA(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject($n(this.auth));const e=await this.getIdToken();return await Xo(this,oA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:R,providerData:P,stsTokenManager:V}=n;ee(m&&V,e,"internal-error");const F=ds.fromJSON(this.name,V);ee(typeof m=="string",e,"internal-error"),hr(r,e.name),hr(i,e.name),ee(typeof y=="boolean",e,"internal-error"),ee(typeof R=="boolean",e,"internal-error"),hr(s,e.name),hr(o,e.name),hr(l,e.name),hr(u,e.name),hr(h,e.name),hr(p,e.name);const A=new fn({uid:m,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:R,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:F,createdAt:h,lastLoginAt:p});return P&&Array.isArray(P)&&(A.providerData=P.map(E=>({...E}))),u&&(A._redirectEventId=u),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new ds;i.updateFromServerResponse(n);const s=new fn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?q_(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new ds;l.updateFromIdToken(r);const u=new fn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new Map;function Bn(t){Xn(t instanceof Function,"Expected a class definition");let e=Bg.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}H_.type="NONE";const Wg=H_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,e,n){return`firebase:${t}:${e}:${n}`}class hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fc(this.auth,{idToken:e}).catch(()=>{});return n?fn._fromGetAccountInfoResponse(this.auth,n,e):null}return fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hs(Bn(Wg),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Bn(Wg);const o=Rl(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const p=await h._get(o);if(p){let m;if(typeof p=="string"){const y=await fc(e,{idToken:p}).catch(()=>{});if(!y)break;m=await fn._fromGetAccountInfoResponse(e,y,p)}else m=fn._fromJSON(e,p);h!==s&&(l=m),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new hs(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new hs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X_(e))return"Blackberry";if(Z_(e))return"Webos";if(K_(e))return"Safari";if((e.includes("chrome/")||Q_(e))&&!e.includes("edge/"))return"Chrome";if(J_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function G_(t=At()){return/firefox\//i.test(t)}function K_(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q_(t=At()){return/crios\//i.test(t)}function Y_(t=At()){return/iemobile/i.test(t)}function J_(t=At()){return/android/i.test(t)}function X_(t=At()){return/blackberry/i.test(t)}function Z_(t=At()){return/webos/i.test(t)}function $f(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pA(t=At()){var e;return $f(t)&&!!((e=window.navigator)!=null&&e.standalone)}function mA(){return kT()&&document.documentMode===10}function ew(t=At()){return $f(t)||J_(t)||Z_(t)||X_(t)||/windows phone/i.test(t)||Y_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e=[]){let n;switch(t){case"Browser":n=$g(At());break;case"Worker":n=`${$g(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(t,e={}){return ir(t,"GET","/v2/passwordPolicy",rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=6;class _A{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??vA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qg(this),this.idTokenSubscription=new qg(this),this.beforeStateQueue=new gA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await hs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fc(this,{idToken:e}),r=await fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(en(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject($n(this));const n=e?et(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject($n(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject($n(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yA(this),n=new _A(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await hs.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&QI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qr(t){return et(t)}class qg{constructor(e){this.auth=e,this.observer=null,this.addObserver=OT(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EA(t){Kc=t}function nw(t){return Kc.loadJS(t)}function xA(){return Kc.recaptchaEnterpriseScript}function SA(){return Kc.gapiScript}function TA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IA{constructor(){this.enterprise=new AA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CA="recaptcha-enterprise",rw="NO_RECAPTCHA";class bA{constructor(e){this.type=CA,this.auth=Qr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{sA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new iA(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;zg(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(rw)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IA().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&zg(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xA();u.length!==0&&(u+=l),nw(u).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function Hg(t,e,n,r=!1,i=!1){const s=new bA(t);let o;if(i)o=rw;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function mc(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Hg(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Hg(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t,e){const n=zf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ei(s,e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}function RA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PA(t,e,n){const r=Qr(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=iw(e),{host:o,port:l}=DA(e),u=l===null?"":`:${l}`,h={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Ei(h,r.config.emulator)&&Ei(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ns(o)?(P_(`${s}//${o}${u}`),D_("Auth",!0)):NA()}function iw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DA(t){const e=iw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Gg(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Gg(o)}}}function Gg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}async function jA(t,e){return ir(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e){return ma(t,"POST","/v1/accounts:signInWithPassword",rr(t,e))}async function LA(t,e){return ir(t,"POST","/v1/accounts:sendOobCode",rr(t,e))}async function OA(t,e){return LA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e){return ma(t,"POST","/v1/accounts:signInWithEmailLink",rr(t,e))}async function FA(t,e){return ma(t,"POST","/v1/accounts:signInWithEmailLink",rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends qf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mc(e,n,"signInWithPassword",VA);case"emailLink":return MA(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mc(e,r,"signUpPassword",jA);case"emailLink":return FA(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t,e){return ma(t,"POST","/v1/accounts:signInWithIdp",rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="http://localhost";class Si extends qf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Si(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fs(e,n)}buildRequest(){const e={requestUri:zA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BA(t){const e=fo(po(t)).link,n=e?fo(po(e)).deep_link_id:null,r=fo(po(t)).deep_link_id;return(r?fo(po(r)).link:null)||r||n||e||t}class Hf{constructor(e){const n=fo(po(e)),r=n.apiKey??null,i=n.oobCode??null,s=UA(n.mode??null);ee(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=BA(e);try{return new Hf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.providerId=Vs.PROVIDER_ID}static credential(e,n){return Zo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hf.parseLink(n);return ee(r,"argument-error"),Zo._fromEmailAndCode(e,r.code,r.tenantId)}}Vs.PROVIDER_ID="password";Vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends ga{constructor(){super("facebook.com")}static credential(e){return Si._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Si._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends ga{constructor(){super("github.com")}static credential(e){return Si._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends ga{constructor(){super("twitter.com")}static credential(e,n){return Si._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(t,e){return ma(t,"POST","/v1/accounts:signUp",rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fn._fromIdTokenResponse(e,r,i),o=Kg(r);return new Ti({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Kg(r);return new Ti({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Kg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends nr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gc(e,n,r,i)}}function ow(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gc._fromErrorAndOperation(t,s,e,r):s})}async function $A(t,e,n=!1){const r=await Xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ti._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e,n=!1){const{auth:r}=t;if(en(r.app))return Promise.reject($n(r));const i="reauthenticate";try{const s=await Xo(t,ow(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Wf(s.idToken);ee(o,r,"internal-error");const{sub:l}=o;return ee(t.uid===l,r,"user-mismatch"),Ti._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(t,e,n=!1){if(en(t.app))return Promise.reject($n(t));const r="signIn",i=await ow(t,r,e),s=await Ti._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function HA(t,e){return aw(Qr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(t){const e=Qr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GA(t,e,n){const r=Qr(t);await mc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",OA)}async function Qg(t,e,n){if(en(t.app))return Promise.reject($n(t));const r=Qr(t),o=await mc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WA).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&lw(t),u}),l=await Ti._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function KA(t,e,n){return en(t.app)?Promise.reject($n(t)):HA(et(t),Vs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lw(t),r})}function QA(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function YA(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function JA(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function XA(t){return et(t).signOut()}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1e3,eC=10;class uw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);mA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eC):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uw.type="LOCAL";const tC=uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dw.type="SESSION";const hw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),u=await nC(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=Gf("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function iC(t){kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function sC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function aC(){return fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="firebaseLocalStorageDb",lC=1,vc="firebaseLocalStorage",mw="fbase_key";class ya{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yc(t,e){return t.transaction([vc],e?"readwrite":"readonly").objectStore(vc)}function cC(){const t=indexedDB.deleteDatabase(pw);return new ya(t).toPromise()}function _h(){const t=indexedDB.open(pw,lC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vc,{keyPath:mw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vc)?e(r):(r.close(),await cC(),e(await _h()))})})}async function Yg(t,e,n){const r=Yc(t,!0).put({[mw]:e,value:n});return new ya(r).toPromise()}async function uC(t,e){const n=Yc(t,!1).get(e),r=await new ya(n).toPromise();return r===void 0?null:r.value}function Jg(t,e){const n=Yc(t,!0).delete(e);return new ya(n).toPromise()}const dC=800,hC=3;class gw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _h(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(aC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await sC(),!this.activeServiceWorker)return;this.sender=new rC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _h();return await Yg(e,yc,"1"),await Jg(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yc(i,!1).getAll();return new ya(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gw.type="LOCAL";const fC=gw;new pa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){return e?Bn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends qf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mC(t){return aw(t.auth,new Kf(t),t.bypassAuthState)}function gC(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),qA(n,new Kf(t),t.bypassAuthState)}async function yC(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),$A(n,new Kf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return gC;default:_n(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new pa(2e3,1e4);class ns extends yw{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=Gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="pendingRedirect",Pl=new Map;class wC extends yw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pl.get(this.auth._key());if(!e){try{const r=await EC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pl.set(this.auth._key(),e)}return this.bypassAuthState||Pl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(t,e){const n=TC(e),r=SC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xC(t,e){Pl.set(t._key(),e)}function SC(t){return Bn(t._redirectPersistence)}function TC(t){return Rl(_C,t.config.apiKey,t.name)}async function IC(t,e,n=!1){if(en(t.app))return Promise.reject($n(t));const r=Qr(t),i=pC(r,e),o=await new wC(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=10*60*1e3;class CC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vw(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xg(e))}saveEventToCache(e){this.cachedEventUids.add(Xg(e)),this.lastProcessedEventTime=Date.now()}}function Xg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t,e={}){return ir(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PC=/^https?/;async function DC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kC(t);for(const n of e)try{if(NC(n))return}catch{}_n(t,"unauthorized-domain")}function NC(t){const e=yh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PC.test(n))return!1;if(RC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new pa(3e4,6e4);function Zg(){const t=kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VC(t){return new Promise((e,n)=>{var i,s,o;function r(){Zg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zg(),n(bn(t,"network-request-failed"))},timeout:jC.get()})}if((s=(i=kn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=kn().gapi)!=null&&o.load)r();else{const l=TA("iframefcb");return kn()[l]=()=>{gapi.load?r():n(bn(t,"network-request-failed"))},nw(`${SA()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Dl=null,e})}let Dl=null;function LC(t){return Dl=Dl||VC(t),Dl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new pa(5e3,15e3),MC="__/auth/iframe",FC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bf(e,FC):`https://${t.config.authDomain}/${MC}`,r={apiKey:e.apiKey,appName:t.name,v:js},i=UC.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fa(r).slice(1)}`}async function WC(t){const e=await LC(t),n=kn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:BC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bn(t,"network-request-failed"),l=kn().setTimeout(()=>{s(o)},OC.get());function u(){kn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qC=500,HC=600,GC="_blank",KC="http://localhost";class ey{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QC(t,e,n,r=qC,i=HC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...$C,width:r.toString(),height:i.toString(),top:s,left:o},h=At().toLowerCase();n&&(l=Q_(h)?GC:n),G_(h)&&(e=e||KC,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[R,P])=>`${y}${R}=${P},`,"");if(pA(h)&&l!=="_self")return YC(e||"",l),new ey(null);const m=window.open(e||"",l,p);ee(m,t,"popup-blocked");try{m.focus()}catch{}return new ey(m)}function YC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="__/auth/handler",XC="emulator/auth/handler",ZC=encodeURIComponent("fac");async function ty(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:js,eventId:i};if(e instanceof sw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof ga){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),h=u?`#${ZC}=${encodeURIComponent(u)}`:"";return`${eb(t)}?${fa(l).slice(1)}${h}`}function eb({config:t}){return t.emulator?Bf(t,XC):`https://${t.authDomain}/${JC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="webStorageSupport";class tb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hw,this._completeRedirectFn=IC,this._overrideRedirectResult=xC}async _openPopup(e,n,r,i){var o;Xn((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ty(e,n,r,yh(),i);return QC(e,s,Gf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ty(e,n,r,yh(),i);return iC(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WC(e),r=new CC(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hd,{type:hd},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[hd];s!==void 0&&n(!!s),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ew()||K_()||$f()}}const nb=tb;var ny="@firebase/auth",ry="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sb(t){Ss(new xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(t)},h=new wA(r,i,s,u);return RA(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ss(new xi("auth-internal",e=>{const n=Qr(e.getProvider("auth").getImmediate());return(r=>new rb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(ny,ry,ib(t)),jr(ny,ry,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=5*60,ab=R_("authIdTokenMaxAge")||ob;let iy=null;const lb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ab)return;const i=n==null?void 0:n.token;iy!==i&&(iy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cb(t=L_()){const e=zf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kA(t,{popupRedirectResolver:nb,persistence:[fC,tC,hw]}),r=R_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lb(s.toString());YA(n,o,()=>o(n.currentUser)),QA(n,l=>o(l))}}const i=b_("auth");return i&&PA(n,`http://${i}`),n}function ub(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}EA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ub().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sb("Browser");var sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,_w;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function x(){}x.prototype=_.prototype,S.D=_.prototype,S.prototype=new x,S.prototype.constructor=S,S.C=function(w,k,N){for(var I=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)I[Ct-2]=arguments[Ct];return _.prototype[k].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,_,x){x||(x=0);var w=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)w[k]=_.charCodeAt(x++)|_.charCodeAt(x++)<<8|_.charCodeAt(x++)<<16|_.charCodeAt(x++)<<24;else for(k=0;16>k;++k)w[k]=_[x++]|_[x++]<<8|_[x++]<<16|_[x++]<<24;_=S.g[0],x=S.g[1],k=S.g[2];var N=S.g[3],I=_+(N^x&(k^N))+w[0]+3614090360&4294967295;_=x+(I<<7&4294967295|I>>>25),I=N+(k^_&(x^k))+w[1]+3905402710&4294967295,N=_+(I<<12&4294967295|I>>>20),I=k+(x^N&(_^x))+w[2]+606105819&4294967295,k=N+(I<<17&4294967295|I>>>15),I=x+(_^k&(N^_))+w[3]+3250441966&4294967295,x=k+(I<<22&4294967295|I>>>10),I=_+(N^x&(k^N))+w[4]+4118548399&4294967295,_=x+(I<<7&4294967295|I>>>25),I=N+(k^_&(x^k))+w[5]+1200080426&4294967295,N=_+(I<<12&4294967295|I>>>20),I=k+(x^N&(_^x))+w[6]+2821735955&4294967295,k=N+(I<<17&4294967295|I>>>15),I=x+(_^k&(N^_))+w[7]+4249261313&4294967295,x=k+(I<<22&4294967295|I>>>10),I=_+(N^x&(k^N))+w[8]+1770035416&4294967295,_=x+(I<<7&4294967295|I>>>25),I=N+(k^_&(x^k))+w[9]+2336552879&4294967295,N=_+(I<<12&4294967295|I>>>20),I=k+(x^N&(_^x))+w[10]+4294925233&4294967295,k=N+(I<<17&4294967295|I>>>15),I=x+(_^k&(N^_))+w[11]+2304563134&4294967295,x=k+(I<<22&4294967295|I>>>10),I=_+(N^x&(k^N))+w[12]+1804603682&4294967295,_=x+(I<<7&4294967295|I>>>25),I=N+(k^_&(x^k))+w[13]+4254626195&4294967295,N=_+(I<<12&4294967295|I>>>20),I=k+(x^N&(_^x))+w[14]+2792965006&4294967295,k=N+(I<<17&4294967295|I>>>15),I=x+(_^k&(N^_))+w[15]+1236535329&4294967295,x=k+(I<<22&4294967295|I>>>10),I=_+(k^N&(x^k))+w[1]+4129170786&4294967295,_=x+(I<<5&4294967295|I>>>27),I=N+(x^k&(_^x))+w[6]+3225465664&4294967295,N=_+(I<<9&4294967295|I>>>23),I=k+(_^x&(N^_))+w[11]+643717713&4294967295,k=N+(I<<14&4294967295|I>>>18),I=x+(N^_&(k^N))+w[0]+3921069994&4294967295,x=k+(I<<20&4294967295|I>>>12),I=_+(k^N&(x^k))+w[5]+3593408605&4294967295,_=x+(I<<5&4294967295|I>>>27),I=N+(x^k&(_^x))+w[10]+38016083&4294967295,N=_+(I<<9&4294967295|I>>>23),I=k+(_^x&(N^_))+w[15]+3634488961&4294967295,k=N+(I<<14&4294967295|I>>>18),I=x+(N^_&(k^N))+w[4]+3889429448&4294967295,x=k+(I<<20&4294967295|I>>>12),I=_+(k^N&(x^k))+w[9]+568446438&4294967295,_=x+(I<<5&4294967295|I>>>27),I=N+(x^k&(_^x))+w[14]+3275163606&4294967295,N=_+(I<<9&4294967295|I>>>23),I=k+(_^x&(N^_))+w[3]+4107603335&4294967295,k=N+(I<<14&4294967295|I>>>18),I=x+(N^_&(k^N))+w[8]+1163531501&4294967295,x=k+(I<<20&4294967295|I>>>12),I=_+(k^N&(x^k))+w[13]+2850285829&4294967295,_=x+(I<<5&4294967295|I>>>27),I=N+(x^k&(_^x))+w[2]+4243563512&4294967295,N=_+(I<<9&4294967295|I>>>23),I=k+(_^x&(N^_))+w[7]+1735328473&4294967295,k=N+(I<<14&4294967295|I>>>18),I=x+(N^_&(k^N))+w[12]+2368359562&4294967295,x=k+(I<<20&4294967295|I>>>12),I=_+(x^k^N)+w[5]+4294588738&4294967295,_=x+(I<<4&4294967295|I>>>28),I=N+(_^x^k)+w[8]+2272392833&4294967295,N=_+(I<<11&4294967295|I>>>21),I=k+(N^_^x)+w[11]+1839030562&4294967295,k=N+(I<<16&4294967295|I>>>16),I=x+(k^N^_)+w[14]+4259657740&4294967295,x=k+(I<<23&4294967295|I>>>9),I=_+(x^k^N)+w[1]+2763975236&4294967295,_=x+(I<<4&4294967295|I>>>28),I=N+(_^x^k)+w[4]+1272893353&4294967295,N=_+(I<<11&4294967295|I>>>21),I=k+(N^_^x)+w[7]+4139469664&4294967295,k=N+(I<<16&4294967295|I>>>16),I=x+(k^N^_)+w[10]+3200236656&4294967295,x=k+(I<<23&4294967295|I>>>9),I=_+(x^k^N)+w[13]+681279174&4294967295,_=x+(I<<4&4294967295|I>>>28),I=N+(_^x^k)+w[0]+3936430074&4294967295,N=_+(I<<11&4294967295|I>>>21),I=k+(N^_^x)+w[3]+3572445317&4294967295,k=N+(I<<16&4294967295|I>>>16),I=x+(k^N^_)+w[6]+76029189&4294967295,x=k+(I<<23&4294967295|I>>>9),I=_+(x^k^N)+w[9]+3654602809&4294967295,_=x+(I<<4&4294967295|I>>>28),I=N+(_^x^k)+w[12]+3873151461&4294967295,N=_+(I<<11&4294967295|I>>>21),I=k+(N^_^x)+w[15]+530742520&4294967295,k=N+(I<<16&4294967295|I>>>16),I=x+(k^N^_)+w[2]+3299628645&4294967295,x=k+(I<<23&4294967295|I>>>9),I=_+(k^(x|~N))+w[0]+4096336452&4294967295,_=x+(I<<6&4294967295|I>>>26),I=N+(x^(_|~k))+w[7]+1126891415&4294967295,N=_+(I<<10&4294967295|I>>>22),I=k+(_^(N|~x))+w[14]+2878612391&4294967295,k=N+(I<<15&4294967295|I>>>17),I=x+(N^(k|~_))+w[5]+4237533241&4294967295,x=k+(I<<21&4294967295|I>>>11),I=_+(k^(x|~N))+w[12]+1700485571&4294967295,_=x+(I<<6&4294967295|I>>>26),I=N+(x^(_|~k))+w[3]+2399980690&4294967295,N=_+(I<<10&4294967295|I>>>22),I=k+(_^(N|~x))+w[10]+4293915773&4294967295,k=N+(I<<15&4294967295|I>>>17),I=x+(N^(k|~_))+w[1]+2240044497&4294967295,x=k+(I<<21&4294967295|I>>>11),I=_+(k^(x|~N))+w[8]+1873313359&4294967295,_=x+(I<<6&4294967295|I>>>26),I=N+(x^(_|~k))+w[15]+4264355552&4294967295,N=_+(I<<10&4294967295|I>>>22),I=k+(_^(N|~x))+w[6]+2734768916&4294967295,k=N+(I<<15&4294967295|I>>>17),I=x+(N^(k|~_))+w[13]+1309151649&4294967295,x=k+(I<<21&4294967295|I>>>11),I=_+(k^(x|~N))+w[4]+4149444226&4294967295,_=x+(I<<6&4294967295|I>>>26),I=N+(x^(_|~k))+w[11]+3174756917&4294967295,N=_+(I<<10&4294967295|I>>>22),I=k+(_^(N|~x))+w[2]+718787259&4294967295,k=N+(I<<15&4294967295|I>>>17),I=x+(N^(k|~_))+w[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var x=_-this.blockSize,w=this.B,k=this.h,N=0;N<_;){if(k==0)for(;N<=x;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<_;)if(w[k++]=S.charCodeAt(N++),k==this.blockSize){i(this,w),k=0;break}}else for(;N<_;)if(w[k++]=S[N++],k==this.blockSize){i(this,w),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var x=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=x&255,x/=256;for(this.u(S),S=Array(16),_=x=0;4>_;++_)for(var w=0;32>w;w+=8)S[x++]=this.g[_]>>>w&255;return S};function s(S,_){var x=l;return Object.prototype.hasOwnProperty.call(x,S)?x[S]:x[S]=_(S)}function o(S,_){this.h=_;for(var x=[],w=!0,k=S.length-1;0<=k;k--){var N=S[k]|0;w&&N==_||(x[k]=N,w=!1)}this.g=x}var l={};function u(S){return-128<=S&&128>S?s(S,function(_){return new o([_|0],0>_?-1:0)}):new o([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return F(h(-S));for(var _=[],x=1,w=0;S>=x;w++)_[w]=S/x|0,x*=4294967296;return new o(_,0)}function p(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return F(p(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=h(Math.pow(_,8)),w=m,k=0;k<S.length;k+=8){var N=Math.min(8,S.length-k),I=parseInt(S.substring(k,k+N),_);8>N?(N=h(Math.pow(_,N)),w=w.j(N).add(h(I))):(w=w.j(x),w=w.add(h(I)))}return w}var m=u(0),y=u(1),R=u(16777216);t=o.prototype,t.m=function(){if(V(this))return-F(this).m();for(var S=0,_=1,x=0;x<this.g.length;x++){var w=this.i(x);S+=(0<=w?w:4294967296+w)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(V(this))return"-"+F(this).toString(S);for(var _=h(Math.pow(S,6)),x=this,w="";;){var k=O(x,_).g;x=A(x,k.j(_));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(S);if(x=k,P(x))return N+w;for(;6>N.length;)N="0"+N;w=N+w}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function V(S){return S.h==-1}t.l=function(S){return S=A(this,S),V(S)?-1:P(S)?0:1};function F(S){for(var _=S.g.length,x=[],w=0;w<_;w++)x[w]=~S.g[w];return new o(x,~S.h).add(y)}t.abs=function(){return V(this)?F(this):this},t.add=function(S){for(var _=Math.max(this.g.length,S.g.length),x=[],w=0,k=0;k<=_;k++){var N=w+(this.i(k)&65535)+(S.i(k)&65535),I=(N>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);w=I>>>16,N&=65535,I&=65535,x[k]=I<<16|N}return new o(x,x[x.length-1]&-2147483648?-1:0)};function A(S,_){return S.add(F(_))}t.j=function(S){if(P(this)||P(S))return m;if(V(this))return V(S)?F(this).j(F(S)):F(F(this).j(S));if(V(S))return F(this.j(F(S)));if(0>this.l(R)&&0>S.l(R))return h(this.m()*S.m());for(var _=this.g.length+S.g.length,x=[],w=0;w<2*_;w++)x[w]=0;for(w=0;w<this.g.length;w++)for(var k=0;k<S.g.length;k++){var N=this.i(w)>>>16,I=this.i(w)&65535,Ct=S.i(k)>>>16,Ut=S.i(k)&65535;x[2*w+2*k]+=I*Ut,E(x,2*w+2*k),x[2*w+2*k+1]+=N*Ut,E(x,2*w+2*k+1),x[2*w+2*k+1]+=I*Ct,E(x,2*w+2*k+1),x[2*w+2*k+2]+=N*Ct,E(x,2*w+2*k+2)}for(w=0;w<_;w++)x[w]=x[2*w+1]<<16|x[2*w];for(w=_;w<2*_;w++)x[w]=0;return new o(x,0)};function E(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function b(S,_){this.g=S,this.h=_}function O(S,_){if(P(_))throw Error("division by zero");if(P(S))return new b(m,m);if(V(S))return _=O(F(S),_),new b(F(_.g),F(_.h));if(V(_))return _=O(S,F(_)),new b(F(_.g),_.h);if(30<S.g.length){if(V(S)||V(_))throw Error("slowDivide_ only works with positive integers.");for(var x=y,w=_;0>=w.l(S);)x=B(x),w=B(w);var k=U(x,1),N=U(w,1);for(w=U(w,2),x=U(x,2);!P(w);){var I=N.add(w);0>=I.l(S)&&(k=k.add(x),N=I),w=U(w,1),x=U(x,1)}return _=A(S,k.j(_)),new b(k,_)}for(k=m;0<=S.l(_);){for(x=Math.max(1,Math.floor(S.m()/_.m())),w=Math.ceil(Math.log(x)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),N=h(x),I=N.j(_);V(I)||0<I.l(S);)x-=w,N=h(x),I=N.j(_);P(N)&&(N=y),k=k.add(N),S=A(S,I)}return new b(k,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var _=Math.max(this.g.length,S.g.length),x=[],w=0;w<_;w++)x[w]=this.i(w)&S.i(w);return new o(x,this.h&S.h)},t.or=function(S){for(var _=Math.max(this.g.length,S.g.length),x=[],w=0;w<_;w++)x[w]=this.i(w)|S.i(w);return new o(x,this.h|S.h)},t.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),x=[],w=0;w<_;w++)x[w]=this.i(w)^S.i(w);return new o(x,this.h^S.h)};function B(S){for(var _=S.g.length+1,x=[],w=0;w<_;w++)x[w]=S.i(w)<<1|S.i(w-1)>>>31;return new o(x,S.h)}function U(S,_){var x=_>>5;_%=32;for(var w=S.g.length-x,k=[],N=0;N<w;N++)k[N]=0<_?S.i(N+x)>>>_|S.i(N+x+1)<<32-_:S.i(N+x);return new o(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_w=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Vr=o}).apply(typeof sy<"u"?sy:typeof self<"u"?self:typeof window<"u"?window:{});var hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,mo,Ew,Nl,wh,xw,Sw,Tw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof hl=="object"&&hl];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var j=a[v];if(!(j in f))break e;f=f[j]}a=a[a.length-1],v=f[a],d=d(v),d!=v&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var f=0,v=!1,j={next:function(){if(!v&&f<a.length){var L=f++;return{value:d(L,a[L]),done:!1}}return v=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function p(a,d,f){return a.call.apply(a.bind,arguments)}function m(a,d,f){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,v),a.apply(d,j)}}return function(){return a.apply(d,arguments)}}function y(a,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function R(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function P(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(v,j,L){for(var q=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)q[_e-2]=arguments[_e];return d.prototype[j].apply(v,q)}}function V(a){const d=a.length;if(0<d){const f=Array(d);for(let v=0;v<d;v++)f[v]=a[v];return f}return[]}function F(a,d){for(let f=1;f<arguments.length;f++){const v=arguments[f];if(u(v)){const j=a.length||0,L=v.length||0;a.length=j+L;for(let q=0;q<L;q++)a[j+q]=v[q]}else a.push(v)}}class A{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function E(a){return/^[\s\xa0]*$/.test(a)}function b(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var B=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function U(a,d,f){for(const v in a)d.call(f,a[v],v,a)}function S(a,d){for(const f in a)d.call(void 0,a[f],f,a)}function _(a){const d={};for(const f in a)d[f]=a[f];return d}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,v;for(let j=1;j<arguments.length;j++){v=arguments[j];for(f in v)a[f]=v[f];for(let L=0;L<x.length;L++)f=x[L],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function k(a){var d=1;a=a.split(":");const f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function N(a){l.setTimeout(()=>{throw a},0)}function I(){var a=X;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ct{constructor(){this.h=this.g=null}add(d,f){const v=Ut.get();v.set(d,f),this.h?this.h.next=v:this.g=v,this.h=v}}var Ut=new A(()=>new jn,a=>a.reset());class jn{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,H=!1,X=new Ct,J=()=>{const a=l.Promise.resolve(void 0);gt=()=>{a.then(de)}};var de=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){N(f)}var d=Ut;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}H=!1};function C(){this.s=this.s,this.C=this.C}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,d),l.removeEventListener("test",f,d)}catch{}return a}();function ge(a,d){if(W.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(B){e:{try{O(d.nodeName);var j=!0;break e}catch{}j=!1}j||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:we[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ge.aa.h.call(this)}}P(ge,W);var we={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Di=0;function vu(a,d,f,v,j){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!v,this.ha=j,this.key=++Di,this.da=this.fa=!1}function or(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ar(a){this.src=a,this.g={},this.h=0}ar.prototype.add=function(a,d,f,v,j){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var q=Zr(a,d,v,j);return-1<q?(d=a[q],f||(d.fa=!1)):(d=new vu(d,this.src,L,!!v,j),d.fa=f,a.push(d)),d};function Xr(a,d){var f=d.type;if(f in a.g){var v=a.g[f],j=Array.prototype.indexOf.call(v,d,void 0),L;(L=0<=j)&&Array.prototype.splice.call(v,j,1),L&&(or(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Zr(a,d,f,v){for(var j=0;j<a.length;++j){var L=a[j];if(!L.da&&L.listener==d&&L.capture==!!f&&L.ha==v)return j}return-1}var an="closure_lm_"+(1e6*Math.random()|0),he={};function at(a,d,f,v,j){if(Array.isArray(d)){for(var L=0;L<d.length;L++)at(a,d[L],f,v,j);return null}return f=ka(f),a&&a[Oe]?a.K(d,f,h(v)?!!v.capture:!1,j):Qe(a,d,f,!1,v,j)}function Qe(a,d,f,v,j,L){if(!d)throw Error("Invalid event type");var q=h(j)?!!j.capture:!!j,_e=ni(a);if(_e||(a[an]=_e=new ar(a)),f=_e.add(d,f,v,q,L),f.proxy)return f;if(v=ei(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)ne||(j=q),j===void 0&&(j=!1),a.addEventListener(d.toString(),v,j);else if(a.attachEvent)a.attachEvent(Us(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ei(){function a(f){return d.call(a.src,a.listener,f)}const d=ba;return a}function Ca(a,d,f,v,j){if(Array.isArray(d))for(var L=0;L<d.length;L++)Ca(a,d[L],f,v,j);else v=h(v)?!!v.capture:!!v,f=ka(f),a&&a[Oe]?(a=a.i,d=String(d).toString(),d in a.g&&(L=a.g[d],f=Zr(L,f,v,j),-1<f&&(or(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete a.g[d],a.h--)))):a&&(a=ni(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Zr(d,f,v,j)),(f=-1<a?d[a]:null)&&ti(f))}function ti(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Oe])Xr(d.i,a);else{var f=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(f,v,a.capture):d.detachEvent?d.detachEvent(Us(f),v):d.addListener&&d.removeListener&&d.removeListener(v),(f=ni(d))?(Xr(f,a),f.h==0&&(f.src=null,d[an]=null)):or(a)}}}function Us(a){return a in he?he[a]:he[a]="on"+a}function ba(a,d){if(a.da)a=!0;else{d=new ge(d,this);var f=a.listener,v=a.ha||a.src;a.fa&&ti(a),a=f.call(v,d)}return a}function ni(a){return a=a[an],a instanceof ar?a:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(a){return typeof a=="function"?a:(a[Bs]||(a[Bs]=function(d){return a.handleEvent(d)}),a[Bs])}function tt(){C.call(this),this.i=new ar(this),this.M=this,this.F=null}P(tt,C),tt.prototype[Oe]=!0,tt.prototype.removeEventListener=function(a,d,f,v){Ca(this,a,d,f,v)};function lt(a,d){var f,v=a.F;if(v)for(f=[];v;v=v.F)f.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new W(d,a);else if(d instanceof W)d.target=d.target||a;else{var j=d;d=new W(v,a),w(d,j)}if(j=!0,f)for(var L=f.length-1;0<=L;L--){var q=d.g=f[L];j=Ni(q,v,!0,d)&&j}if(q=d.g=a,j=Ni(q,v,!0,d)&&j,j=Ni(q,v,!1,d)&&j,f)for(L=0;L<f.length;L++)q=d.g=f[L],j=Ni(q,v,!1,d)&&j}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],v=0;v<f.length;v++)or(f[v]);delete a.g[d],a.h--}}this.F=null},tt.prototype.K=function(a,d,f,v){return this.i.add(String(a),d,!1,f,v)},tt.prototype.L=function(a,d,f,v){return this.i.add(String(a),d,!0,f,v)};function Ni(a,d,f,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var j=!0,L=0;L<d.length;++L){var q=d[L];if(q&&!q.da&&q.capture==f){var _e=q.listener,ut=q.ha||q.src;q.fa&&Xr(a.i,q),j=_e.call(ut,v)!==!1&&j}}return j&&!v.defaultPrevented}function Ra(a,d,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Pa(a){a.g=Ra(()=>{a.g=null,a.i&&(a.i=!1,Pa(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class _u extends C{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Pa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(a){C.call(this),this.h=a,this.g={}}P(ri,C);var Da=[];function Na(a){U(a.g,function(d,f){this.g.hasOwnProperty(f)&&ti(d)},a),a.g={}}ri.prototype.N=function(){ri.aa.N.call(this),Na(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var g=l.JSON.stringify,D=l.JSON.parse,Z=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function re(){}re.prototype.h=null;function Ee(a){return a.h||(a.h=a.i())}function Ye(){}var Ae={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ct(){W.call(this,"d")}P(ct,W);function $e(){W.call(this,"c")}P($e,W);var Me={},xe=null;function En(){return xe=xe||new tt}Me.La="serverreachability";function Re(a){W.call(this,Me.La,a)}P(Re,W);function Ws(a){const d=En();lt(d,new Re(d))}Me.STAT_EVENT="statevent";function Pp(a,d){W.call(this,Me.STAT_EVENT,a),this.stat=d}P(Pp,W);function bt(a){const d=En();lt(d,new Pp(d,a))}Me.Ma="timingevent";function Dp(a,d){W.call(this,Me.Ma,a),this.size=d}P(Dp,W);function $s(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function eE(a,d,f,v,j,L){a.info(function(){if(a.g)if(L)for(var q="",_e=L.split("&"),ut=0;ut<_e.length;ut++){var me=_e[ut].split("=");if(1<me.length){var yt=me[0];me=me[1];var vt=yt.split("_");q=2<=vt.length&&vt[1]=="type"?q+(yt+"="+me+"&"):q+(yt+"=redacted&")}}else q=null;else q=L;return"XMLHTTP REQ ("+v+") [attempt "+j+"]: "+d+`
`+f+`
`+q})}function tE(a,d,f,v,j,L,q){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+j+"]: "+d+`
`+f+`
`+L+" "+q})}function ji(a,d,f,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+rE(a,f)+(v?" "+v:"")})}function nE(a,d){a.info(function(){return"TIMEOUT: "+d})}qs.prototype.info=function(){};function rE(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var v=f[a];if(!(2>v.length)){var j=v[1];if(Array.isArray(j)&&!(1>j.length)){var L=j[0];if(L!="noop"&&L!="stop"&&L!="close")for(var q=1;q<j.length;q++)j[q]=""}}}}return g(f)}catch{return d}}var ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Np={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wu;function Va(){}P(Va,re),Va.prototype.g=function(){return new XMLHttpRequest},Va.prototype.i=function(){return{}},wu=new Va;function lr(a,d,f,v){this.j=a,this.i=d,this.l=f,this.R=v||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jp}function jp(){this.i=null,this.g="",this.h=!1}var Vp={},Eu={};function xu(a,d,f){a.L=1,a.v=Fa(Vn(d)),a.m=f,a.P=!0,Lp(a,null)}function Lp(a,d){a.F=Date.now(),La(a),a.A=Vn(a.v);var f=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Yp(f.i,"t",v),a.C=0,f=a.j.J,a.h=new jp,a.g=pm(a.j,f?d:null,!a.m),0<a.O&&(a.M=new _u(y(a.Y,a,a.g),a.O)),d=a.U,f=a.g,v=a.ca;var j="readystatechange";Array.isArray(j)||(j&&(Da[0]=j.toString()),j=Da);for(var L=0;L<j.length;L++){var q=at(f,j[L],v||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Ws(),eE(a.i,a.u,a.A,a.l,a.R,a.m)}lr.prototype.ca=function(a){a=a.target;const d=this.M;d&&Ln(a)==3?d.j():this.Y(a)},lr.prototype.Y=function(a){try{if(a==this.g)e:{const vt=Ln(this.g);var d=this.g.Ba();const Oi=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||rm(this.g)))){this.J||vt!=4||d==7||(d==8||0>=Oi?Ws(3):Ws(2)),Su(this);var f=this.g.Z();this.X=f;t:if(Op(this)){var v=rm(this.g);a="";var j=v.length,L=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),Hs(this);var q="";break t}this.h.i=new l.TextDecoder}for(d=0;d<j;d++)this.h.h=!0,a+=this.h.i.decode(v[d],{stream:!(L&&d==j-1)});v.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,tE(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,ut=this.g;if((_e=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(_e)){var me=_e;break t}}me=null}if(f=me)ji(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tu(this,f);else{this.o=!1,this.s=3,bt(12),ii(this),Hs(this);break e}}if(this.P){f=!0;let ln;for(;!this.J&&this.C<q.length;)if(ln=iE(this,q),ln==Eu){vt==4&&(this.s=4,bt(14),f=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Vp){this.s=4,bt(15),ji(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else ji(this.i,this.l,ln,null),Tu(this,ln);if(Op(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||q.length!=0||this.h.h||(this.s=1,bt(16),f=!1),this.o=this.o&&f,!f)ji(this.i,this.l,q,"[Invalid Chunked Response]"),ii(this),Hs(this);else if(0<q.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Ru(yt),yt.M=!0,bt(11))}}else ji(this.i,this.l,q,null),Tu(this,q);vt==4&&ii(this),this.o&&!this.J&&(vt==4?um(this.j,this):(this.o=!1,La(this)))}else EE(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),ii(this),Hs(this)}}}catch{}finally{}};function Op(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function iE(a,d){var f=a.C,v=d.indexOf(`
`,f);return v==-1?Eu:(f=Number(d.substring(f,v)),isNaN(f)?Vp:(v+=1,v+f>d.length?Eu:(d=d.slice(v,v+f),a.C=v+f,d)))}lr.prototype.cancel=function(){this.J=!0,ii(this)};function La(a){a.S=Date.now()+a.I,Mp(a,a.I)}function Mp(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=$s(y(a.ba,a),d)}function Su(a){a.B&&(l.clearTimeout(a.B),a.B=null)}lr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(nE(this.i,this.A),this.L!=2&&(Ws(),bt(17)),ii(this),this.s=2,Hs(this)):Mp(this,this.S-a)};function Hs(a){a.j.G==0||a.J||um(a.j,a)}function ii(a){Su(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Na(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Tu(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Iu(f.h,a))){if(!a.K&&Iu(f.h,a)&&f.G==3){try{var v=f.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var j=v;if(j[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)qa(f),Wa(f);else break e;ku(f),bt(18)}}else f.za=j[1],0<f.za-f.T&&37500>j[2]&&f.F&&f.v==0&&!f.C&&(f.C=$s(y(f.Za,f),6e3));if(1>=Up(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else oi(f,11)}else if((a.K||f.g==a)&&qa(f),!E(d))for(j=f.Da.g.parse(d),d=0;d<j.length;d++){let me=j[d];if(f.T=me[0],me=me[1],f.G==2)if(me[0]=="c"){f.K=me[1],f.ia=me[2];const yt=me[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));const vt=me[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));const Oi=me[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(v=1.5*Oi,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const ln=a.g;if(ln){const Ga=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var L=v.h;L.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Au(L,L.h),L.h=null))}if(v.D){const Pu=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Pu&&(v.ya=Pu,Ce(v.I,v.D,Pu))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var q=a;if(v.qa=fm(v,v.J?v.ia:null,v.W),q.K){Bp(v.h,q);var _e=q,ut=v.L;ut&&(_e.I=ut),_e.B&&(Su(_e),La(_e)),v.g=q}else lm(v);0<f.i.length&&$a(f)}else me[0]!="stop"&&me[0]!="close"||oi(f,7);else f.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?oi(f,7):bu(f):me[0]!="noop"&&f.l&&f.l.ta(me),f.v=0)}}Ws(4)}catch{}}var sE=class{constructor(a,d){this.g=a,this.map=d}};function Fp(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Up(a){return a.h?1:a.g?a.g.size:0}function Iu(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Au(a,d){a.g?a.g.add(d):a.h=d}function Bp(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Fp.prototype.cancel=function(){if(this.i=Wp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Wp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const f of a.g.values())d=d.concat(f.D);return d}return V(a.i)}function oE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,v=0;v<f;v++)d.push(a[v]);return d}d=[],f=0;for(v in a)d[f++]=a[v];return d}function aE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(const v in a)d[f++]=v;return d}}}function $p(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=aE(a),v=oE(a),j=v.length,L=0;L<j;L++)d.call(void 0,v[L],f&&f[L],a)}var qp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lE(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var v=a[f].indexOf("="),j=null;if(0<=v){var L=a[f].substring(0,v);j=a[f].substring(v+1)}else L=a[f];d(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function si(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof si){this.h=a.h,Oa(this,a.j),this.o=a.o,this.g=a.g,Ma(this,a.s),this.l=a.l;var d=a.i,f=new Qs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Hp(this,f),this.m=a.m}else a&&(d=String(a).match(qp))?(this.h=!1,Oa(this,d[1]||"",!0),this.o=Gs(d[2]||""),this.g=Gs(d[3]||"",!0),Ma(this,d[4]),this.l=Gs(d[5]||"",!0),Hp(this,d[6]||"",!0),this.m=Gs(d[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}si.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ks(d,Gp,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ks(d,Gp,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ks(f,f.charAt(0)=="/"?dE:uE,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ks(f,fE)),a.join("")};function Vn(a){return new si(a)}function Oa(a,d,f){a.j=f?Gs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ma(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Hp(a,d,f){d instanceof Qs?(a.i=d,pE(a.i,a.h)):(f||(d=Ks(d,hE)),a.i=new Qs(d,a.h))}function Ce(a,d,f){a.i.set(d,f)}function Fa(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Gs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ks(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,cE),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Gp=/[#\/\?@]/g,uE=/[#\?:]/g,dE=/[#\?]/g,hE=/[#\?@]/g,fE=/#/g;function Qs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function cr(a){a.g||(a.g=new Map,a.h=0,a.i&&lE(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Qs.prototype,t.add=function(a,d){cr(this),this.i=null,a=Vi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function Kp(a,d){cr(a),d=Vi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Qp(a,d){return cr(a),d=Vi(a,d),a.g.has(d)}t.forEach=function(a,d){cr(this),this.g.forEach(function(f,v){f.forEach(function(j){a.call(d,j,v,this)},this)},this)},t.na=function(){cr(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let v=0;v<d.length;v++){const j=a[v];for(let L=0;L<j.length;L++)f.push(d[v])}return f},t.V=function(a){cr(this);let d=[];if(typeof a=="string")Qp(this,a)&&(d=d.concat(this.g.get(Vi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return cr(this),this.i=null,a=Vi(this,a),Qp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Yp(a,d,f){Kp(a,d),0<f.length&&(a.i=null,a.g.set(Vi(a,d),V(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var v=d[f];const L=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var j=L;q[v]!==""&&(j+="="+encodeURIComponent(String(q[v]))),a.push(j)}}return this.i=a.join("&")};function Vi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function pE(a,d){d&&!a.j&&(cr(a),a.i=null,a.g.forEach(function(f,v){var j=v.toLowerCase();v!=j&&(Kp(this,v),Yp(this,j,f))},a)),a.j=d}function mE(a,d){const f=new qs;if(l.Image){const v=new Image;v.onload=R(ur,f,"TestLoadImage: loaded",!0,d,v),v.onerror=R(ur,f,"TestLoadImage: error",!1,d,v),v.onabort=R(ur,f,"TestLoadImage: abort",!1,d,v),v.ontimeout=R(ur,f,"TestLoadImage: timeout",!1,d,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function gE(a,d){const f=new qs,v=new AbortController,j=setTimeout(()=>{v.abort(),ur(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(L=>{clearTimeout(j),L.ok?ur(f,"TestPingServer: ok",!0,d):ur(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(j),ur(f,"TestPingServer: error",!1,d)})}function ur(a,d,f,v,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),v(f)}catch{}}function yE(){this.g=new Z}function vE(a,d,f){const v=f||"";try{$p(a,function(j,L){let q=j;h(j)&&(q=g(j)),d.push(v+L+"="+encodeURIComponent(q))})}catch(j){throw d.push(v+"type="+encodeURIComponent("_badmap")),j}}function za(a){this.l=a.Ub||null,this.j=a.eb||!1}P(za,re),za.prototype.g=function(){return new Ua(this.l,this.j)},za.prototype.i=function(a){return function(){return a}}({});function Ua(a,d){tt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ua,tt),t=Ua.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Js(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ys(this):Js(this),this.readyState==3&&Jp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ys(this))},t.Qa=function(a){this.g&&(this.response=a,Ys(this))},t.ga=function(){this.g&&Ys(this)};function Ys(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Js(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Js(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Xp(a){let d="";return U(a,function(f,v){d+=v,d+=":",d+=f,d+=`\r
`}),d}function Cu(a,d,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=Xp(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ce(a,d,f))}function Fe(a){tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Fe,tt);var _E=/^https?$/i,wE=["POST","PUT"];t=Fe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wu.g(),this.v=this.o?Ee(this.o):Ee(wu),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(L){Zp(this,L);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var j in v)f.set(j,v[j]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const L of v.keys())f.set(L,v.get(L));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),j=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(wE,d,void 0))||v||j||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of f)this.g.setRequestHeader(L,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nm(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){Zp(this,L)}};function Zp(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,em(a),Ba(a)}function em(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),Ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ba(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tm(this):this.bb())},t.bb=function(){tm(this)};function tm(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Ln(a)!=4||a.Z()!=2)){if(a.u&&Ln(a)==4)Ra(a.Ea,0,a);else if(lt(a,"readystatechange"),Ln(a)==4){a.h=!1;try{const q=a.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var v;if(v=q===0){var j=String(a.D).match(qp)[1]||null;!j&&l.self&&l.self.location&&(j=l.self.location.protocol.slice(0,-1)),v=!_E.test(j?j.toLowerCase():"")}f=v}if(f)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var L=2<Ln(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",em(a)}}finally{Ba(a)}}}}function Ba(a,d){if(a.g){nm(a);const f=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||lt(a,"ready");try{f.onreadystatechange=v}catch{}}}function nm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),D(d)}};function rm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function EE(a){const d={};a=(a.g&&2<=Ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(E(a[v]))continue;var f=k(a[v]);const j=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=d[j]||[];d[j]=L,L.push(f)}S(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function im(a){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,a),this.cb=Xs("retryDelaySeedMs",1e4,a),this.Wa=Xs("forwardChannelMaxRetries",2,a),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Fp(a&&a.concurrentRequestLimit),this.Da=new yE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=im.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,v){bt(0),this.W=a,this.H=d||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=fm(this,null,this.W),$a(this)};function bu(a){if(sm(a),a.G==3){var d=a.U++,f=Vn(a.I);if(Ce(f,"SID",a.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),Zs(a,f),d=new lr(a,a.j,d),d.L=2,d.v=Fa(Vn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=d.v,f=!0),f||(d.g=pm(d.j,null),d.g.ea(d.v)),d.F=Date.now(),La(d)}hm(a)}function Wa(a){a.g&&(Ru(a),a.g.cancel(),a.g=null)}function sm(a){Wa(a),a.u&&(l.clearTimeout(a.u),a.u=null),qa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function $a(a){if(!zp(a.h)&&!a.s){a.s=!0;var d=a.Ga;gt||J(),H||(gt(),H=!0),X.add(d,a),a.B=0}}function xE(a,d){return Up(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=$s(y(a.Ga,a,d),dm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const j=new lr(this,this.j,a);let L=this.o;if(this.S&&(L?(L=_(L),w(L,this.S)):L=this.S),this.m!==null||this.O||(j.H=L,L=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=am(this,j,d),f=Vn(this.I),Ce(f,"RID",a),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),Zs(this,f),L&&(this.O?d="headers="+encodeURIComponent(String(Xp(L)))+"&"+d:this.m&&Cu(f,this.m,L)),Au(this.h,j),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),j.T=!0,xu(j,f,null)):xu(j,f,d),this.G=2}}else this.G==3&&(a?om(this,a):this.i.length==0||zp(this.h)||om(this))};function om(a,d){var f;d?f=d.l:f=a.U++;const v=Vn(a.I);Ce(v,"SID",a.K),Ce(v,"RID",f),Ce(v,"AID",a.T),Zs(a,v),a.m&&a.o&&Cu(v,a.m,a.o),f=new lr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=am(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Au(a.h,f),xu(f,v,d)}function Zs(a,d){a.H&&U(a.H,function(f,v){Ce(d,v,f)}),a.l&&$p({},function(f,v){Ce(d,v,f)})}function am(a,d,f){f=Math.min(a.i.length,f);var v=a.l?y(a.l.Na,a.l,a):null;e:{var j=a.i;let L=-1;for(;;){const q=["count="+f];L==-1?0<f?(L=j[0].g,q.push("ofs="+L)):L=0:q.push("ofs="+L);let _e=!0;for(let ut=0;ut<f;ut++){let me=j[ut].g;const yt=j[ut].map;if(me-=L,0>me)L=Math.max(0,j[ut].g-100),_e=!1;else try{vE(yt,q,"req"+me+"_")}catch{v&&v(yt)}}if(_e){v=q.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,v}function lm(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;gt||J(),H||(gt(),H=!0),X.add(d,a),a.v=0}}function ku(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=$s(y(a.Fa,a),dm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,cm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=$s(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Wa(this),cm(this))};function Ru(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function cm(a){a.g=new lr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Vn(a.qa);Ce(d,"RID","rpc"),Ce(d,"SID",a.K),Ce(d,"AID",a.T),Ce(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(d,"TO",a.ja),Ce(d,"TYPE","xmlhttp"),Zs(a,d),a.m&&a.o&&Cu(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Fa(Vn(d)),f.m=null,f.P=!0,Lp(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Wa(this),ku(this),bt(19))};function qa(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function um(a,d){var f=null;if(a.g==d){qa(a),Ru(a),a.g=null;var v=2}else if(Iu(a.h,d))f=d.D,Bp(a.h,d),v=1;else return;if(a.G!=0){if(d.o)if(v==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var j=a.B;v=En(),lt(v,new Dp(v,f)),$a(a)}else lm(a);else if(j=d.s,j==3||j==0&&0<d.X||!(v==1&&xE(a,d)||v==2&&ku(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),j){case 1:oi(a,5);break;case 4:oi(a,10);break;case 3:oi(a,6);break;default:oi(a,2)}}}function dm(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function oi(a,d){if(a.j.info("Error code "+d),d==2){var f=y(a.fb,a),v=a.Xa;const j=!v;v=new si(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Oa(v,"https"),Fa(v),j?mE(v.toString(),f):gE(v.toString(),f)}else bt(2);a.G=0,a.l&&a.l.sa(d),hm(a),sm(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function hm(a){if(a.G=0,a.ka=[],a.l){const d=Wp(a.h);(d.length!=0||a.i.length!=0)&&(F(a.ka,d),F(a.ka,a.i),a.h.i.length=0,V(a.i),a.i.length=0),a.l.ra()}}function fm(a,d,f){var v=f instanceof si?Vn(f):new si(f);if(v.g!="")d&&(v.g=d+"."+v.g),Ma(v,v.s);else{var j=l.location;v=j.protocol,d=d?d+"."+j.hostname:j.hostname,j=+j.port;var L=new si(null);v&&Oa(L,v),d&&(L.g=d),j&&Ma(L,j),f&&(L.l=f),v=L}return f=a.D,d=a.ya,f&&d&&Ce(v,f,d),Ce(v,"VER",a.la),Zs(a,v),v}function pm(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Fe(new za({eb:f})):new Fe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mm(){}t=mm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ha(){}Ha.prototype.g=function(a,d){return new Bt(a,d)};function Bt(a,d){tt.call(this),this.g=new im(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!E(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Li(this)}P(Bt,tt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){bu(this.g)},Bt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=g(a),a=f);d.i.push(new sE(d.Ya++,a)),d.G==3&&$a(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,Bt.aa.N.call(this)};function gm(a){ct.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}P(gm,ct);function ym(){$e.call(this),this.status=1}P(ym,$e);function Li(a){this.g=a}P(Li,mm),Li.prototype.ua=function(){lt(this.g,"a")},Li.prototype.ta=function(a){lt(this.g,new gm(a))},Li.prototype.sa=function(a){lt(this.g,new ym)},Li.prototype.ra=function(){lt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Tw=function(){return new Ha},Sw=function(){return En()},xw=Me,wh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,Nl=ja,Np.COMPLETE="complete",Ew=Np,Ye.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",tt.prototype.listen=tt.prototype.K,mo=Ye,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,ww=Fe}).apply(typeof hl<"u"?hl:typeof self<"u"?self:typeof window<"u"?window:{});const oy="@firebase/firestore",ay="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Mf("@firebase/firestore");function zi(){return Ii.logLevel}function K(t,...e){if(Ii.logLevel<=le.DEBUG){const n=e.map(Qf);Ii.debug(`Firestore (${Ls}): ${t}`,...n)}}function Zn(t,...e){if(Ii.logLevel<=le.ERROR){const n=e.map(Qf);Ii.error(`Firestore (${Ls}): ${t}`,...n)}}function Ai(t,...e){if(Ii.logLevel<=le.WARN){const n=e.map(Qf);Ii.warn(`Firestore (${Ls}): ${t}`,...n)}}function Qf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Iw(t,r,n)}function Iw(t,e,n){let r=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zn(r),new Error(r)}function ye(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Iw(e,i,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class db{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hb{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new Aw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new xt(e)}}class fb{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pb{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mb{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ye(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ly(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ly(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Eh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return fd(i)===fd(s)?ce(i,s):fd(i)?1:-1}return ce(t.length,e.length)}const yb=55296,vb=57343;function fd(t){const e=t.charCodeAt(0);return e>=yb&&e<=vb}function Ts(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="__name__";class Tn{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Tn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ce(e.length,n.length)}static compareSegments(e,n){const r=Tn.isNumericId(e),i=Tn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Tn.extractNumericId(e).compare(Tn.extractNumericId(n)):Eh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class Se extends Tn{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Tn{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return _b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cy}static keyField(){return new it([cy])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new G(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new G(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Se.fromString(e))}static fromName(e){return new Y(Se.fromString(e).popFirst(5))}static empty(){return new Y(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t,e,n){if(!n)throw new G(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kw(t,e,n,r){if(e===!0&&r===!0)throw new G(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uy(t){if(!Y.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dy(t){if(Y.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Pt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xc(t);throw new G(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function va(t,e){if(!Rw(t))throw new G(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(M.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,fy=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fy);return new Te(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hy)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fy}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(va(e,Te._jsonSchema))return new Te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:Ke("string",Te._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Te(0,0))}static max(){return new se(new Te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=-1;function wb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Te(n+1,0):new Te(n,r));return new zr(i,Y.empty(),e)}function Eb(t){return new zr(t.readTime,t.key,ea)}class zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zr(se.min(),Y.empty(),ea)}static max(){return new zr(se.max(),Y.empty(),ea)}}function xb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==Sb)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(p=>{o[h]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ib(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ms(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function eu(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function Ab(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="";function Cb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=py(e)),e=bb(t.get(n),e);return py(e)}function bb(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Pw:n+="";break;default:n+=s}}return n}function py(t){return t+Pw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fl(this.root,e,this.comparator,!0)}}class fl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gy(this.data.getIterator())}getIteratorFrom(e){return new gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new Ze(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Nw("Invalid base64 string: "+s):s}}(e);return new ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(ye(!!t,39018),typeof t=="string"){let e=0;const n=kb.exec(t);if(ye(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="server_timestamp",Vw="__type__",Lw="__previous_value__",Ow="__local_write_time__";function Jf(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Vw])==null?void 0:r.stringValue)===jw}function tu(t){const e=t.mapValue.fields[Lw];return Jf(e)?tu(e):e}function ta(t){const e=Ur(t.mapValue.fields[Ow].timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,i,s,o,l,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const wc="(default)";class Is{constructor(e,n){this.projectId=e,this.database=n||wc}static empty(){return new Is("","")}get isDefaultDatabase(){return this.database===wc}isEqual(e){return e instanceof Is&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__type__",Pb="__max__",pl={mapValue:{}},Fw="__vector__",Ec="value";function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jf(t)?4:Nb(t)?9007199254740991:Db(t)?10:11:te(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ta(t).isEqual(ta(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ur(i.timestampValue),l=Ur(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Br(i.bytesValue).isEqual(Br(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),l=Be(s.doubleValue);return o===l?_c(o)===_c(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ts(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(my(o)!==my(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Dn(o[u],l[u])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function na(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function As(t,e){if(t===e)return 0;const n=Wr(t),r=Wr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Be(s.integerValue||s.doubleValue),u=Be(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return yy(t.timestampValue,e.timestampValue);case 4:return yy(ta(t),ta(e));case 5:return Eh(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Br(s),u=Br(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=ce(l[h],u[h]);if(p!==0)return p}return ce(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ce(Be(s.latitude),Be(o.latitude));return l!==0?l:ce(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var y,R,P,V;const l=s.fields||{},u=o.fields||{},h=(y=l[Ec])==null?void 0:y.arrayValue,p=(R=u[Ec])==null?void 0:R.arrayValue,m=ce(((P=h==null?void 0:h.values)==null?void 0:P.length)||0,((V=p==null?void 0:p.values)==null?void 0:V.length)||0);return m!==0?m:vy(h,p)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===pl.mapValue&&o===pl.mapValue)return 0;if(s===pl.mapValue)return 1;if(o===pl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const y=Eh(u[m],p[m]);if(y!==0)return y;const R=As(l[u[m]],h[p[m]]);if(R!==0)return R}return ce(u.length,p.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function yy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Ur(t),r=Ur(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function vy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=As(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function Cs(t){return xh(t)}function xh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=xh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${xh(n.fields[o])}`;return i+"}"}(t.mapValue):te(61005,{value:t})}function jl(t){switch(Wr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tu(t);return e?16+jl(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+jl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yr(r.fields,(s,o)=>{i+=s.length+jl(o)}),i}(t.mapValue);default:throw te(13486,{value:t})}}function _y(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sh(t){return!!t&&"integerValue"in t}function Xf(t){return!!t&&"arrayValue"in t}function wy(t){return!!t&&"nullValue"in t}function Ey(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vl(t){return!!t&&"mapValue"in t}function Db(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Mw])==null?void 0:r.stringValue)===Fw}function ko(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ko(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ko(t.arrayValue.values[n]);return e}return{...t}}function Nb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Pb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ko(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt(ko(this.value))}}function zw(t){const e=[];return Yr(t.fields,(n,r)=>{const i=new it([n]);if(Vl(r)){const s=zw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tt(e,0,se.min(),se.min(),se.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,se.min(),se.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,se.min(),se.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.position=e,this.inclusive=n}}function xy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=As(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function jb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class Ge extends Uw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lb(e,n,r):n==="array-contains"?new Fb(e,r):n==="in"?new zb(e,r):n==="not-in"?new Ub(e,r):n==="array-contains-any"?new Bb(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ob(e,r):new Mb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(As(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wn extends Uw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wn(e,n)}matches(e){return Bw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bw(t){return t.op==="and"}function Ww(t){return Vb(t)&&Bw(t)}function Vb(t){for(const e of t.filters)if(e instanceof wn)return!1;return!0}function Th(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Cs(t.value);if(Ww(t))return t.filters.map(e=>Th(e)).join(",");{const e=t.filters.map(n=>Th(n)).join(",");return`${t.op}(${e})`}}function $w(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(t,e):t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&$w(o,i.filters[l]),!0):!1}(t,e):void te(19439)}function qw(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Cs(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(qw).join(" ,")+"}"}(t):"Filter"}class Lb extends Ge{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ob extends Ge{constructor(e,n){super(e,"in",n),this.keys=Hw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mb extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=Hw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hw(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class Fb extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xf(n)&&na(n.arrayValue,this.value)}}class zb extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&na(this.value.arrayValue,n)}}class Ub extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!na(this.value.arrayValue,n)}}class Bb extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>na(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function Ty(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Wb(t,e,n,r,i,s,o)}function Zf(t){const e=oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Th(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.Te=n}return e.Te}function ep(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$w(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sy(t.startAt,e.startAt)&&Sy(t.endAt,e.endAt)}function Ih(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $b(t,e,n,r,i,s,o,l){return new Fs(t,e,n,r,i,s,o,l)}function nu(t){return new Fs(t)}function Iy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gw(t){return t.collectionGroup!==null}function Ro(t){const e=oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ze(it.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new ra(s,r))}),n.has(it.keyField().canonicalString())||e.Ie.push(new ra(it.keyField(),r))}return e.Ie}function Rn(t){const e=oe(t);return e.Ee||(e.Ee=qb(e,Ro(t))),e.Ee}function qb(t,e){if(t.limitType==="F")return Ty(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ra(i.field,s)});const n=t.endAt?new xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xc(t.startAt.position,t.startAt.inclusive):null;return Ty(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ah(t,e){const n=t.filters.concat([e]);return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ch(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ru(t,e){return ep(Rn(t),Rn(e))&&t.limitType===e.limitType}function Kw(t){return`${Zf(Rn(t))}|lt:${t.limitType}`}function Ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qw(i)).join(", ")}]`),eu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cs(i)).join(",")),`Target(${r})`}(Rn(t))}; limitType=${t.limitType})`}function iu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ro(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const h=xy(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Ro(r),i)||r.endAt&&!function(o,l,u){const h=xy(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Ro(r),i))}(t,e)}function Hb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Qw(t){return(e,n)=>{let r=!1;for(const i of Ro(t)){const s=Gb(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Gb(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?As(u,h):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Le(Y.comparator);function er(){return Kb}const Yw=new Le(Y.comparator);function go(...t){let e=Yw;for(const n of t)e=e.insert(n.key,n);return e}function Jw(t){let e=Yw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return Po()}function Xw(){return Po()}function Po(){return new Ri(t=>t.toString(),(t,e)=>t.isEqual(e))}const Qb=new Le(Y.comparator),Yb=new Ze(Y.comparator);function ue(...t){let e=Yb;for(const n of t)e=e.add(n);return e}const Jb=new Ze(ce);function Xb(){return Jb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function Zw(t){return{integerValue:""+t}}function Zb(t,e){return Ab(e)?Zw(e):tp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this._=void 0}}function ek(t,e,n){return t instanceof Sc?function(i,s){const o={fields:{[Vw]:{stringValue:jw},[Ow]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jf(s)&&(s=tu(s)),s&&(o.fields[Lw]=s),{mapValue:o}}(n,e):t instanceof ia?t1(t,e):t instanceof sa?n1(t,e):function(i,s){const o=e1(i,s),l=Ay(o)+Ay(i.Ae);return Sh(o)&&Sh(i.Ae)?Zw(l):tp(i.serializer,l)}(t,e)}function tk(t,e,n){return t instanceof ia?t1(t,e):t instanceof sa?n1(t,e):n}function e1(t,e){return t instanceof Tc?function(r){return Sh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Sc extends su{}class ia extends su{constructor(e){super(),this.elements=e}}function t1(t,e){const n=r1(e);for(const r of t.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class sa extends su{constructor(e){super(),this.elements=e}}function n1(t,e){let n=r1(e);for(const r of t.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class Tc extends su{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ay(t){return Be(t.integerValue||t.doubleValue)}function r1(t){return Xf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ia&&i instanceof ia||r instanceof sa&&i instanceof sa?Ts(r.elements,i.elements,Dn):r instanceof Tc&&i instanceof Tc?Dn(r.Ae,i.Ae):r instanceof Sc&&i instanceof Sc}(t.transform,e.transform)}class rk{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ll(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ou{}function i1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new np(t.key,rn.none()):new _a(t.key,t.data,rn.none());{const n=t.data,r=Lt.empty();let i=new Ze(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jr(t.key,r,new Ht(i.toArray()),rn.none())}}function ik(t,e,n){t instanceof _a?function(i,s,o){const l=i.value.clone(),u=by(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Jr?function(i,s,o){if(!Ll(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=by(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(s1(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Do(t,e,n,r){return t instanceof _a?function(s,o,l,u){if(!Ll(s.precondition,o))return l;const h=s.value.clone(),p=ky(s.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jr?function(s,o,l,u){if(!Ll(s.precondition,o))return l;const h=ky(s.fieldTransforms,u,o),p=o.data;return p.setAll(s1(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Ll(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function sk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=e1(r.transform,i||null);s!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function Cy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ts(r,i,(s,o)=>nk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _a extends ou{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jr extends ou{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function s1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function by(t,e,n){const r=new Map;ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,tk(o,l,n[i]))}return r}function ky(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ek(s,o,e))}return r}class np extends ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ok extends ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ik(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Do(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Do(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Xw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=i1(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(n,r)=>Cy(n,r))&&Ts(this.baseMutations,e.baseMutations,(n,r)=>Cy(n,r))}}class rp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Qb}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,fe;function uk(t){switch(t){case M.OK:return te(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function o1(t){if(t===void 0)return Zn("GRPC error has no .code"),M.UNKNOWN;switch(t){case qe.OK:return M.OK;case qe.CANCELLED:return M.CANCELLED;case qe.UNKNOWN:return M.UNKNOWN;case qe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case qe.INTERNAL:return M.INTERNAL;case qe.UNAVAILABLE:return M.UNAVAILABLE;case qe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case qe.NOT_FOUND:return M.NOT_FOUND;case qe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case qe.ABORTED:return M.ABORTED;case qe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case qe.DATA_LOSS:return M.DATA_LOSS;default:return te(39323,{code:t})}}(fe=qe||(qe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Vr([4294967295,4294967295],0);function Ry(t){const e=dk().encode(t),n=new _w;return n.update(e),new Uint8Array(n.digest())}function Py(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vr([n,r],0),new Vr([i,s],0)]}class ip{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Vr.fromNumber(r)));return i.compare(hk)===1&&(i=new Vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ry(e),[r,i]=Py(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ip(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Ry(e),[r,i]=Py(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new au(se.min(),i,new Le(ce),er(),ue())}}class wa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wa(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class a1{constructor(e,n){this.targetId=e,this.Ce=n}}class l1{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dy{constructor(){this.ve=0,this.Fe=Ny(),this.Me=ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new wa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ny()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fk{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=ml(),this.He=ml(),this.Ye=new Le(ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Ih(s))if(r===0){const o=new Y(s.path);this.et(n,o,Tt.newNoDocument(o,se.min()))}else ye(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Br(r).toUint8Array()}catch(u){if(u instanceof Nw)return Ai("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ip(o,i,s)}catch(u){return Ai(u instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&Ih(l.target)){const u=new Y(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Tt.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ue();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new au(e,n,this.Ye,this.je,r);return this.je=er(),this.Je=ml(),this.He=ml(),this.Ye=new Le(ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Dy,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ze(ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ze(ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dy),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ml(){return new Le(Y.comparator)}function Ny(){return new Le(Y.comparator)}const pk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gk={and:"AND",or:"OR"};class yk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bh(t,e){return t.useProto3Json||eu(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vk(t,e){return Ic(t,e.toTimestamp())}function Pn(t){return ye(!!t,49232),se.fromTimestamp(function(n){const r=Ur(n);return new Te(r.seconds,r.nanos)}(t))}function sp(t,e){return kh(t,e).canonicalString()}function kh(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function u1(t){const e=Se.fromString(t);return ye(m1(e),10190,{key:e.toString()}),e}function Rh(t,e){return sp(t.databaseId,e.path)}function pd(t,e){const n=u1(e);if(n.get(1)!==t.databaseId.projectId)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(h1(n))}function d1(t,e){return sp(t.databaseId,e)}function _k(t){const e=u1(t);return e.length===4?Se.emptyPath():h1(e)}function Ph(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h1(t){return ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jy(t,e,n){return{name:Rh(t,e),fields:n.value.mapValue.fields}}function wk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:te(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(ye(p===void 0||typeof p=="string",58123),ot.fromBase64String(p||"")):(ye(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ot.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const p=h.code===void 0?M.UNKNOWN:o1(h.code);return new G(p,h.message||"")}(o);n=new l1(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pd(t,r.document.name),s=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):se.min(),l=new Lt({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(i,s,o,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Ol(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pd(t,r.document),s=r.readTime?Pn(r.readTime):se.min(),o=Tt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ol([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pd(t,r.document),s=r.removedTargetIds||[];n=new Ol([],s,i,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ck(i,s),l=r.targetId;n=new a1(l,o)}}return n}function Ek(t,e){let n;if(e instanceof _a)n={update:jy(t,e.key,e.value)};else if(e instanceof np)n={delete:Rh(t,e.key)};else if(e instanceof Jr)n={update:jy(t,e.key,e.data),updateMask:Rk(e.fieldMask)};else{if(!(e instanceof ok))return te(16599,{Vt:e.type});n={verify:Rh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ia)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Tc)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te(27497)}(t,e.precondition)),n}function xk(t,e){return t&&t.length>0?(ye(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Pn(i.updateTime):Pn(s);return o.isEqual(se.min())&&(o=Pn(s)),new rk(o,i.transformResults||[])}(n,e))):[]}function Sk(t,e){return{documents:[d1(t,e.path)]}}function Tk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=d1(t,i);const s=function(h){if(h.length!==0)return p1(wn.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Bi(y.field),direction:Ck(y.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=bh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function Ik(t){let e=_k(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const y=f1(m);return y instanceof wn&&Ww(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(y=>function(P){return new ra(Wi(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(m){let y;return y=typeof m=="object"?m.value:m,eu(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(m){const y=!!m.before,R=m.values||[];return new xc(R,y)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const y=!m.before,R=m.values||[];return new xc(R,y)}(n.endAt)),$b(e,i,o,s,l,"F",u,h)}function Ak(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wi(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wi(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wi(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Wi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(r=>f1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function Ck(t){return pk[t]}function bk(t){return mk[t]}function kk(t){return gk[t]}function Bi(t){return{fieldPath:t.canonicalString()}}function Wi(t){return it.fromServerFormat(t.fieldPath)}function p1(t){return t instanceof Ge?function(n){if(n.op==="=="){if(Ey(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NAN"}};if(wy(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ey(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NOT_NAN"}};if(wy(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(n.field),op:bk(n.op),value:n.value}}}(t):t instanceof wn?function(n){const r=n.getFilters().map(i=>p1(i));return r.length===1?r[0]:{compositeFilter:{op:kk(n.op),filters:r}}}(t):te(54877,{filter:t})}function Rk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,r,i,s=se.min(),o=se.min(),l=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.yt=e}}function Dk(t){const e=Ik({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.Cn=new jk}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(zr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(g1,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bs(0)}static cr(){return new bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LruGarbageCollector",Vk=1048576;function Oy([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class Lk{constructor(e){this.Ir=e,this.buffer=new Ze(Oy),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Oy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ok{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(Ly,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ms(n)?K(Ly,"Ignoring IndexedDB error during garbage collection: ",n):await Os(n)}await this.Vr(3e5)})}}class Mk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Zc.ce);const r=new Lk(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Vy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vy):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),zi()<=le.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function Fk(t,e){return new Mk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changes=new Ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Do(r.mutation,i,Ht.empty(),Te.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=go();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=er();const o=Po(),l=function(){return Po()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Jr)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Do(p.mutation,h,p.mutation.getFieldMask(),Te.now())):o.set(h.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>l.set(h,new Uk(p,o.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Po();let i=new Le((o,l)=>o-l),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Ht.empty();p=l.applyToLocalView(h,p),r.set(u,p);const m=(i.get(l.batchId)||ue()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,m=Xw();p.forEach(y=>{if(!s.has(y)){const R=i1(n.get(y),r.get(y));R!==null&&m.set(y,R),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(fi());let l=ea,u=s;return o.next(h=>z.forEach(h,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(p)?z.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{u=u.insert(p,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,ue())).next(p=>({batchId:l,changes:Jw(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=go();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=go();return this.indexManager.getCollectionParents(e,s).next(l=>z.forEach(l,u=>{const h=function(m,y){return new Fs(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,Tt.newInvalidDocument(p)))});let l=go();return o.forEach((u,h)=>{const p=s.get(u);p!==void 0&&Do(p.mutation,h,Ht.empty(),Te.now()),iu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Dk(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.overlays=new Le(Y.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=fi(),s=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=fi(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return z.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lk(n,r));let s=this.qr.get(n);s===void 0&&(s=ue(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.Qr=new Ze(nt.$r),this.Ur=new Ze(nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Y(new Se([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new Se([])),r=new nt(n,e),i=new nt(n,e+1);let s=ue();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||ce(e.Yr,n.Yr)}static Kr(e,n){return ce(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(nt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ak(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new nt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Yf:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ce);return n.forEach(i=>{const s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new nt(new Y(s),0);let l=new Ze(ce);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Yr)),!0)},o),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new nt(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.ri=e,this.docs=function(){return new Le(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=er();const o=n.path,l=new Y(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||xb(Eb(p),r)<=0||(i.has(p.key)||iu(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kk(this)}getSize(e){return z.resolve(this.size)}}class Kk extends zk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.persistence=e,this.si=new Ri(n=>Zf(n),ep),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new op,this.targetCount=0,this.ai=bs.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zc(0),this.li=!1,this.li=!0,this.hi=new qk,this.referenceDelegate=e(this),this.Pi=new Qk(this),this.indexManager=new Nk,this.remoteDocumentCache=function(i){return new Gk(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Pk(n),this.Ii=new Wk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $k,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Hk(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Yk(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Yk extends Tb{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.Ri=new op,this.Vi=null}static mi(e){return new ap(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=Y.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ac{constructor(e,n){this.persistence=e,this.pi=new Ri(r=>Cb(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Fk(this,n)}static mi(e,n){return new Ac(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jl(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RT()?8:Ib(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Jk;return this.Ss(e,n,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(zi()<=le.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(zi()<=le.DEBUG&&K("QueryEngine","Query:",Ui(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(zi()<=le.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rn(n))):z.resolve())}ys(e,n){if(Iy(n))return z.resolve(null);let r=Rn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ch(n,null,"F"),r=Rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,l);return this.Cs(n,h,o,u.readTime)?this.ys(e,Ch(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,i){return Iy(n)||i.isEqual(se.min())?z.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?z.resolve(null):(zi()<=le.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ui(n)),this.vs(e,o,n,wb(i,ea)).next(l=>l))})}Ds(e,n){let r=new Ze(Qw(e));return n.forEach((i,s)=>{iu(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return zi()<=le.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ui(n)),this.ps.getDocumentsMatchingQuery(e,n,zr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",Zk=3e8;class eR{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Le(ce),this.xs=new Ri(s=>Zf(s),ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tR(t,e,n,r){return new eR(t,e,n,r)}async function v1(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ue();for(const h of i){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:l}))})})}function nR(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const m=h.batch,y=m.keys();let R=z.resolve();return y.forEach(P=>{R=R.next(()=>p.getEntry(u,P)).next(V=>{const F=h.docVersions.get(P);ye(F!==null,48541),V.version.compareTo(F)<0&&(m.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),p.addEntry(V)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ue();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _1(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function rR(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;l.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m)));let R=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?R=R.withResumeToken(ot.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):p.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(p.resumeToken,r)),i=i.insert(m,R),function(V,F,A){return V.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=Zk?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,R,p)&&l.push(n.Pi.updateTargetData(s,R))});let u=er(),h=ue();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(iR(s,o,e.documentUpdates).next(p=>{u=p.ks,h=p.qs})),!r.isEqual(se.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return z.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ms=i,s))}function iR(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=er();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):K(cp,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:o,qs:i}})}function sR(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Yf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oR(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Sr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Dh(t,e,n){const r=oe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ms(o))throw o;K(cp,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function My(t,e,n){const r=oe(t);let i=se.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,p){const m=oe(u),y=m.xs.get(p);return y!==void 0?z.resolve(m.Ms.get(y)):m.Pi.getTargetData(h,p)}(r,o,Rn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:ue())).next(l=>(aR(r,Hb(e),l),{documents:l,Qs:s})))}function aR(t,e,n){let r=t.Os.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Fy{constructor(){this.activeTargetIds=Xb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lR{constructor(){this.Mo=new Fy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="ConnectivityMonitor";class Uy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(zy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(zy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl=null;function Nh(){return gl===null?gl=function(){return 268435456+Math.round(2147483648*Math.random())}():gl++,"0x"+gl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",uR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===wc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Nh(),l=this.zo(e,n.toUriEncodedString());K(md,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:h}=new URL(l),p=Ns(h);return this.Jo(e,l,u,r,p).then(m=>(K(md,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Ai(md,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ls}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=uR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class fR extends dR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Nh();return new Promise((l,u)=>{const h=new ww;h.setWithCredentials(!0),h.listenOnce(Ew.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Nl.NO_ERROR:const m=h.getResponseJson();K(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Nl.TIMEOUT:K(Et,`RPC '${e}' ${o} timed out`),u(new G(M.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const y=h.getStatus();if(K(Et,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let R=h.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R==null?void 0:R.error;if(P&&P.status&&P.message){const V=function(A){const E=A.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(E)>=0?E:M.UNKNOWN}(P.status);u(new G(V,P.message))}else u(new G(M.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new G(M.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{K(Et,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);K(Et,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",p,r,15)})}T_(e,n,r){const i=Nh(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Tw(),l=Sw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");K(Et,`Creating RPC '${e}' stream ${i}: ${p}`,u);const m=o.createWebChannel(p,u);this.I_(m);let y=!1,R=!1;const P=new hR({Yo:F=>{R?K(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(y||(K(Et,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),K(Et,`RPC '${e}' stream ${i} sending:`,F),m.send(F))},Zo:()=>m.close()}),V=(F,A,E)=>{F.listen(A,b=>{try{E(b)}catch(O){setTimeout(()=>{throw O},0)}})};return V(m,mo.EventType.OPEN,()=>{R||(K(Et,`RPC '${e}' stream ${i} transport opened.`),P.o_())}),V(m,mo.EventType.CLOSE,()=>{R||(R=!0,K(Et,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(m))}),V(m,mo.EventType.ERROR,F=>{R||(R=!0,Ai(Et,`RPC '${e}' stream ${i} transport errored. Name:`,F.name,"Message:",F.message),P.a_(new G(M.UNAVAILABLE,"The operation could not be completed")))}),V(m,mo.EventType.MESSAGE,F=>{var A;if(!R){const E=F.data[0];ye(!!E,16349);const b=E,O=(b==null?void 0:b.error)||((A=b[0])==null?void 0:A.error);if(O){K(Et,`RPC '${e}' stream ${i} received error:`,O);const B=O.status;let U=function(x){const w=qe[x];if(w!==void 0)return o1(w)}(B),S=O.message;U===void 0&&(U=M.INTERNAL,S="Unknown error status: "+B+" with message "+O.message),R=!0,P.a_(new G(U,S)),m.close()}else K(Et,`RPC '${e}' stream ${i} received:`,E),P.u_(E)}}),V(l,xw.STAT_EVENT,F=>{F.stat===wh.PROXY?K(Et,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===wh.NOPROXY&&K(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){return new yk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="PersistentStream";class E1{constructor(e,n,r,i,s,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Zn(n.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(By,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(By,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pR extends E1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wk(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Pn(o.readTime):se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ph(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=Ih(u)?{documents:Sk(s,u)}:{query:Tk(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=c1(s,o.resumeToken);const h=bh(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(se.min())>0){l.readTime=Ic(s,o.snapshotVersion.toTimestamp());const h=bh(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=Ak(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ph(this.serializer),n.removeTarget=e,this.q_(n)}}class mR extends E1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xk(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ph(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ek(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{}class yR extends gR{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,kh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(M.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,kh(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(M.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zn(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="RemoteStore";class _R{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Pi(this)&&(K(Ci,"Restarting streams for network reachability change."),await async function(u){const h=oe(u);h.Ea.add(4),await Ea(h),h.Ra.set("Unknown"),h.Ea.delete(4),await cu(h)}(this))})}),this.Ra=new vR(r,i)}}async function cu(t){if(Pi(t))for(const e of t.da)await e(!0)}async function Ea(t){for(const e of t.da)await e(!1)}function x1(t,e){const n=oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fp(n)?hp(n):zs(n).O_()&&dp(n,e))}function up(t,e){const n=oe(t),r=zs(n);n.Ia.delete(e),r.O_()&&S1(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pi(n)&&n.Ra.set("Unknown"))}function dp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zs(t).Y_(e)}function S1(t,e){t.Va.Ue(e),zs(t).Z_(e)}function hp(t){t.Va=new fk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zs(t).start(),t.Ra.ua()}function fp(t){return Pi(t)&&!zs(t).x_()&&t.Ia.size>0}function Pi(t){return oe(t).Ea.size===0}function T1(t){t.Va=void 0}async function wR(t){t.Ra.set("Online")}async function ER(t){t.Ia.forEach((e,n)=>{dp(t,e)})}async function xR(t,e){T1(t),fp(t)?(t.Ra.ha(e),hp(t)):t.Ra.set("Unknown")}async function SR(t,e,n){if(t.Ra.set("Online"),e instanceof l1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){K(Ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cc(t,r)}else if(e instanceof Ol?t.Va.Ze(e):e instanceof a1?t.Va.st(e):t.Va.tt(e),!n.isEqual(se.min()))try{const r=await _1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const p=s.Ia.get(u);if(!p)return;s.Ia.set(u,p.withResumeToken(ot.EMPTY_BYTE_STRING,p.snapshotVersion)),S1(s,u);const m=new Sr(p.target,u,h,p.sequenceNumber);dp(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K(Ci,"Failed to raise snapshot:",r),await Cc(t,r)}}async function Cc(t,e,n){if(!Ms(e))throw e;t.Ea.add(1),await Ea(t),t.Ra.set("Offline"),n||(n=()=>_1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Ci,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cu(t)})}function I1(t,e){return e().catch(n=>Cc(t,n,e))}async function uu(t){const e=oe(t),n=$r(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yf;for(;TR(e);)try{const i=await sR(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,IR(e,i)}catch(i){await Cc(e,i)}A1(e)&&C1(e)}function TR(t){return Pi(t)&&t.Ta.length<10}function IR(t,e){t.Ta.push(e);const n=$r(t);n.O_()&&n.X_&&n.ea(e.mutations)}function A1(t){return Pi(t)&&!$r(t).x_()&&t.Ta.length>0}function C1(t){$r(t).start()}async function AR(t){$r(t).ra()}async function CR(t){const e=$r(t);for(const n of t.Ta)e.ea(n.mutations)}async function bR(t,e,n){const r=t.Ta.shift(),i=rp.from(r,e,n);await I1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await uu(t)}async function kR(t,e){e&&$r(t).X_&&await async function(r,i){if(function(o){return uk(o)&&o!==M.ABORTED}(i.code)){const s=r.Ta.shift();$r(r).B_(),await I1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await uu(r)}}(t,e),A1(t)&&C1(t)}async function Wy(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),K(Ci,"RemoteStore received new credentials");const r=Pi(n);n.Ea.add(3),await Ea(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cu(n)}async function RR(t,e){const n=oe(t);e?(n.Ea.delete(2),await cu(n)):e||(n.Ea.add(2),await Ea(n),n.Ra.set("Unknown"))}function zs(t){return t.ma||(t.ma=function(n,r,i){const s=oe(n);return s.sa(),new pR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:wR.bind(null,t),t_:ER.bind(null,t),r_:xR.bind(null,t),H_:SR.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),fp(t)?hp(t):t.Ra.set("Unknown")):(await t.ma.stop(),T1(t))})),t.ma}function $r(t){return t.fa||(t.fa=function(n,r,i){const s=oe(n);return s.sa(),new mR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:AR.bind(null,t),r_:kR.bind(null,t),ta:CR.bind(null,t),na:bR.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await uu(t)):(await t.fa.stop(),t.Ta.length>0&&(K(Ci,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new pp(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(t,e){if(Zn("AsyncQueue",`${e}: ${t}`),Ms(t))return new G(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{static emptySet(e){return new ps(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=go(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ps;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.ga=new Le(Y.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ks{constructor(e,n,r,i,s,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ks(e,n,ps.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class DR{constructor(){this.queries=qy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=qy(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new G(M.ABORTED,"Firestore shutting down"))}}function qy(){return new Ri(t=>Kw(t),ru)}async function gp(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new PR,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=mp(o,`Initialization of query '${Ui(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&vp(n)}async function yp(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NR(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&vp(n)}function jR(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function vp(t){t.Ca.forEach(e=>{e.next()})}var jh,Hy;(Hy=jh||(jh={})).Ma="default",Hy.Cache="cache";class _p{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class VR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ue(),this.mutatedKeys=ue(),this.eu=Qw(e),this.tu=new ps(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $y,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const y=i.get(p),R=iu(this.query,m)?m:null,P=!!y&&this.mutatedKeys.has(y.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let F=!1;y&&R?y.data.isEqual(R.data)?P!==V&&(r.track({type:3,doc:R}),F=!0):this.su(y,R)||(r.track({type:2,doc:R}),F=!0,(u&&this.eu(R,u)>0||h&&this.eu(R,h)<0)&&(l=!0)):!y&&R?(r.track({type:0,doc:R}),F=!0):y&&!R&&(r.track({type:1,doc:y}),F=!0,(u||h)&&(l=!0)),F&&(R?(o=o.add(R),s=V?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((p,m)=>function(R,P){const V=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:F})}};return V(R)-V(P)}(p.type,m.type)||this.eu(p.doc,m.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new ks(this.query,e.tu,s,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $y,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new k1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new b1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ks.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wp="SyncEngine";class LR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OR{constructor(e){this.key=e,this.hu=!1}}class MR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ri(l=>Kw(l),ru),this.Iu=new Map,this.Eu=new Set,this.du=new Le(Y.comparator),this.Au=new Map,this.Ru=new op,this.Vu={},this.mu=new Map,this.fu=bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FR(t,e,n=!0){const r=V1(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await R1(r,e,n,!0),i}async function zR(t,e){const n=V1(t);await R1(n,e,!0,!1)}async function R1(t,e,n,r){const i=await oR(t.localStore,Rn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await UR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&x1(t.remoteStore,i),l}async function UR(t,e,n,r,i){t.pu=(m,y,R)=>async function(V,F,A,E){let b=F.view.ru(A);b.Cs&&(b=await My(V.localStore,F.query,!1).then(({documents:S})=>F.view.ru(S,b)));const O=E&&E.targetChanges.get(F.targetId),B=E&&E.targetMismatches.get(F.targetId)!=null,U=F.view.applyChanges(b,V.isPrimaryClient,O,B);return Ky(V,F.targetId,U.au),U.snapshot}(t,m,y,R);const s=await My(t.localStore,e,!0),o=new VR(e,s.Qs),l=o.ru(s.documents),u=wa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,u);Ky(t,n,h.au);const p=new LR(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function BR(t,e,n){const r=oe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!ru(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&up(r.remoteStore,i.targetId),Vh(r,i.targetId)}).catch(Os)):(Vh(r,i.targetId),await Dh(r.localStore,i.targetId,!0))}async function WR(t,e){const n=oe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),up(n.remoteStore,r.targetId))}async function $R(t,e,n){const r=JR(t);try{const i=await function(o,l){const u=oe(o),h=Te.now(),p=l.reduce((R,P)=>R.add(P.key),ue());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=er(),V=ue();return u.Ns.getEntries(R,p).next(F=>{P=F,P.forEach((A,E)=>{E.isValidDocument()||(V=V.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,P)).next(F=>{m=F;const A=[];for(const E of l){const b=sk(E,m.get(E.key).overlayedDocument);b!=null&&A.push(new Jr(E.key,b,zw(b.value.mapValue),rn.exists(!0)))}return u.mutationQueue.addMutationBatch(R,h,A,l)}).next(F=>{y=F;const A=F.applyToLocalDocumentSet(m,V);return u.documentOverlayCache.saveOverlays(R,F.batchId,A)})}).then(()=>({batchId:y.batchId,changes:Jw(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Le(ce)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h}(r,i.batchId,n),await xa(r,i.changes),await uu(r.remoteStore)}catch(i){const s=mp(i,"Failed to persist write");n.reject(s)}}async function P1(t,e){const n=oe(t);try{const r=await rR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ye(o.hu,14607):i.removedDocuments.size>0&&(ye(o.hu,42227),o.hu=!1))}),await xa(n,r,e)}catch(r){await Os(r)}}function Gy(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=oe(o);u.onlineState=l;let h=!1;u.queries.forEach((p,m)=>{for(const y of m.Sa)y.va(l)&&(h=!0)}),h&&vp(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qR(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Le(Y.comparator);o=o.insert(s,Tt.newNoDocument(s,se.min()));const l=ue().add(s),u=new au(se.min(),new Map,new Le(ce),o,l);await P1(r,u),r.du=r.du.remove(s),r.Au.delete(e),Ep(r)}else await Dh(r.localStore,e,!1).then(()=>Vh(r,e,n)).catch(Os)}async function HR(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await nR(n.localStore,e);N1(n,r,null),D1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xa(n,i)}catch(i){await Os(i)}}async function GR(t,e,n){const r=oe(t);try{const i=await function(o,l){const u=oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(ye(m!==null,37113),p=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);N1(r,e,n),D1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xa(r,i)}catch(i){await Os(i)}}function D1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function N1(t,e,n){const r=oe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Vh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||j1(t,r)})}function j1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(up(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ep(t))}function Ky(t,e,n){for(const r of n)r instanceof b1?(t.Ru.addReference(r.key,e),KR(t,r)):r instanceof k1?(K(wp,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||j1(t,r.key)):te(19791,{wu:r})}function KR(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(wp,"New document in limbo: "+n),t.Eu.add(r),Ep(t))}function Ep(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Se.fromString(e)),r=t.fu.next();t.Au.set(r,new OR(n)),t.du=t.du.insert(n,r),x1(t.remoteStore,new Sr(Rn(nu(n.path)),r,"TargetPurposeLimboResolution",Zc.ce))}}async function xa(t,e,n){const r=oe(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=lp.As(u.targetId,h);s.push(m)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,h){const p=oe(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(h,y=>z.forEach(y.Es,R=>p.persistence.referenceDelegate.addReference(m,y.targetId,R)).next(()=>z.forEach(y.ds,R=>p.persistence.referenceDelegate.removeReference(m,y.targetId,R)))))}catch(m){if(!Ms(m))throw m;K(cp,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const R=p.Ms.get(y),P=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(P);p.Ms=p.Ms.insert(y,V)}}}(r.localStore,s))}async function QR(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){K(wp,"User change. New user:",e.toKey());const r=await v1(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new G(M.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xa(n,r.Ls)}}function YR(t,e){const n=oe(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let i=ue();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function V1(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qR.bind(null,e),e.Pu.H_=NR.bind(null,e.eventManager),e.Pu.yu=jR.bind(null,e.eventManager),e}function JR(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tR(this.persistence,new Xk,e.initialUser,this.serializer)}Cu(e){return new y1(ap.mi,this.serializer)}Du(e){return new lR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class XR extends bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ye(this.persistence.referenceDelegate instanceof Ac,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ok(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new y1(r=>Ac.mi(r,n),this.serializer)}}class Lh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DR}()}createDatastore(e){const n=lu(e.databaseInfo.databaseId),r=function(s){return new fR(s)}(e.databaseInfo);return function(s,o,l,u){return new yR(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new _R(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Gy(this.syncEngine,n,0),function(){return Uy.v()?new Uy:new cR}())}createSyncEngine(e,n){return function(i,s,o,l,u,h,p){const m=new MR(i,s,o,l,u,h);return p&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);K(Ci,"RemoteStore shutting down."),s.Ea.add(5),await Ea(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Lh.provider={build:()=>new Lh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class ZR{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=Jc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(qr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(qr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yd(t,e){t.asyncQueue.verifyOperationInProgress(),K(qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await v1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eP(t);K(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Wy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Wy(e.remoteStore,i)),t._onlineComponents=e}async function eP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(qr,"Using user provided OfflineComponentProvider");try{await yd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ai("Error using user provided cache. Falling back to memory cache: "+n),await yd(t,new bc)}}else K(qr,"Using default OfflineComponentProvider"),await yd(t,new XR(void 0));return t._offlineComponents}async function L1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(qr,"Using user provided OnlineComponentProvider"),await Qy(t,t._uninitializedComponentsProvider._online)):(K(qr,"Using default OnlineComponentProvider"),await Qy(t,new Lh))),t._onlineComponents}function tP(t){return L1(t).then(e=>e.syncEngine)}async function kc(t){const e=await L1(t),n=e.eventManager;return n.onListen=FR.bind(null,e.syncEngine),n.onUnlisten=BR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WR.bind(null,e.syncEngine),n}function nP(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const p=new xp({next:y=>{p.Nu(),o.enqueueAndForget(()=>yp(s,m));const R=y.docs.has(l);!R&&y.fromCache?h.reject(new G(M.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&y.fromCache&&u&&u.source==="server"?h.reject(new G(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new _p(nu(l.path),p,{includeMetadataChanges:!0,qa:!0});return gp(s,m)}(await kc(t),t.asyncQueue,e,n,r)),r.promise}function rP(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const p=new xp({next:y=>{p.Nu(),o.enqueueAndForget(()=>yp(s,m)),y.fromCache&&u.source==="server"?h.reject(new G(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new _p(l,p,{includeMetadataChanges:!0,qa:!0});return gp(s,m)}(await kc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firestore.googleapis.com",Jy=!0;class Xy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M1,this.ssl=Jy}else this.host=e.host,this.ssl=e.ssl??Jy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vk)throw new G(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class du{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cw;switch(r.type){case"firstParty":return new pb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yy.get(n);r&&(K("ComponentProvider","Removing Datastore"),Yy.delete(n),r.terminate())}(this),Promise.resolve()}}function F1(t,e,n,r={}){var h;t=Pt(t,du);const i=Ns(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(P_(`https://${l}`),D_("Firestore",!0)),s.host!==M1&&s.host!==l&&Ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!Ei(u,o)&&(t._setSettings(u),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=xt.MOCK_USER;else{p=ET(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new G(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new xt(y)}t._authCredentials=new db(new Aw(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sr(this.firestore,e,this._query)}}class Ne{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(va(n,Ne._jsonSchema))return new Ne(e,r||null,new Y(Se.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ke("string",Ne._jsonSchemaVersion),referencePath:Ke("string")};class Hn extends sr{constructor(e,n,r){super(e,n,nu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new Y(e))}withConverter(e){return new Hn(this.firestore,e,this._path)}}function rs(t,e,...n){if(t=et(t),bw("collection","path",e),t instanceof du){const r=Se.fromString(e,...n);return dy(r),new Hn(t,null,r)}{if(!(t instanceof Ne||t instanceof Hn))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return dy(r),new Hn(t.firestore,null,r)}}function Zt(t,e,...n){if(t=et(t),arguments.length===1&&(e=Jc.newId()),bw("doc","path",e),t instanceof du){const r=Se.fromString(e,...n);return uy(r),new Ne(t,null,new Y(r))}{if(!(t instanceof Ne||t instanceof Hn))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return uy(r),new Ne(t.firestore,t instanceof Hn?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="AsyncQueue";class e0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w1(this,"async_queue_retry"),this._c=()=>{const r=gd();r&&K(Zy,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ms(e))throw e;K(Zy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zn("INTERNAL UNHANDLED ERROR: ",t0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=pp.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&te(47125,{Pc:t0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function t0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Nn extends du{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new e0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e0(e),this._firestoreClient=void 0,await e}}}function z1(t,e){const n=typeof t=="object"?t:L_(),r=typeof t=="string"?t:wc,i=zf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_T("firestore");s&&F1(i,...s)}return i}function Sa(t){if(t._terminated)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iP(t),t._firestoreClient}function iP(t){var r,i,s;const e=t._freezeSettings(),n=function(l,u,h,p){return new Rb(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,O1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZR(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $t(ot.fromBase64String(e))}catch(n){throw new G(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $t(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(va(e,$t._jsonSchema))return $t.fromBase64String(e.bytes)}}$t._jsonSchemaVersion="firestore/bytes/1.0",$t._jsonSchema={type:Ke("string",$t._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gn._jsonSchemaVersion}}static fromJSON(e){if(va(e,gn._jsonSchema))return new gn(e.latitude,e.longitude)}}gn._jsonSchemaVersion="firestore/geoPoint/1.0",gn._jsonSchema={type:Ke("string",gn._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(va(e,yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new yn(e.vectorValues);throw new G(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yn._jsonSchemaVersion="firestore/vectorValue/1.0",yn._jsonSchema={type:Ke("string",yn._jsonSchemaVersion),vectorValues:Ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=/^__.*__$/;class oP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _a(e,this.data,n,this.fieldTransforms)}}class U1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class Sp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(B1(this.Ac)&&sP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lu(e)}Cc(e,n,r,i=!1){return new Sp({Ac:e,methodName:n,Dc:r,path:it.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fu(t){const e=t._freezeSettings(),n=lu(t._databaseId);return new aP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function W1(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Tp("Data must be an object, but it was:",o,r);const l=$1(r,o);let u,h;if(s.merge)u=new Ht(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const y=Oh(e,m,n);if(!o.contains(y))throw new G(M.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);H1(p,y)||p.push(y)}u=new Ht(p),h=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=o.fieldTransforms;return new oP(new Lt(l),u,h)}class pu extends hu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pu}}function lP(t,e,n,r){const i=t.Cc(1,e,n);Tp("Data must be an object, but it was:",i,r);const s=[],o=Lt.empty();Yr(r,(u,h)=>{const p=Ip(e,u,n);h=et(h);const m=i.yc(p);if(h instanceof pu)s.push(p);else{const y=Ia(h,m);y!=null&&(s.push(p),o.set(p,y))}});const l=new Ht(s);return new U1(o,l,i.fieldTransforms)}function cP(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[Oh(e,r,n)],u=[i];if(s.length%2!=0)throw new G(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(Oh(e,s[y])),u.push(s[y+1]);const h=[],p=Lt.empty();for(let y=l.length-1;y>=0;--y)if(!H1(h,l[y])){const R=l[y];let P=u[y];P=et(P);const V=o.yc(R);if(P instanceof pu)h.push(R);else{const F=Ia(P,V);F!=null&&(h.push(R),p.set(R,F))}}const m=new Ht(h);return new U1(p,m,o.fieldTransforms)}function uP(t,e,n,r=!1){return Ia(n,t.Cc(r?4:3,e))}function Ia(t,e){if(q1(t=et(t)))return Tp("Unsupported field value:",e,t),$1(t,e);if(t instanceof hu)return function(r,i){if(!B1(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ia(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Zb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Te.fromDate(r);return{timestampValue:Ic(i.serializer,s)}}if(r instanceof Te){const s=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(i.serializer,s)}}if(r instanceof gn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $t)return{bytesValue:c1(i.serializer,r._byteString)};if(r instanceof Ne){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yn)return function(o,l){return{mapValue:{fields:{[Mw]:{stringValue:Fw},[Ec]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return tp(l.serializer,h)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Xc(r)}`)}(t,e)}function $1(t,e){const n={};return Dw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(t,(r,i)=>{const s=Ia(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function q1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Te||t instanceof gn||t instanceof $t||t instanceof Ne||t instanceof hu||t instanceof yn)}function Tp(t,e,n){if(!q1(n)||!Rw(n)){const r=Xc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Oh(t,e,n){if((e=et(e))instanceof Ta)return e._internalPath;if(typeof e=="string")return Ip(t,e);throw Rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const dP=new RegExp("[~\\*/\\[\\]]");function Ip(t,e,n){if(e.search(dP)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ta(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new G(M.INVALID_ARGUMENT,l+t+u)}function H1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ap("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hP extends G1{data(){return super.data()}}function Ap(t,e){return typeof e=="string"?Ip(t,e):e instanceof Ta?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}class bp extends Cp{}function Ml(t,e,...n){let r=[];e instanceof Cp&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof gu).length,l=s.filter(u=>u instanceof mu).length;if(o>1||o>0&&l>0)throw new G(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mu extends bp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mu(e,n,r)}_apply(e){const n=this._parse(e);return Q1(e._query,n),new sr(e.firestore,e.converter,Ah(e._query,n))}_parse(e){const n=fu(e.firestore);return function(s,o,l,u,h,p,m){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new G(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){i0(m,p);const P=[];for(const V of m)P.push(r0(u,s,V));y={arrayValue:{values:P}}}else y=r0(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||i0(m,p),y=uP(l,o,m,p==="in"||p==="not-in");return Ge.create(h,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gu extends Cp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)Q1(o,u),o=Ah(o,u)}(e._query,n),new sr(e.firestore,e.converter,Ah(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yu extends bp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yu(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new G(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ra(s,o)}(e._query,this._field,this._direction);return new sr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Fs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Mh(t,e="asc"){const n=e,r=Ap("orderBy",t);return yu._create(r,n)}function r0(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new G(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gw(e)&&n.indexOf("/")!==-1)throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!Y.isDocumentKey(r))throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _y(t,new Y(r))}if(n instanceof Ne)return _y(t,n._key);throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xc(n)}.`)}function i0(t,e){if(!Array.isArray(t)||t.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q1(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y1{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Ec].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Be(o.doubleValue));return new yn(n)}convertGeoPoint(e){return new gn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new Te(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ye(m1(r),9688,{name:e});const i=new Is(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||Zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lr extends G1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new No(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ap("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Lr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:Ke("string",Lr._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class No extends Lr{data(e={}){return super.data(e)}}class Or{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new No(this._firestore,this._userDataWriter,r.key,r,new is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new No(i._firestore,i._userDataWriter,l.doc.key,l.doc,new is(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new No(i._firestore,i._userDataWriter,l.doc.key,l.doc,new is(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:fP(l.type),doc:u,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Or._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){t=Pt(t,Ne);const e=Pt(t.firestore,Nn);return nP(Sa(e),t._key).then(n=>X1(e,t,n))}Or._jsonSchemaVersion="firestore/querySnapshot/1.0",Or._jsonSchema={type:Ke("string",Or._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class kp extends Y1{constructor(e){super(),this.firestore=e}convertBytes(e){return new $t(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function Fl(t){t=Pt(t,sr);const e=Pt(t.firestore,Nn),n=Sa(e),r=new kp(e);return K1(t._query),rP(n,t._query).then(i=>new Or(e,r,t,i))}function zh(t,e,n){t=Pt(t,Ne);const r=Pt(t.firestore,Nn),i=J1(t.converter,e);return Aa(r,[W1(fu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rn.none())])}function ms(t,e,n,...r){t=Pt(t,Ne);const i=Pt(t.firestore,Nn),s=fu(i);let o;return o=typeof(e=et(e))=="string"||e instanceof Ta?cP(s,"updateDoc",t._key,e,n,r):lP(s,"updateDoc",t._key,e),Aa(i,[o.toMutation(t._key,rn.exists(!0))])}function Uh(t){return Aa(Pt(t.firestore,Nn),[new np(t._key,rn.none())])}function Rp(t,e){const n=Pt(t.firestore,Nn),r=Zt(t),i=J1(t.converter,e);return Aa(n,[W1(fu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rn.exists(!1))]).then(()=>r)}function pP(t,...e){var u,h,p;t=et(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||n0(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(n0(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(h=m.error)==null?void 0:h.bind(m),e[r+2]=(p=m.complete)==null?void 0:p.bind(m)}let s,o,l;if(t instanceof Ne)o=Pt(t.firestore,Nn),l=nu(t._key.path),s={next:m=>{e[r]&&e[r](X1(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Pt(t,sr);o=Pt(m.firestore,Nn),l=m._query;const y=new kp(o);s={next:R=>{e[r]&&e[r](new Or(o,y,m,R))},error:e[r+1],complete:e[r+2]},K1(t._query)}return function(y,R,P,V){const F=new xp(V),A=new _p(R,F,P);return y.asyncQueue.enqueueAndForget(async()=>gp(await kc(y),A)),()=>{F.Nu(),y.asyncQueue.enqueueAndForget(async()=>yp(await kc(y),A))}}(Sa(o),l,i,s)}function Aa(t,e){return function(r,i){const s=new qn;return r.asyncQueue.enqueueAndForget(async()=>$R(await tP(r),i,s)),s.promise}(Sa(t),e)}function X1(t,e,n){const r=n.docs.get(e._key),i=new kp(t);return new Lr(t,i,e._key,r,new is(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ls=i})(js),Ss(new xi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Nn(new hb(r.getProvider("auth-internal")),new mb(o,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Is(h.options.projectId,p)}(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),jr(oy,ay,e),jr(oy,ay,"esm2020")})();const vd=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Y1,Bytes:$t,CollectionReference:Hn,DocumentReference:Ne,DocumentSnapshot:Lr,FieldPath:Ta,FieldValue:hu,Firestore:Nn,FirestoreError:G,GeoPoint:gn,Query:sr,QueryCompositeFilterConstraint:gu,QueryConstraint:bp,QueryDocumentSnapshot:No,QueryFieldFilterConstraint:mu,QueryOrderByConstraint:yu,QuerySnapshot:Or,SnapshotMetadata:is,Timestamp:Te,VectorValue:yn,_AutoId:Jc,_ByteString:ot,_DatabaseId:Is,_DocumentKey:Y,_EmptyAuthCredentialsProvider:Cw,_FieldPath:it,_cast:Pt,_logWarn:Ai,_validateIsNotUsedTogether:kw,addDoc:Rp,collection:rs,connectFirestoreEmulator:F1,deleteDoc:Uh,doc:Zt,ensureFirestoreConfigured:Sa,executeWrite:Aa,getDoc:Fh,getDocs:Fl,getFirestore:z1,onSnapshot:pP,orderBy:Mh,query:Ml,setDoc:zh,updateDoc:ms},Symbol.toStringTag,{value:"Module"}));var mP="firebase",gP="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(mP,gP,"app");const yP={apiKey:"AIzaSyDHDmKPSDZ6NqHdQw-gSXgkuk_MKa3CZbY",authDomain:"amorymiel-ddfaf.firebaseapp.com",projectId:"amorymiel-ddfaf",storageBucket:"amorymiel-ddfaf.firebasestorage.app",messagingSenderId:"86354568079",appId:"1:86354568079:web:7571369a1d391ab5d361fa",measurementId:"G-15KXQ1LM0B"},Z1=V_(yP),Fi=cb(Z1),ze=z1(Z1),vP=[{id:"velas-miel",nombre:"Velas De Miel",categoria:"Velas",precio:150,descripcion:" Velas artesanales de cera natural de abeja 100% pura  Elaboradas con amor y consagradas para rituales de abundancia  Perfectas para purificar espacios y atraer prosperidad "},{id:"locion-atrayente",nombre:"Locin Atrayente",categoria:"Lociones",precio:180,descripcion:" Locin artesanal con esencias naturales seleccionadas  Perfecta para atraer energas positivas y abundancia  Ideal para mejorar la autoestima y confianza personal "},{id:"locion-palo-santo",nombre:"Locin Palo Santo",categoria:"Lociones",precio:200,descripcion:" Locin sagrada con esencia pura de Palo Santo  Consagrada para limpieza energtica profunda  Perfecta para purificar espacios y proteger contra energas negativas "},{id:"agua-florida",nombre:"Agua Florida",categoria:"Lociones",precio:180,descripcion:" Agua Florida tradicional de la ms alta pureza  Consagrada para limpieza energtica profunda  Perfecta para purificar espacios sagrados y limpiar auras  Ideal para rituales de limpieza espiritual ancestral "},{id:"brisa-bendicion-dinero",nombre:"Brisa urica Bendicin del Dinero",categoria:"Brisas uricas",precio:220,descripcion:" Brisa urica artesanal consagrada para limpiar la energa del dinero  Perfecta para atraer prosperidad y abundancia financiera  Ideal para rociar en billeteras y espacios de trabajo "},{id:"brisa-prosperidad",nombre:"Brisa urica Prosperidad",categoria:"Brisas uricas",precio:220,descripcion:" Brisa urica especializada en atraer prosperidad universal  Perfecta para limpieza energtica emocional y liberacin de energas negativas  Ideal para crear un aura de xito y bienestar "},{id:"brisa-abundancia",nombre:"Brisa urica Abundancia",categoria:"Brisas uricas",precio:220,descripcion:" Brisa urica consagrada para atraer abundancia universal  Perfecta para expandir oportunidades en todas las reas de tu vida  Ideal para abrir nuevos caminos de prosperidad y crecimiento personal "},{id:"exf-abrecaminos",nombre:"Exfoliante Abre Caminos",categoria:"Exfoliantes",precio:180,descripcion:"Exfoliante artesanal con Miel, Canela, Azcar y Caf para exfoliar e hidratar tu piel."},{id:"exf-venus",nombre:"Exfoliante Venus",categoria:"Exfoliantes",precio:200,descripcion:" Exfoliante especial consagrado para el amor propio y la belleza interior  Perfecto para nutrir la piel mientras se trabaja la autoestima  Ideal para rituales de autocuidado y conexin con la energa femenina "},{id:"feromonas-naturales",nombre:"Feromonas Naturales",categoria:"Feromonas",precio:250,descripcion:" Feromonas naturales de la ms alta pureza para aumentar la atraccin personal  Perfectas para potenciar el magnetismo natural y la confianza  Ideal para crear conexiones autnticas y aumentar el atractivo "},{id:"feromonas-dyc",nombre:"Feromonas Damas y Caballeros",categoria:"Feromonas",precio:250,descripcion:" Feromonas especiales diseadas para damas y caballeros  Fortalecen la conexin de pareja y aumentan la atraccin mutua  Perfectas para potenciar la qumica natural y crear vnculos ms profundos "},{id:"agua-micelar",nombre:"Agua Micelar",categoria:"Faciales",precio:220,descripcion:" Agua micelar artesanal formada a base de micelas naturales  Atrae y retira suciedad de forma suave y efectiva  Perfecta para limpiar y purificar la piel naturalmente "},{id:"agua-rosas",nombre:"Agua de Rosas",categoria:"Faciales",precio:180,descripcion:" Agua de rosas natural de la ms alta pureza para suavizar y nutrir la piel  Perfecta para hidratar naturalmente y proporcionar antioxidantes  Ideal para crear un ritual de belleza natural y potenciar la energa femenina "},{id:"aceite-abre",nombre:"Aceite Abre Caminos",categoria:"Aceites",precio:200,descripcion:" Aceite artesanal elaborado con extraccin de esencias naturales de plantas medicinales mexicanas  Perfecto para abrir nuevos caminos de oportunidades y manifestacin  Ideal para rituales de abundancia y limpiar obstculos energticos "},{id:"aceite-ungir",nombre:"Aceite para Ungir",categoria:"Aceites",precio:250,descripcion:" Aceite artesanal de grado espiritual, elaborado con base de aceite de Oliva, Mirra y Canela  Perfecto para consagrar objetos sagrados y rituales espirituales  Ideal para ungir personas y crear ambientes de paz y armona divina "},{id:"shampoo-artesanal",nombre:"Shampoo Artesanal",categoria:"Shampoo",precio:120,descripcion:" Shampoo artesanal elaborado con ingredientes naturales de la ms alta calidad  Perfecto para limpiar suavemente y nutrir desde la raz  Proporciona brillo natural y mantiene el equilibrio del cuero cabelludo "},{id:"shampoo-miel",nombre:"Shampoo Extracto de Miel",categoria:"Shampoo",precio:140,descripcion:" Shampoo artesanal elaborado con extracto de miel natural 100% pura  Perfecto para suavizar y nutrir el cabello profundamente  Proporciona brillo natural y fortalece desde la raz "},{id:"shampoo-romero",nombre:"Shampoo Extracto de Romero",categoria:"Shampoo",precio:140,descripcion:" Shampoo artesanal elaborado con extracto de romero natural  Perfecto para fortalecer el cabello y estimular el crecimiento  Ideal para cabello dbil y quebradizo, proporciona fuerza natural "},{id:"mascarilla-capilar",nombre:"Mascarilla Capilar",categoria:"Cabello",precio:80,descripcion:" Mascarilla artesanal elaborada con ingredientes naturales para hidratar y dar brillo al cabello  Perfecta para nutrir desde la raz y suavizar profundamente  Ideal para crear un ritual de cuidado capilar hidratante "},{id:"agua-luna",nombre:"Agua de Luna",categoria:"Energticos",precio:180,descripcion:" Agua energizada con la energa sagrada de la luna para calma y limpieza espiritual  Perfecta para proporcionar tranquilidad y equilibrar emociones  Ideal para purificar espacios y crear ambientes de paz y serenidad "},{id:"miel-consagrada",nombre:"Miel Consagrada",categoria:"Miel",precio:200,descripcion:" Miel consagrada de la ms alta pureza para rituales de prosperidad y abundancia  Perfecta para endulzar rituales de manifestacin y atraer prosperidad  Ideal para potenciar la ley de atraccin y crear dulzura en la vida "},{id:"sal-negra",nombre:"Sal Negra",categoria:"Proteccin",precio:150,descripcion:" Sal negra sagrada para proteccin y limpieza energtica integral  Perfecta para proteger contra energas negativas y purificar espacios  Ideal para crear barreras de proteccin y eliminar malas vibras "},{id:"polvo-oro",nombre:"Polvo de Oro",categoria:"Rituales",precio:180,descripcion:" Polvo de oro sagrado para rituales de abundancia y manifestacin  Perfecto para potenciar rituales de riqueza y activar la energa del oro  Ideal para manifestar abundancia material y crear vibraciones de prosperidad "},{id:"palo-santo",nombre:"Palo Santo",categoria:"Sahumerios",precio:120,descripcion:" Palo santo sagrado para purificacin y armona del ambiente  Perfecto para limpiar energas negativas y crear ambientes de paz  Ideal para facilitar la meditacin y potenciar rituales de limpieza espiritual "},{id:"sahumerios",nombre:"Sahumerios",categoria:"Sahumerios",precio:100,descripcion:" Sahumerios naturales de la ms alta pureza para purificacin y limpieza energtica  Perfectos para limpiar energas negativas con aromas naturales  Ideales para crear ambientes de paz y armona durante la meditacin "},{id:"bano-amargo",nombre:"Bao Energtico Amargo",categoria:"Baos Energticos",precio:120,descripcion:" Bao energtico amargo consagrado para descarga y limpieza profunda  Perfecto para realizar descarga energtica y limpiar energas negativas acumuladas  Ideal para purificar el campo energtico y eliminar bloqueos "},{id:"bano-amor-propio",nombre:"Bao Energtico Amor Propio",categoria:"Baos Energticos",precio:120,descripcion:" Bao energtico consagrado para aumentar el amor propio y la autoestima  Perfecto para fortalecer la confianza personal y crear energa de amor hacia uno mismo  Ideal para mejorar la relacin con el cuerpo y crear rituales de amor propio "},{id:"bano-abre-caminos",nombre:"Bao Energtico Abre Caminos",categoria:"Baos Energticos",precio:120,descripcion:" Bao energtico elaborado con mezcla de plantas sanadoras sagradas: Canela, Naranja y Laureles  Perfecto para abrir nuevos caminos y facilitar la expansin personal  Ideal para limpiar obstculos energticos y potenciar la manifestacin de deseos "},{id:"locion-ellas-ellos",nombre:"Locin Ellas y Ellos",categoria:"Lociones",precio:220,descripcion:" Locin artesanal elaborada con extraccin de flores y esencias naturales  Perfecta para potenciar la autoestima y amor propio  Ideal para fortalecer la confianza personal y facilitar la conexin de pareja "}],_P=({user:t,onClose:e})=>{const[n,r]=ie.useState("overview"),[i,s]=ie.useState([]),[o,l]=ie.useState([]),[u,h]=ie.useState([]),[p,m]=ie.useState(!0),[y,R]=ie.useState({totalUsers:0,totalOrders:0,totalRevenue:0,activeUsers:0}),[P,V]=ie.useState(!1),[F,A]=ie.useState(!1),[E,b]=ie.useState(null),[O,B]=ie.useState({nombre:"",descripcion:"",precio:0,categoria:"",stock:0,minStock:5,maxStock:100,activo:!0,imagen:""}),[U,S]=ie.useState(null),[_,x]=ie.useState(!1),w={A:{miel:"#D4A574",rosa:"#E8B4B8",verde:"#A8C09A",azul:"#B8D4E3"},B:{miel:"#C9A96E",rosa:"#E2A8AC",verde:"#9BB88A",azul:"#A8C8D8"}};ie.useEffect(()=>{t&&k()},[t]),ie.useEffect(()=>{if(t){const C=setInterval(()=>{console.log("Auto-refreshing dashboard data..."),k()},3e4);return()=>clearInterval(C)}},[t]);const k=async()=>{m(!0);try{console.log("Loading users from Firestore..."),console.log("Current user:",t),console.log("User email:",t==null?void 0:t.email),console.log("Is admin?",(t==null?void 0:t.email)==="admin@amorymiel.com");const C=Ml(rs(ze,"users"),Mh("createdAt","desc")),W=await Fl(C);console.log("Users snapshot:",W),console.log("Number of users found:",W.docs.length),console.log("Users snapshot empty?",W.empty);let ne=[];W.empty?(console.log("No users found in Firestore"),ne=[]):(ne=W.docs.map(he=>(console.log("User doc:",he.id,he.data()),{id:he.id,...he.data()})),console.log("Processed users data:",ne)),s(ne);const ge=Ml(rs(ze,"orders"),Mh("createdAt","desc")),Oe=(await Fl(ge)).docs.map(he=>({id:he.id,...he.data()}));l(Oe);const Di=Ml(rs(ze,"products")),or=(await Fl(Di)).docs.map(he=>{const at=he.data(),Qe=vP.find(ei=>ei.id===he.id);return{id:he.id,...at,descripcion:(Qe==null?void 0:Qe.descripcion)||at.descripcion||""}});h(or),console.log("Calculating stats..."),console.log("Users data length:",ne.length),console.log("Orders data length:",Oe.length);const ar=Oe.filter(he=>he.status==="completed").reduce((he,at)=>he+(at.total||0),0),Xr=ne.filter(he=>{const at=he.lastLogin?new Date(he.lastLogin):new Date(0),Qe=new Date;return Qe.setDate(Qe.getDate()-30),at>Qe}).length,Zr=Oe.filter(he=>he.status==="completed"),an={totalUsers:ne.length,totalOrders:Zr.length,totalRevenue:ar,activeUsers:Xr};console.log("New stats calculated:",an),R(an)}catch(C){console.error("Error loading dashboard data:",C)}finally{m(!1)}},N=async(C,W)=>{try{await ms(Zt(ze,"orders",C),{status:W,updatedAt:new Date}),k()}catch(ne){console.error("Error updating order status:",ne)}},I=async C=>{if(window.confirm("Ests seguro de que quieres eliminar este usuario?"))try{await Uh(Zt(ze,"users",C)),k()}catch(W){console.error("Error deleting user:",W)}},Ct=async C=>{C.preventDefault(),V(!0);try{const W={...O,createdAt:new Date,updatedAt:new Date};await Rp(rs(ze,"products"),W),B({nombre:"",descripcion:"",precio:0,categoria:"",stock:0,activo:!0,imagen:""}),k(),r("products"),alert("Producto agregado exitosamente!")}catch(W){console.error("Error adding product:",W),alert("Error al agregar el producto. Intntalo de nuevo.")}finally{V(!1)}},Ut=async C=>{if(window.confirm("Ests seguro de que quieres eliminar este producto?"))try{await Uh(Zt(ze,"products",C)),k(),alert("Producto eliminado exitosamente!")}catch(W){console.error("Error deleting product:",W),alert("Error al eliminar el producto. Intntalo de nuevo.")}},jn=C=>{console.log("Edit button clicked for product:",C),b(C.id),A(!0),r("add-product"),B({nombre:C.nombre||"",descripcion:C.descripcion||"",precio:C.precio||0,categoria:C.categoria||"",stock:C.stock||0,minStock:C.minStock||5,maxStock:C.maxStock||100,activo:C.activo!==!1,imagen:C.imagen||""}),console.log("Edit mode activated, switching to form tab")},gt=async C=>{C.preventDefault(),V(!0);try{const W={...O,updatedAt:new Date};await ms(Zt(ze,"products",E),W),console.log("Product updated successfully"),B({nombre:"",descripcion:"",precio:0,categoria:"",stock:0,minStock:5,maxStock:100,activo:!0,imagen:""}),A(!1),b(null),k(),alert("Producto actualizado exitosamente!")}catch(W){console.error("Error updating product:",W),alert("Error al actualizar el producto. Intntalo de nuevo.")}finally{V(!1)}},H=()=>{A(!1),b(null),B({nombre:"",descripcion:"",precio:0,categoria:"",stock:0,minStock:5,maxStock:100,activo:!0,imagen:""})},X=()=>{const C=u.filter(ne=>{const ge=ne.stock||0,we=ne.minStock||5;return ge<=we&&ge>0}),W=u.filter(ne=>(ne.stock||0)===0);return W.length>0&&console.warn(` ${W.length} productos sin stock:`,W.map(ne=>ne.nombre)),C.length>0&&console.warn(` ${C.length} productos con stock bajo:`,C.map(ne=>ne.nombre)),{lowStockProducts:C,outOfStockProducts:W}},J=C=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(C),de=C=>{if(!C)return"Nunca";try{return(C.toDate?C.toDate():new Date(C)).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(W){return console.error("Error formatting date:",W,C),"Fecha invlida"}};return p?c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"10px",textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:"Cargando Dashboard..."}),c.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #D4A574",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):c.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",zIndex:1e3,overflow:"auto"},children:[c.jsxs("div",{style:{background:"white",minHeight:"100vh",padding:window.innerWidth<=768?"1rem":"2rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:window.innerWidth<=768?"1rem":"2rem",paddingBottom:"1rem",borderBottom:"2px solid #D4A574",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("h1",{style:{color:"#D4A574",fontSize:window.innerWidth<=768?"1.5rem":"2rem",margin:0,fontFamily:"serif"},children:" Dashboard Amor y Miel"}),c.jsx("p",{style:{color:"#666",margin:"0.5rem 0 0 0"},children:"Panel de administracin"})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[c.jsx("button",{onClick:k,style:{background:"transparent",color:"#D4A574",border:"2px solid #D4A574",padding:"0.5rem 1rem",borderRadius:"20px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold"},children:" Actualizar"}),c.jsx("button",{onClick:e,style:{background:"#D4A574",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Cerrar Dashboard"})]})]}),c.jsx("div",{style:{display:"flex",gap:window.innerWidth<=768?"0.5rem":"1rem",marginBottom:window.innerWidth<=768?"1rem":"2rem",borderBottom:"1px solid #eee",overflowX:"auto",paddingBottom:"0.5rem"},children:[{id:"overview",label:" Resumen",icon:""},{id:"users",label:" Usuarios",icon:""},{id:"orders",label:" Pedidos",icon:""},{id:"products",label:" Productos",icon:""}].map(C=>c.jsx("button",{onClick:()=>r(C.id),style:{background:n===C.id?"#D4A574":"transparent",color:n===C.id?"white":"#666",border:"none",padding:window.innerWidth<=768?"0.5rem 1rem":"0.75rem 1.5rem",borderRadius:"25px 25px 0 0",cursor:"pointer",fontSize:window.innerWidth<=768?"0.8rem":"1rem",fontWeight:"bold",transition:"all 0.3s ease",whiteSpace:"nowrap",minWidth:window.innerWidth<=768?"auto":"120px"},children:C.label},C.id))}),n==="overview"&&c.jsxs("div",{children:[c.jsx("h2",{style:{color:"#D4A574",marginBottom:"1.5rem"},children:"Resumen General"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[c.jsxs("div",{style:{background:`linear-gradient(135deg, ${w.A.miel} 0%, ${w.B.miel} 100%)`,color:"white",padding:"1.5rem",borderRadius:"15px",textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),c.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:y.totalUsers}),c.jsx("div",{children:"Usuarios Totales"})]}),c.jsxs("div",{style:{background:`linear-gradient(135deg, ${w.A.rosa} 0%, ${w.B.rosa} 100%)`,color:"white",padding:"1.5rem",borderRadius:"15px",textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),c.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:y.totalOrders}),c.jsx("div",{children:"Pedidos Totales"})]}),c.jsxs("div",{style:{background:`linear-gradient(135deg, ${w.A.verde} 0%, ${w.B.verde} 100%)`,color:"white",padding:"1.5rem",borderRadius:"15px",textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),c.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:J(y.totalRevenue)}),c.jsx("div",{children:"Ingresos Totales"})]}),c.jsxs("div",{style:{background:`linear-gradient(135deg, ${w.A.azul} 0%, ${w.B.azul} 100%)`,color:"white",padding:"1.5rem",borderRadius:"15px",textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),c.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:y.activeUsers}),c.jsx("div",{children:"Usuarios Activos (30 das)"})]})]}),(()=>{const{lowStockProducts:C,outOfStockProducts:W}=X();return(C.length>0||W.length>0)&&c.jsxs("div",{style:{background:"white",border:"1px solid #eee",borderRadius:"10px",padding:"1.5rem",marginBottom:"2rem"},children:[c.jsx("h3",{style:{color:"#D4A574",marginBottom:"1rem"},children:" Alertas de Inventario"}),W.length>0&&c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsxs("h4",{style:{color:"#f44336",marginBottom:"0.5rem"},children:["Sin Stock (",W.length,")"]}),W.map(ne=>c.jsxs("div",{style:{background:"#ffebee",padding:"0.5rem",borderRadius:"5px",marginBottom:"0.5rem",border:"1px solid #f44336"},children:[c.jsx("strong",{children:ne.nombre})," - Stock: ",ne.stock||0]},ne.id))]}),C.length>0&&c.jsxs("div",{children:[c.jsxs("h4",{style:{color:"#FF9800",marginBottom:"0.5rem"},children:["Stock Bajo (",C.length,")"]}),C.map(ne=>c.jsxs("div",{style:{background:"#fff3e0",padding:"0.5rem",borderRadius:"5px",marginBottom:"0.5rem",border:"1px solid #FF9800"},children:[c.jsx("strong",{children:ne.nombre})," - Stock: ",ne.stock||0," (Mn: ",ne.minStock||5,")"]},ne.id))]})]})})(),c.jsxs("div",{style:{background:"white",border:"1px solid #eee",borderRadius:"10px",padding:"1.5rem"},children:[c.jsx("h3",{style:{color:"#D4A574",marginBottom:"1rem"},children:"Pedidos Completados Recientes"}),c.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:o.filter(C=>C.status==="completed").slice(0,5).length>0?o.filter(C=>C.status==="completed").slice(0,5).map(C=>c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderBottom:"1px solid #f0f0f0",background:C.status==="completed"?"#f0f8f0":C.status==="pending"?"#fff8e1":"#f5f5f5"},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{fontWeight:"bold"},children:["Pedido #",C.id.slice(-8)]}),c.jsxs("div",{style:{color:"#666",fontSize:"0.9rem"},children:[C.customerName," - ",J(C.total)]})]}),c.jsx("div",{style:{background:C.status==="completed"?"#4CAF50":C.status==="pending"?"#FF9800":"#9E9E9E",color:"white",padding:"0.25rem 0.75rem",borderRadius:"15px",fontSize:"0.8rem"},children:C.status==="completed"?"Completado":C.status==="pending"?"Pendiente":"Cancelado"})]},C.id)):c.jsx("div",{style:{textAlign:"center",color:"#666",padding:"2rem",fontStyle:"italic"},children:"No hay pedidos completados an"})})]})]}),n==="users"&&c.jsxs("div",{children:[c.jsx("h2",{style:{color:"#D4A574",marginBottom:"1.5rem"},children:"Gestin de Usuarios"}),c.jsxs("div",{style:{background:"white",border:"1px solid #eee",borderRadius:"10px",overflow:"hidden"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr auto",background:"#f8f9fa",padding:"1rem",fontWeight:"bold",borderBottom:"1px solid #eee"},children:[c.jsx("div",{children:"Nombre"}),c.jsx("div",{children:"Email"}),c.jsx("div",{children:"Registro"}),c.jsx("div",{children:"ltimo Login"}),c.jsx("div",{children:"Estado"}),c.jsx("div",{children:"Acciones"})]}),i.map(C=>c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr auto",padding:"1rem",borderBottom:"1px solid #f0f0f0",alignItems:"center"},children:[c.jsx("div",{children:C.name||"Sin nombre"}),c.jsx("div",{children:C.email}),c.jsx("div",{children:de(C.createdAt)}),c.jsx("div",{children:C.lastLogin?de(C.lastLogin):"Nunca"}),c.jsx("div",{style:{color:C.lastLogin&&new Date(C.lastLogin)>new Date(Date.now()-30*24*60*60*1e3)?"#4CAF50":"#9E9E9E"},children:C.lastLogin&&new Date(C.lastLogin)>new Date(Date.now()-30*24*60*60*1e3)?"Activo":"Inactivo"}),c.jsx("div",{children:c.jsx("button",{onClick:()=>I(C.id),style:{background:"#f44336",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.8rem"},children:"Eliminar"})})]},C.id))]})]}),n==="orders"&&c.jsxs("div",{children:[c.jsx("h2",{style:{color:"#D4A574",marginBottom:"1.5rem"},children:"Gestin de Pedidos"}),c.jsxs("div",{style:{background:"white",border:"1px solid #eee",borderRadius:"10px",overflow:"hidden"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr 1fr auto",background:"#f8f9fa",padding:"1rem",fontWeight:"bold",borderBottom:"1px solid #eee"},children:[c.jsx("div",{children:"ID Pedido"}),c.jsx("div",{children:"Cliente"}),c.jsx("div",{children:"Total"}),c.jsx("div",{children:"Fecha"}),c.jsx("div",{children:"Estado"}),c.jsx("div",{children:"Productos"}),c.jsx("div",{children:"Acciones"})]}),o.map(C=>c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr 1fr auto",padding:"1rem",borderBottom:"1px solid #f0f0f0",alignItems:"center"},children:[c.jsxs("div",{style:{fontFamily:"monospace",fontSize:"0.9rem"},children:["#",C.id.slice(-8)]}),c.jsx("div",{children:C.customerName}),c.jsx("div",{style:{fontWeight:"bold"},children:J(C.total)}),c.jsx("div",{children:de(C.createdAt)}),c.jsx("div",{children:c.jsxs("select",{value:C.status||"pending",onChange:W=>N(C.id,W.target.value),style:{padding:"0.25rem 0.5rem",borderRadius:"5px",border:"1px solid #ddd",fontSize:"0.8rem"},children:[c.jsx("option",{value:"pending",children:"Pendiente"}),c.jsx("option",{value:"processing",children:"Procesando"}),c.jsx("option",{value:"shipped",children:"Enviado"}),c.jsx("option",{value:"completed",children:"Completado"}),c.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),c.jsxs("div",{children:[C.items?C.items.length:0," productos"]}),c.jsx("div",{children:c.jsx("button",{onClick:()=>{S(C),x(!0)},style:{background:"#2196F3",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.8rem"},children:"Ver Detalles"})})]},C.id))]})]}),n==="products"&&c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[c.jsx("h2",{style:{color:"#D4A574",margin:0},children:"Gestin de Productos"}),c.jsx("button",{onClick:()=>{A(!1),b(null),B({nombre:"",descripcion:"",precio:"",categoria:"Productos",stock:"",stockMinimo:"",stockMaximo:"",estado:"Activo",imagen:""}),r("add-product")},style:{background:`linear-gradient(135deg, ${w.A.miel} 0%, ${w.B.miel} 100%)`,color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Agregar Producto"})]}),c.jsxs("div",{style:{background:"white",border:"1px solid #eee",borderRadius:"10px",overflow:"hidden"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"80px 2fr 1fr 1fr 1fr 1fr 1fr auto",background:"linear-gradient(135deg, #D4A574 0%, #C9A96E 100%)",color:"white",padding:"1rem",fontWeight:"bold",borderBottom:"2px solid #B8860B",borderRadius:"8px 8px 0 0"},children:[c.jsx("div",{style:{textAlign:"center"},children:" Imagen"}),c.jsx("div",{children:" Producto"}),c.jsx("div",{children:" Categora"}),c.jsx("div",{children:" Precio"}),c.jsx("div",{children:" Stock"}),c.jsx("div",{children:" Alerta"}),c.jsx("div",{children:" Estado"}),c.jsx("div",{style:{textAlign:"center"},children:" Acciones"})]}),u.map(C=>{var Oe;const W=C.stock||0,ne=C.minStock||5,ge=W<=ne,we=W===0;return c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"80px 2fr 1fr 1fr 1fr 1fr 1fr auto",padding:"1rem",borderBottom:"1px solid #f0f0f0",alignItems:"center",background:we?"#ffebee":ge?"#fff3e0":"white"},children:[c.jsx("div",{style:{width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx("img",{src:C.imagen||"/images/products/default-product.png",alt:C.nombre,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"2px solid #f0f0f0"},onError:Di=>{Di.target.src="/images/products/default-product.png"}})}),c.jsxs("div",{style:{paddingLeft:"0.5rem"},children:[c.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.25rem",fontSize:"1rem",color:"#333"},children:C.nombre}),c.jsxs("div",{style:{color:"#666",fontSize:"0.8rem",lineHeight:"1.3",marginBottom:"0.25rem"},children:[(Oe=C.descripcion)==null?void 0:Oe.substring(0,60),"..."]}),c.jsxs("div",{style:{fontSize:"0.7rem",color:"#999",fontStyle:"italic"},children:["ID: ",C.id]})]}),c.jsx("div",{style:{textAlign:"center"},children:c.jsx("span",{style:{background:"#E8B4B8",color:"#8B4513",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"500"},children:C.categoria||"Sin categora"})}),c.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",color:"#D4A574",textAlign:"center"},children:J(C.precio||0)}),c.jsxs("div",{style:{color:we?"#f44336":ge?"#FF9800":"#4CAF50",fontWeight:"bold",textAlign:"center"},children:[c.jsxs("div",{style:{fontSize:"1rem"},children:[W," unidades"]}),C.minStock&&c.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",marginTop:"0.25rem"},children:["Mn: ",C.minStock]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[we&&c.jsx("span",{style:{background:"#f44336",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold"},children:" Sin Stock"}),ge&&!we&&c.jsx("span",{style:{background:"#FF9800",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold"},children:" Bajo Stock"}),!ge&&!we&&c.jsx("span",{style:{background:"#4CAF50",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold"},children:" OK"})]}),c.jsx("div",{style:{color:C.activo!==!1?"#4CAF50":"#f44336"},children:C.activo!==!1?"Activo":"Inactivo"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>jn(C),style:{background:"#2196F3",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),c.jsx("button",{onClick:()=>Ut(C.id),style:{background:"#f44336",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"5px",cursor:"pointer",fontSize:"0.8rem"},children:"Eliminar"})]})]},C.id)})]})]}),n==="add-product"&&c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[c.jsx("h2",{style:{color:"#D4A574",margin:0},children:"Agregar Nuevo Producto"}),c.jsx("button",{onClick:()=>r("products"),style:{background:"transparent",color:"#D4A574",border:"2px solid #D4A574",padding:"0.75rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:" Volver a Productos"})]}),c.jsxs("div",{style:{background:"white",border:"1px solid #eee",borderRadius:"10px",padding:"2rem",maxWidth:"800px"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",color:"#333"},children:F?"Editar Producto":"Agregar Nuevo Producto"}),c.jsxs("form",{onSubmit:F?gt:Ct,children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:"Nombre del Producto *"}),c.jsx("input",{type:"text",required:!0,value:O.nombre,onChange:C=>B(W=>({...W,nombre:C.target.value})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:"Precio *"}),c.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:O.precio,onChange:C=>B(W=>({...W,precio:parseFloat(C.target.value)})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none"}})]})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:"Descripcin *"}),c.jsx("textarea",{required:!0,value:O.descripcion,onChange:C=>B(W=>({...W,descripcion:C.target.value})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none",minHeight:"100px",resize:"vertical"}})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:"Categora *"}),c.jsxs("select",{required:!0,value:O.categoria,onChange:C=>B(W=>({...W,categoria:C.target.value})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none"},children:[c.jsx("option",{value:"",children:"Seleccionar categora"}),c.jsx("option",{value:"productos",children:"Productos"}),c.jsx("option",{value:"servicios",children:"Servicios"}),c.jsx("option",{value:"kids",children:"Productos para Nios"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:"Stock Actual *"}),c.jsx("input",{type:"number",required:!0,min:"0",value:O.stock,onChange:C=>B(W=>({...W,stock:parseInt(C.target.value)})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:"Estado"}),c.jsxs("select",{value:O.activo?"activo":"inactivo",onChange:C=>B(W=>({...W,activo:C.target.value==="activo"})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none"},children:[c.jsx("option",{value:"activo",children:"Activo"}),c.jsx("option",{value:"inactivo",children:"Inactivo"})]})]})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("h3",{style:{color:"#D4A574",marginBottom:"1rem",fontSize:"1.1rem"},children:" Gestin de Inventario"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:["Stock Mnimo *",c.jsx("span",{style:{fontSize:"0.8rem",color:"#666",marginLeft:"0.5rem"},children:"(Alerta cuando baje de este nmero)"})]}),c.jsx("input",{type:"number",required:!0,min:"0",value:O.minStock,onChange:C=>B(W=>({...W,minStock:parseInt(C.target.value)})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none"}})]}),c.jsxs("div",{children:[c.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:["Stock Mximo *",c.jsx("span",{style:{fontSize:"0.8rem",color:"#666",marginLeft:"0.5rem"},children:"(Capacidad mxima de almacn)"})]}),c.jsx("input",{type:"number",required:!0,min:"0",value:O.maxStock,onChange:C=>B(W=>({...W,maxStock:parseInt(C.target.value)})),style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none"}})]})]})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#333",fontWeight:"500"},children:" Imagen del Producto"}),O.imagen&&c.jsx("div",{style:{marginBottom:"1rem",textAlign:"center"},children:c.jsx("img",{src:O.imagen,alt:"Preview",style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"12px",border:"2px solid #D4A574",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},onError:C=>{C.target.style.display="none"}})}),c.jsx("input",{type:"url",value:O.imagen,onChange:C=>B(W=>({...W,imagen:C.target.value})),placeholder:"https://ejemplo.com/imagen.jpg",style:{width:"100%",padding:"0.75rem",border:"2px solid #eee",borderRadius:"8px",fontSize:"1rem",outline:"none",marginBottom:"0.5rem"}}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx("button",{type:"button",onClick:()=>{const C=prompt("Ingresa la URL de la imagen:");C&&B(W=>({...W,imagen:C}))},style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #D4A574 0%, #B8945F 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:C=>{C.target.style.transform="translateY(-1px)",C.target.style.boxShadow="0 4px 12px rgba(212, 165, 116, 0.4)"},onMouseLeave:C=>{C.target.style.transform="translateY(0)",C.target.style.boxShadow="none"},children:" Pegar URL"}),c.jsx("button",{type:"button",onClick:()=>{const C=["/images/products/velas-de-miel-product.png","/images/products/locion-atrayente-product.png","/images/products/locion-palo-santo-product.png","/images/products/agua-florida-product.png","/images/products/brisa-bendicion-dinero-product.png","/images/products/brisa-prosperidad-product.png","/images/products/brisa-abundancia-product.png","/images/products/exfoliante-abrecaminos-product.png","/images/products/exfoliante-venus-product.png","/images/products/feromonas-naturales-product.png","/images/products/feromonas-damas-caballeros-product.png","/images/products/agua-micelar-product.png","/images/products/agua-de-rosas-product.png","/images/products/Aceite Abre Caminos.png","/images/products/aceite-para-ungir-product.png","/images/products/shampoo-artesanal-product.png","/images/products/shampoo-miel-product.png","/images/products/shampoo-romero-product.png","/images/products/mascarilla-capilar-product.png","/images/products/agua-de-luna-product.png","/images/products/Miel Consagrada.png","/images/products/sal-negra-product.png","/images/products/polvo-de-oro-product.png","/images/products/palo-santo-product.png","/images/products/sahumerios-product.png","/images/products/bano-amargo-product.png","/images/products/Bano Energetico Amor Propio.png","/images/products/Bano-Energetico.png","/images/products/Locion-Ellas-Ellos.png"],W=prompt(`Selecciona una imagen existente (1-${C.length}):

${C.map((ge,we)=>`${we+1}. ${ge.split("/").pop()}`).join(`
`)}`),ne=parseInt(W)-1;ne>=0&&ne<C.length&&B(ge=>({...ge,imagen:C[ne]}))},style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #8EB080 0%, #6A9B6A 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:C=>{C.target.style.transform="translateY(-1px)",C.target.style.boxShadow="0 4px 12px rgba(142, 176, 128, 0.4)"},onMouseLeave:C=>{C.target.style.transform="translateY(0)",C.target.style.boxShadow="none"},children:" Seleccionar Imagen"}),c.jsx("button",{type:"button",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.onchange=W=>{const ne=W.target.files[0];if(ne){const ge=new FileReader;ge.onload=we=>{B(Oe=>({...Oe,imagen:we.target.result}))},ge.readAsDataURL(ne)}},C.click()},style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #4A90E2 0%, #357ABD 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:C=>{C.target.style.transform="translateY(-1px)",C.target.style.boxShadow="0 4px 12px rgba(74, 144, 226, 0.4)"},onMouseLeave:C=>{C.target.style.transform="translateY(0)",C.target.style.boxShadow="none"},children:" Subir Imagen"}),c.jsx("button",{type:"button",onClick:()=>B(C=>({...C,imagen:""})),style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:C=>{C.target.style.transform="translateY(-1px)",C.target.style.boxShadow="0 4px 12px rgba(255, 107, 107, 0.4)"},onMouseLeave:C=>{C.target.style.transform="translateY(0)",C.target.style.boxShadow="none"},children:" Limpiar"})]}),c.jsx("p",{style:{fontSize:"0.8rem",color:"#666",margin:"0.5rem 0 0 0",fontStyle:"italic"},children:" Tip: Puedes pegar una URL de imagen o seleccionar una de las imgenes existentes"})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:()=>{B({nombre:"",descripcion:"",precio:"",categoria:"Productos",stock:"",stockMinimo:"",stockMaximo:"",estado:"Activo",imagen:""}),r("products")},style:{flex:1,padding:"0.75rem",background:"transparent",border:"2px solid #D4A574",color:"#D4A574",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:P,style:{flex:1,padding:"0.75rem",background:`linear-gradient(135deg, ${w.A.miel} 0%, ${w.B.miel} 100%)`,border:"none",color:"white",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:P?"not-allowed":"pointer",opacity:P?.7:1},children:P?F?"Actualizando...":"Agregando...":F?"Actualizar Producto":"Agregar Producto"}),F&&c.jsx("button",{type:"button",onClick:H,style:{background:"#6c757d",color:"white",border:"none",padding:"0.8rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"500",marginLeft:"1rem"},children:"Cancelar"})]})]})]})]}),_&&U&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:c.jsxs("div",{style:{background:"white",borderRadius:"15px",padding:"2rem",maxWidth:"800px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[c.jsxs("h2",{style:{color:"#D4A574",margin:0,fontSize:"1.5rem",fontWeight:"bold"},children:[" Detalles del Pedido #",U.id.slice(-8)]}),c.jsx("button",{onClick:()=>x(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666"},children:""})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",marginBottom:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{color:"#D4A574",marginBottom:"1rem"},children:"Informacin del Pedido"}),c.jsxs("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:[c.jsxs("p",{children:[c.jsx("strong",{children:"ID:"})," ",U.id]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cliente:"})," ",U.customerName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," ",U.customerEmail]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Total:"})," ",J(U.total)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Fecha:"})," ",de(U.createdAt)]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Estado:"}),c.jsx("span",{style:{background:U.status==="completed"?"#4CAF50":U.status==="pending"?"#FF9800":"#9E9E9E",color:"white",padding:"0.25rem 0.75rem",borderRadius:"15px",fontSize:"0.8rem",marginLeft:"0.5rem"},children:U.status==="completed"?"Completado":U.status==="pending"?"Pendiente":"Cancelado"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"#D4A574",marginBottom:"1rem"},children:"Informacin de Envo"}),c.jsx("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:U.shippingAddress?c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Nombre:"})," ",U.shippingAddress.fullName]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Direccin:"})," ",U.shippingAddress.address]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Ciudad:"})," ",U.shippingAddress.city]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Estado:"})," ",U.shippingAddress.state]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cdigo Postal:"})," ",U.shippingAddress.zipCode]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Telfono:"})," ",U.shippingAddress.phone]}),U.shippingAddress.notes&&c.jsxs("p",{children:[c.jsx("strong",{children:"Notas:"})," ",U.shippingAddress.notes]})]}):c.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"No hay informacin de envo disponible"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"#D4A574",marginBottom:"1rem"},children:"Productos del Pedido"}),c.jsx("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:U.items&&U.items.length>0?U.items.map((C,W)=>c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderBottom:"1px solid #eee",background:"white",borderRadius:"8px",marginBottom:"0.5rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:C.nombre}),c.jsxs("div",{style:{color:"#666",fontSize:"0.9rem"},children:["Cantidad: ",C.quantity,"  ",J(C.precio)]})]}),c.jsx("div",{style:{fontWeight:"bold"},children:J(C.precio*C.quantity)})]},W)):c.jsx("p",{style:{color:"#666",fontStyle:"italic"},children:"No hay productos en este pedido"})})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[c.jsx("button",{onClick:()=>x(!1),style:{flex:1,padding:"0.75rem",background:"transparent",border:"2px solid #D4A574",color:"#D4A574",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Cerrar"}),c.jsx("button",{onClick:()=>{window.print()},style:{flex:1,padding:"0.75rem",background:`linear-gradient(135deg, ${w.A.miel} 0%, ${w.B.miel} 100%)`,border:"none",color:"white",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:" Imprimir"})]})]})})]}),c.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},T={D:{miel:"#E0A73A",crema:"#FBF2DE",verde:"#628D6A",carbon:"#1A1714",fondo:"linear-gradient(135deg, #FBF2DE 0%, #FFFFFF 65%)"}},wP={"Velas De Miel":"/images/catalog/velasdemiel1.JPG","Locin Atrayente":"/images/catalog/locion-atrayente.JPG","Locin Palo Santo":"/images/catalog/locion-palo-santo.JPG","Agua Florida":"/images/catalog/agua-florida.JPG","Brisa urica Bendicin del Dinero":"/images/catalog/brisa-aurica-bendicion-del-dinero.JPG","Brisa urica Prosperidad":"/images/catalog/brisa-aurica-prosperidad.JPG","Brisa urica Abundancia":"/images/catalog/brisa-aurica-abundancia.JPG","Exfoliante Abre Caminos":"/images/catalog/exfoliante-abrecaminos.JPG","Exfoliante Venus":"/images/catalog/exfoliante-venus.JPG","Feromonas Naturales":"/images/catalog/feromonas-naturales.JPG","Feromonas Damas y Caballeros":"/images/catalog/feromanas-damas-y-caballeros.JPG","Agua Micelar":"/images/catalog/agua-micelar.JPG","Agua de Rosas":"/images/catalog/agua-de-rosas1.JPG","Aceite Abre Caminos":"/images/catalog/aceite-abrecaminos.JPG","Aceite para Ungir":"/images/catalog/aceite-para-ungir.JPG","Shampoo Artesanal":"/images/catalog/shampoo-artesanal.JPG","Shampoo con Extracto de Miel":"/images/catalog/shampoo-con-extracto-de-miel.JPG","Shampoo con Extracto de Romero":"/images/catalog/shampoo-con-extracto-de-romero.JPG","Mascarilla Capilar":"/images/catalog/mascarilla-capilar.JPG","Agua de Luna":"/images/catalog/agua-de-luna.JPG","Miel Consagrada":"/images/catalog/miel-consagrada.JPG","Sal Negra":"/images/catalog/sal-negro.JPG","Polvo de Oro":"/images/catalog/polvo-de-oro.JPG","Palo Santo":"/images/catalog/palo-santo.JPG",Sahumerios:"/images/catalog/sahumerios.JPG","Bao Energtico Amargo":"/images/catalog/bano-energetico-amargo.JPG","Bao Energtico Amor Propio":"/images/catalog/bano-energetico-amor-propio.JPG","Bao Energtico Abre Caminos":"/images/catalog/bano-energetico-abre-caminos.JPG","Locin Ellas y Ellos":"/images/catalog/locion-ellas-y-ellos.JPG"},EP=["Todos","Velas","Lociones","Brisas uricas","Exfoliantes","Feromonas","Faciales","Aceites","Shampoo","Cabello","Energticos","Miel","Proteccin","Rituales","Sahumerios","Baos Energticos","Servicios"];function xP(){const[t,e]=ie.useState([]),[n,r]=ie.useState(""),[i,s]=ie.useState("Todos"),[o,l]=ie.useState([]),[u,h]=ie.useState([]),[p,m]=ie.useState([]),[y,R]=ie.useState([]),[P,V]=ie.useState(null),[F,A]=ie.useState(!1),[E,b]=ie.useState(!1),[O,B]=ie.useState(""),[U,S]=ie.useState(!1),[_,x]=ie.useState(""),[w,k]=ie.useState(null),[N,I]=ie.useState(null),[Ct,Ut]=ie.useState([]),[jn,gt]=ie.useState([]),[H,X]=ie.useState(!1),[J,de]=ie.useState("login"),[C,W]=ie.useState(""),[ne,ge]=ie.useState(!1),[we,Oe]=ie.useState(!1),[Di,vu]=ie.useState(!1),or=async()=>{try{if(!ze){console.log("Firebase db not initialized, using empty arrays");return}console.log("Loading products from Firestore...");const{collection:g,query:D,getDocs:Z}=await id(async()=>{const{collection:xe,query:En,getDocs:Re}=await Promise.resolve().then(()=>vd);return{collection:xe,query:En,getDocs:Re}},void 0),re=D(g(ze,"products")),Ye=(await Z(re)).docs.map(xe=>({id:xe.id,...xe.data()}));console.log("All products loaded from Firestore:",Ye.length);const Ae=Ye.filter(xe=>xe.categoria&&!["Servicios","servicios"].includes(xe.categoria)&&!xe.categoria.toLowerCase().includes("kids")&&!xe.categoria.toLowerCase().includes("nios")),ct=Ye.filter(xe=>xe.categoria&&["Servicios","servicios"].includes(xe.categoria)),$e=Ye.filter(xe=>xe.categoria&&xe.categoria.toLowerCase().includes("kids")),Me=Ye.filter(xe=>xe.categoria&&xe.categoria.toLowerCase().includes("nios")&&["Servicios","servicios"].includes(xe.categoria));console.log("Separated products:",{regular:Ae.length,services:ct.length,kidsProducts:$e.length,kidsServices:Me.length}),l(Ae),h(ct),m($e),R(Me)}catch(g){console.error("Error loading products from Firestore:",g),console.log("Firestore failed, keeping empty arrays")}};ie.useEffect(()=>{or()},[]),ie.useEffect(()=>{if(!ze){console.log("Firebase db not initialized, skipping real-time listener");return}(async()=>{console.log("Setting up real-time listener for products...");const{collection:D,query:Z,onSnapshot:re}=await id(async()=>{const{collection:Ae,query:ct,onSnapshot:$e}=await Promise.resolve().then(()=>vd);return{collection:Ae,query:ct,onSnapshot:$e}},void 0),Ee=Z(D(ze,"products")),Ye=re(Ee,Ae=>{console.log("Products updated in Firestore, refreshing homepage...");const ct=Ae.docs.map(Re=>({id:Re.id,...Re.data()})),$e=ct.filter(Re=>Re.categoria&&!["Servicios","servicios"].includes(Re.categoria)&&!Re.categoria.toLowerCase().includes("kids")&&!Re.categoria.toLowerCase().includes("nios")),Me=ct.filter(Re=>Re.categoria&&["Servicios","servicios"].includes(Re.categoria)),xe=ct.filter(Re=>Re.categoria&&Re.categoria.toLowerCase().includes("kids")),En=ct.filter(Re=>Re.categoria&&Re.categoria.toLowerCase().includes("nios")&&["Servicios","servicios"].includes(Re.categoria));l($e),h(Me),m(xe),R(En)},Ae=>{console.error("Error in products listener:",Ae)});return()=>Ye()})()},[]);const ar=async()=>{try{console.log("Creating admin account...");const g="admin@amorymiel.com",re=(await Qg(Fi,g,"admin123456")).user,Ee={uid:re.uid,email:g,name:"Admin Amor y Miel",isAdmin:!0,createdAt:new Date,wishlist:[],orderHistory:[],preferences:{newsletter:!0,notifications:!0}};await zh(Zt(ze,"users",re.uid),Ee),console.log("Admin account created successfully!"),alert("Admin account created! Email: admin@amorymiel.com, Password: admin123456")}catch(g){g.code==="auth/email-already-in-use"?console.log("Admin account already exists"):console.error("Error creating admin account:",g)}},Xr=async()=>{try{if(console.log("Adding stock information to existing products..."),!ze)throw new Error("Firebase database not initialized");const{collection:g,query:D,getDocs:Z,updateDoc:re,doc:Ee}=await id(async()=>{const{collection:$e,query:Me,getDocs:xe,updateDoc:En,doc:Re}=await Promise.resolve().then(()=>vd);return{collection:$e,query:Me,getDocs:xe,updateDoc:En,doc:Re}},void 0);console.log("Creating query...");const Ye=D(g(ze,"products"));console.log("Query created successfully"),console.log("Getting documents...");const Ae=await Z(Ye);if(console.log(`Found ${Ae.docs.length} products`),Ae.empty){console.log("No products found in Firestore"),alert("No products found in Firestore to add stock to.");return}let ct=0;for(const $e of Ae.docs)try{const Me=$e.data();console.log(`Checking product: ${Me.nombre||$e.id}`),Me.stock===void 0?(console.log(`Updating stock for product: ${Me.nombre||$e.id}`),await re(Ee(ze,"products",$e.id),{stock:50,minStock:5,maxStock:100,lastUpdated:new Date}),console.log(` Added stock info to product: ${Me.nombre||$e.id}`),ct++):console.log(`Product already has stock info: ${Me.nombre||$e.id}`)}catch(Me){console.error(`Error updating product ${$e.id}:`,Me)}console.log(`Stock information update complete! Updated ${ct} products.`),alert(` Stock information added to ${ct} products!`)}catch(g){console.error("Error adding stock to products:",g),console.error("Error details:",{message:g.message,stack:g.stack,name:g.name}),alert(`Error adding stock information: ${g.message}`)}},[Zr,an]=ie.useState(!1),[he,at]=ie.useState({fullName:"",address:"",city:"",state:"",zipCode:"",phone:"",notes:""}),Qe={PUBLIC_KEY:"N9a2Ar4ONVT5fRerl",SERVICE_ID:"service_ih1vhyb",TEMPLATE_ID:"template_9aexk4c"};[...new Set(o.map(g=>g.categoria))];const ei=o.filter(g=>{const D=n===""||g.nombre.toLowerCase().includes(n.toLowerCase())||g.descripcion.toLowerCase().includes(n.toLowerCase())||g.tags.some(re=>re.toLowerCase().includes(n.toLowerCase())),Z=i==="Todos"||g.categoria===i;return D&&Z}),Ca=g=>{r(g.target.value)},ti=g=>{if(!w){X(!0),de("login");return}const D=g.stock||0,Z=t.find(Ee=>Ee.id===g.id),re=Z?Z.quantity:0;if(D===0){alert(" Este producto est agotado y no est disponible para la venta.");return}if(re>=D){alert(` No hay suficiente stock disponible. Solo quedan ${D} unidades.`);return}e(Ee=>Ee.find(Ae=>Ae.id===g.id)?Ee.map(Ae=>Ae.id===g.id?{...Ae,quantity:Ae.quantity+1}:Ae):[...Ee,{...g,quantity:1}])},Us=g=>{e(D=>D.filter(Z=>Z.id!==g))},ba=(g,D)=>{if(D<=0){Us(g);return}e(Z=>Z.map(re=>re.id===g?{...re,quantity:D}:re))},ni=()=>t.reduce((g,D)=>g+D.precio*D.quantity,0),Bs=async()=>{if(!w){X(!0),de("login");return}if(t.length===0){alert("Tu carrito est vaco. Agrega productos antes de proceder al pago.");return}an(!0)},ka=async()=>{A(!0);try{console.log("Starting order creation process..."),console.log("User:",w),console.log("Cart:",t),console.log("User profile:",N),console.log("Shipping address:",he);const g=await Na({paymentMethod:"Mercado Pago",paymentStatus:"pending",shippingAddress:he});console.log("Order created successfully:",g);const Z=`https://link.mercadopago.com.mx/amorymiel?amount=${ni()}&order_id=${g.id}`;an(!1),window.open(Z,"_blank"),alert(`Orden creada exitosamente! ID: ${g.id}

Redirigiendo a Mercado Pago para completar el pago.`)}catch(g){console.error("Error creating order:",g),console.error("Error details:",g.message,g.code),console.error("Error stack:",g.stack),console.error("User state:",{user:w,userProfile:N,cart:t}),alert(`Error al crear la orden: ${g.message}

Cdigo de error: ${g.code||"N/A"}

Por favor, intntalo de nuevo.`)}finally{A(!1)}},tt=async g=>{g.preventDefault(),b(!0),B("");const D=new FormData(g.target),Z={from_name:D.get("name"),from_email:D.get("email"),from_phone:D.get("phone"),message:D.get("message"),name:D.get("name"),email:D.get("email")};try{await sd.send(Qe.SERVICE_ID,Qe.TEMPLATE_ID,Z,Qe.PUBLIC_KEY),B("Mensaje enviado exitosamente! Te contactaremos pronto."),g.target.reset()}catch(re){console.error("Error sending email:",re),B("Error al enviar el mensaje. Por favor, intntalo de nuevo.")}finally{b(!1)}},lt=async g=>{g.preventDefault(),S(!0),x("");const D=g.target.email.value,Z={from_name:"Newsletter Subscriber",from_email:D,from_phone:"N/A",message:`Nueva suscripcin al newsletter de Amor y Miel.

Email: ${D}

Fecha: ${new Date().toLocaleDateString()}`,name:"Newsletter Subscriber",email:D};try{await sd.send(Qe.SERVICE_ID,Qe.TEMPLATE_ID,Z,Qe.PUBLIC_KEY),x("Te has suscrito exitosamente! Recibirs nuestros tips de bienestar."),g.target.reset()}catch(re){console.error("Error sending newsletter subscription:",re),x("Error al suscribirse. Por favor, intntalo de nuevo.")}finally{S(!1)}},Ni=async(g,D,Z)=>{try{console.log("Creating user account for:",g);const Ee=(await Qg(Fi,g,D)).user;console.log("User created with UID:",Ee.uid);const Ye={uid:Ee.uid,email:g,name:Z,createdAt:new Date,wishlist:[],orderHistory:[],preferences:{newsletter:!0,notifications:!0}};console.log("Saving user data to Firestore:",Ye),await zh(Zt(ze,"users",Ee.uid),Ye),console.log("User data saved successfully to Firestore"),W("Cuenta creada exitosamente!"),X(!1)}catch(re){console.error("Error creating account:",re),W("Error al crear cuenta: "+re.message)}},Ra=async(g,D)=>{try{const re=(await KA(Fi,g,D)).user;await ms(Zt(ze,"users",re.uid),{lastLogin:new Date}),W("Inicio de sesin exitoso!"),X(!1)}catch(Z){W("Error al iniciar sesin: "+Z.message)}},Pa=async()=>{try{await XA(Fi),k(null),I(null),Ut([]),gt([])}catch(g){console.error("Error signing out:",g)}},_u=async g=>{try{await GA(Fi,g),W("Se ha enviado un enlace de recuperacin a tu email.")}catch(D){W("Error al enviar email de recuperacin: "+D.message)}};ie.useEffect(()=>{const g=JA(Fi,async D=>{if(D){k(D);const Z=await Fh(Zt(ze,"users",D.uid));if(Z.exists()){const re=Z.data();I(re),Ut(re.wishlist||[]),gt(re.orderHistory||[]),Oe(re.isAdmin===!0||D.email==="admin@amorymiel.com")}}else k(null),I(null),Ut([]),gt([]),Oe(!1)});return()=>g()},[]);const ri=async g=>{if(!w)return;const D=[...jn,g];gt(D),await ms(Zt(ze,"users",w.uid),{orderHistory:D})},Da=async g=>{try{for(const D of g){const Z=Zt(ze,"products",D.id),re=await Fh(Z);if(re.exists()){const Ee=re.data(),Ye=Math.max(0,(Ee.stock||0)-D.quantity);await ms(Z,{stock:Ye,lastUpdated:new Date}),console.log(`Reduced stock for ${D.nombre}: ${Ee.stock}  ${Ye}`)}else console.warn(`Product ${D.id} not found in Firestore`)}}catch(D){throw console.error("Error reducing stock:",D),D}},Na=async g=>{try{if(!w||!w.uid)throw new Error("User not authenticated");const D={...g,id:`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:w.uid,customerName:(N==null?void 0:N.name)||w.email||"Cliente",customerEmail:w.email||"no-email@example.com",items:t,total:ni(),createdAt:new Date,status:"pending"};console.log("Creating order:",D),console.log("Attempting to save order to Firestore..."),await Rp(rs(ze,"orders"),D),console.log("Order saved to Firestore successfully"),console.log("Attempting to add order to user history..."),await ri(D),console.log("Order added to user history successfully"),console.log("Attempting to reduce stock for order items..."),await Da(t),console.log("Stock reduced successfully"),e([]),console.log("Cart cleared");try{await sd.send(Qe.SERVICE_ID,Qe.TEMPLATE_ID,{to_email:w.email,customer_name:(N==null?void 0:N.name)||w.email,order_id:D.id,order_total:new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(D.total),order_items:t.map(Z=>`${Z.nombre} x${Z.quantity}`).join(", ")},Qe.PUBLIC_KEY),console.log("Confirmation email sent")}catch(Z){console.warn("Failed to send confirmation email:",Z)}return D}catch(D){throw console.error("Error creating order:",D),D}};return c.jsxs("div",{style:{background:T.D.fondo,minHeight:"100vh"},children:[c.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),c.jsx("header",{style:{background:"#FBF2DE",boxShadow:"0 2px 20px rgba(0,0,0,0.08)",position:"sticky",top:0,zIndex:100,padding:window.innerWidth<=768?"0.5rem 0":"1rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:window.innerWidth<=768?"0.5rem":"1rem"},children:[c.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:c.jsx("img",{src:"/images/logo/amorymiellogo.png",alt:"Amor y Miel",style:{height:window.innerWidth<=768?"60px":"80px"}})}),c.jsxs("nav",{style:{display:window.innerWidth<=768?"none":"flex",gap:"2rem",alignItems:"center",flexWrap:"wrap"},children:[c.jsx("a",{href:"#inicio",style:{color:T.D.carbon,textDecoration:"none"},children:"Inicio"}),c.jsx("a",{href:"#productos",style:{color:T.D.carbon,textDecoration:"none"},children:"Productos"}),c.jsx("a",{href:"#servicios",style:{color:T.D.carbon,textDecoration:"none"},children:"Servicios"}),c.jsx("a",{href:"#kids",style:{color:T.D.carbon,textDecoration:"none"},children:"Para Nios"}),c.jsx("a",{href:"#quienes-somos",style:{color:T.D.carbon,textDecoration:"none"},children:"Quines somos"}),c.jsx("a",{href:"#contacto",style:{color:T.D.carbon,textDecoration:"none"},children:"Contacto"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:window.innerWidth<=768?"0.5rem":"1rem",flexWrap:"wrap"},children:[c.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:Ca,style:{padding:window.innerWidth<=768?"0.4rem 0.8rem":"0.5rem 1rem",border:`2px solid ${T.D.crema}`,borderRadius:"25px",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",width:window.innerWidth<=768?"150px":"200px",outline:"none",transition:"border-color 0.3s ease"},onFocus:g=>{g.target.style.borderColor=T.D.miel},onBlur:g=>{g.target.style.borderColor=T.D.crema}}),w?c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:window.innerWidth<=768?"0.5rem":"1rem",flexWrap:"wrap"},children:[c.jsxs("span",{style:{color:T.D.carbon,fontSize:"0.9rem"},children:["Hola, ",(N==null?void 0:N.name)||w.email,"!"]}),we&&c.jsx("button",{onClick:()=>ge(!0),style:{background:`linear-gradient(135deg, ${T.D.verde} 0%, #8EB080 100%)`,color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.3s ease",fontWeight:"bold"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},children:" Admin Dashboard"}),!we&&c.jsx("button",{onClick:ar,style:{background:"transparent",color:T.D.miel,border:`2px solid ${T.D.miel}`,padding:"0.5rem 1rem",borderRadius:"20px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold"},children:" Create Admin"}),we&&window.innerWidth>768&&c.jsx("button",{onClick:Xr,style:{background:"transparent",color:T.D.verde,border:`2px solid ${T.D.verde}`,padding:"0.5rem 1rem",borderRadius:"20px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",marginLeft:"0.5rem"},children:" Add Stock"}),c.jsx("button",{onClick:Pa,style:{background:"transparent",border:`2px solid ${T.D.miel}`,color:T.D.miel,padding:window.innerWidth<=768?"0.4rem 0.8rem":"0.5rem 1rem",borderRadius:"20px",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.background=T.D.miel,g.target.style.color="white"},onMouseLeave:g=>{g.target.style.background="transparent",g.target.style.color=T.D.miel},children:"Cerrar Sesin"})]}):c.jsx("button",{onClick:()=>{X(!0),de("login")},style:{background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",border:"none",padding:window.innerWidth<=768?"0.4rem 0.8rem":"0.5rem 1rem",borderRadius:"20px",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 4px 15px rgba(224, 167, 58, 0.3)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},children:"Iniciar Sesin"}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:window.innerWidth<=768?"0.3rem":"0.5rem",cursor:"pointer",padding:window.innerWidth<=768?"0.4rem 0.6rem":"0.5rem 0.8rem",borderRadius:"8px",background:"transparent",border:`1px solid ${T.D.crema}`,transition:"all 0.3s ease"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=T.D.crema,g.currentTarget.style.borderColor=T.D.miel},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent",g.currentTarget.style.borderColor=T.D.crema},children:[c.jsx("span",{style:{fontSize:"20px"},children:""}),c.jsx("span",{style:{color:T.D.carbon,fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:"500"},children:w?`Carrito (${t.length})`:"Inicia sesin para comprar"})]})]})]})}),c.jsx("section",{id:"inicio",style:{background:"linear-gradient(135deg, #FBF2DE 0%, #FFFFFF 65%)",padding:"1rem 0",minHeight:"60vh",display:"flex",alignItems:"center"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem",display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",gap:window.innerWidth<=768?"1rem":"2rem",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsxs("h1",{style:{fontSize:"clamp(2rem, 5vw, 3.5rem)",fontWeight:"bold",color:T.D.carbon,margin:"0 0 1.5rem 0",lineHeight:"1.2"},children:["Cuidado natural, artesanal y"," ",c.jsx("span",{style:{color:T.D.miel},children:"con amor."})]}),c.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.2rem)",color:"#666",margin:"0 0 2rem 0",lineHeight:"1.6"},children:"Productos y rituales holsticos inspirados en la miel, las plantas y la energa del bienestar."}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[c.jsx("button",{style:{background:T.D.miel,color:"white",border:"none",padding:"1rem 2rem",borderRadius:"25px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600"},onClick:()=>document.getElementById("productos").scrollIntoView({behavior:"smooth"}),children:"Ver productos"}),c.jsx("button",{style:{background:"transparent",color:T.D.miel,border:`2px solid ${T.D.miel}`,padding:"1rem 2rem",borderRadius:"25px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600"},onClick:()=>document.getElementById("servicios").scrollIntoView({behavior:"smooth"}),children:"+ Ver servicios"})]}),c.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsx("span",{style:{color:T.D.carbon,fontSize:"0.9rem"},children:"100% natural"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsx("span",{style:{color:T.D.carbon,fontSize:"0.9rem"},children:"Precios justos"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsx("span",{style:{color:T.D.carbon,fontSize:"0.9rem"},children:"Hecho con amor"})]})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"center"},children:c.jsx("div",{style:{background:"white",borderRadius:"20px",padding:"1rem",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",maxWidth:"750px"},children:c.jsx("img",{src:"/images/catalog/Lucid_Origin_Stunning_3D_rendered_lifestyle_image_featuring_la_0.jpg",alt:"Productos Amor y Miel",style:{width:"100%",height:"auto",borderRadius:"15px",objectFit:"cover"},onError:g=>{g.target.src="/images/logo/amorymiellogo.png"}})})})]})}),c.jsx("section",{style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"2rem 0",borderBottom:`1px solid ${T.D.crema}`},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[c.jsx("h2",{style:{margin:"0 0 0.5rem 0",color:T.D.carbon,fontSize:"1.5rem",fontWeight:"600"},children:"Categoras"}),c.jsx("p",{style:{margin:"0",color:"#666",fontSize:"0.95rem"},children:"Explora nuestros productos por categora"})]}),c.jsx("div",{style:{display:"flex",gap:"0.8rem",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:EP.map(g=>c.jsx("button",{onClick:()=>s(g),style:{background:i===g?`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`:"white",color:i===g?"white":T.D.carbon,border:i===g?"none":`2px solid ${T.D.crema}`,padding:"0.7rem 1.5rem",borderRadius:"30px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.3s ease",boxShadow:i===g?"0 4px 15px rgba(212, 165, 116, 0.3)":"0 2px 8px rgba(0,0,0,0.05)",minWidth:"auto",whiteSpace:"nowrap"},onMouseEnter:D=>{i!==g&&(D.target.style.borderColor=T.D.miel,D.target.style.transform="translateY(-2px)",D.target.style.boxShadow="0 4px 12px rgba(212, 165, 116, 0.2)")},onMouseLeave:D=>{i!==g&&(D.target.style.borderColor=T.D.crema,D.target.style.transform="translateY(0)",D.target.style.boxShadow="0 2px 8px rgba(0,0,0,0.05)")},children:g},g))}),c.jsx("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:c.jsxs("span",{style:{color:"#666",fontSize:"0.9rem",fontWeight:"500"},children:[ei.length," ",ei.length===1?"producto":"productos",i!=="Todos"&&` en ${i.toLowerCase()}`]})})]})}),c.jsx("section",{id:"productos",style:{padding:"1rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[c.jsx("h2",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"3rem",fontWeight:"700",letterSpacing:"-0.02em"},children:"Nuestros Productos"}),c.jsx("div",{style:{width:"80px",height:"4px",background:`linear-gradient(90deg, ${T.D.miel} 0%, #d4a574 100%)`,margin:"0 auto",borderRadius:"2px"}}),c.jsx("p",{style:{color:"#666",fontSize:"1.1rem",margin:"1rem 0 0 0",fontWeight:"400"},children:"Productos artesanales elaborados con amor y consagrados para tu bienestar"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(auto-fill, minmax(250px, 1fr))":"repeat(auto-fill, minmax(280px, 1fr))",gap:window.innerWidth<=768?"1rem":"clamp(1.5rem, 4vw, 2.5rem)"},children:ei.map(g=>c.jsxs("div",{style:{background:"linear-gradient(145deg, #ffffff 0%, #fefefe 100%)",borderRadius:"24px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.04)",border:`2px solid ${T.D.crema}`,borderTop:`4px solid ${T.D.miel}`,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",position:"relative",backdropFilter:"blur(10px)"},onMouseEnter:D=>{D.currentTarget.style.transform="translateY(-12px) scale(1.02)",D.currentTarget.style.boxShadow="0 20px 60px rgba(212, 165, 116, 0.15), 0 8px 24px rgba(0,0,0,0.08)",D.currentTarget.style.borderColor=T.D.miel,D.currentTarget.style.borderTopColor="#b8945f"},onMouseLeave:D=>{D.currentTarget.style.transform="translateY(0) scale(1)",D.currentTarget.style.boxShadow="0 8px 32px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.04)",D.currentTarget.style.borderColor=T.D.crema,D.currentTarget.style.borderTopColor=T.D.miel},children:[c.jsxs("div",{style:{position:"relative",overflow:"hidden"},children:[c.jsx("img",{src:g.imagen,alt:g.nombre,style:{width:"100%",height:"350px",objectFit:"cover",transition:"transform 0.4s ease"},onError:D=>{D.target.src="/images/logo/amorymiellogo.png"}}),c.jsx("div",{style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)",backdropFilter:"blur(15px)",padding:"0.5rem 1rem",borderRadius:"25px",border:`2px solid ${T.D.miel}`,boxShadow:"0 4px 15px rgba(212, 165, 116, 0.2)"},children:c.jsx("span",{style:{color:T.D.miel,fontSize:"0.7rem",fontWeight:"800",textTransform:"uppercase",letterSpacing:"1px"},children:g.categoria})})]}),c.jsxs("div",{style:{padding:"clamp(1.5rem, 3vw, 2.5rem)",background:"linear-gradient(180deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,1) 100%)"},children:[c.jsx("h3",{style:{margin:"0 0 1rem 0",color:T.D.carbon,fontSize:"clamp(1.2rem, 3vw, 1.5rem)",fontWeight:"700",lineHeight:"1.3",letterSpacing:"-0.02em"},children:g.nombre}),c.jsx("p",{style:{color:"#666",fontSize:"clamp(0.85rem, 2.5vw, 0.95rem)",margin:"0 0 1.5rem 0",lineHeight:"1.6",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:g.descripcion}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"},children:[c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[c.jsxs("span",{style:{fontSize:"1.4rem",fontWeight:"700",color:T.D.miel,lineHeight:"1"},children:["$",g.precio]}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#999",fontWeight:"500"},children:g.moneda}),c.jsx("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:(()=>{const D=g.stock||0,Z=g.minStock||5,re=D===0,Ee=D<=Z&&D>0;return re?c.jsx("span",{style:{background:"#f44336",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold"},children:" Sin Stock"}):Ee?c.jsxs("span",{style:{background:"#FF9800",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold"},children:[" Solo ",D," disponibles"]}):c.jsxs("span",{style:{background:"#4CAF50",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold"},children:[" En Stock (",D,")"]})})()})]}),c.jsxs("div",{style:{display:"flex",gap:"0.6rem",flexWrap:"wrap",alignItems:"center"},children:[c.jsx("button",{onClick:()=>V(g),style:{background:"transparent",color:T.D.miel,border:`2px solid ${T.D.miel}`,padding:"0.6rem 1rem",borderRadius:"25px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"600",transition:"all 0.3s ease",minWidth:"80px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:D=>{D.target.style.background=T.D.miel,D.target.style.color="white",D.target.style.transform="translateY(-1px)"},onMouseLeave:D=>{D.target.style.background="transparent",D.target.style.color=T.D.miel,D.target.style.transform="translateY(0)"},children:"Ver ms"}),c.jsx("button",{onClick:()=>ti(g),style:{background:(g.stock||0)===0?"#cccccc":`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:(g.stock||0)===0?"#666666":"white",border:"none",padding:"0.6rem 1rem",borderRadius:"25px",cursor:(g.stock||0)===0?"not-allowed":"pointer",fontSize:"0.8rem",fontWeight:"600",transition:"all 0.3s ease",minWidth:"80px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:(g.stock||0)===0?"none":"0 3px 12px rgba(212, 165, 116, 0.3)"},onMouseEnter:D=>{D.target.style.transform="translateY(-2px)",D.target.style.boxShadow="0 6px 20px rgba(224, 167, 58, 0.4)"},onMouseLeave:D=>{D.target.style.transform="translateY(0)",D.target.style.boxShadow="0 4px 15px rgba(224, 167, 58, 0.3)"},children:(()=>{const Z=(g.stock||0)===0;return w?Z?"Sin Stock":"Agregar":"Inicia sesin"})()})]})]})]})]},g.id))})]})}),c.jsx("section",{id:"servicios",style:{background:"white",padding:"1.5rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsx("h2",{style:{textAlign:"center",color:T.D.carbon,marginBottom:"1.5rem",fontSize:"clamp(2rem, 5vw, 2.5rem)",fontWeight:"700"},children:"Nuestros Servicios"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(auto-fill, minmax(250px, 1fr))":"repeat(auto-fill, minmax(280px, 1fr))",gap:window.innerWidth<=768?"1rem":"clamp(1.5rem, 4vw, 2rem)"},children:u.map(g=>c.jsxs("div",{style:{background:"white",borderRadius:"15px",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",border:`2px solid ${T.D.crema}`},children:[c.jsx("img",{src:g.imagen,alt:g.nombre,style:{width:"100%",height:"350px",objectFit:"cover"},onError:D=>{D.target.src="/images/logo/amorymiellogo.png"}}),c.jsxs("div",{style:{padding:"1.5rem"},children:[c.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:T.D.carbon},children:g.nombre}),c.jsxs("p",{style:{color:"#666",fontSize:"0.9rem",margin:"0 0 1rem 0"},children:[g.duracion,"  ",g.modalidad]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:T.D.miel},children:["$",g.precio," ",g.moneda]}),c.jsx("a",{href:g.bookingLink,target:"_blank",rel:"noopener noreferrer",style:{background:T.D.verde,color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",textDecoration:"none"},children:"Agendar"})]})]})]},g.id))})]})}),c.jsx("section",{id:"kids",style:{background:"linear-gradient(135deg, #fff8e1 0%, #f3e5ab 100%)",padding:"4rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",color:T.D.carbon,margin:"0 0 1rem 0"},children:" Para los Pequeos "}),c.jsx("p",{style:{fontSize:"1.2rem",color:"#666",maxWidth:"600px",margin:"0 auto",lineHeight:"1.6"},children:"Productos y servicios especialmente diseados para el bienestar y desarrollo integral de los nios"})]}),c.jsxs("div",{style:{marginBottom:"4rem"},children:[c.jsx("h3",{style:{fontSize:"2rem",fontWeight:"600",color:T.D.miel,textAlign:"center",margin:"0 0 2rem 0"},children:"Productos para Nios"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(auto-fill, minmax(250px, 1fr))":"repeat(auto-fill, minmax(280px, 1fr))",gap:window.innerWidth<=768?"1rem":"clamp(1.5rem, 4vw, 2.5rem)"},children:p.map(g=>c.jsxs("div",{style:{background:"linear-gradient(145deg, #ffffff 0%, #fefefe 100%)",borderRadius:"24px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.04)",border:`2px solid ${T.D.crema}`,borderTop:"4px solid #ffd54f",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",position:"relative"},onMouseEnter:D=>{D.currentTarget.style.transform="translateY(-8px)",D.currentTarget.style.boxShadow="0 20px 40px rgba(0,0,0,0.12), 0 8px 16px rgba(0,0,0,0.08)",D.currentTarget.style.borderColor="#ffd54f"},onMouseLeave:D=>{D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 8px 32px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.04)",D.currentTarget.style.borderColor=T.D.crema},children:[c.jsx("div",{style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%)",backdropFilter:"blur(15px)",padding:"0.5rem 1rem",borderRadius:"25px",border:"2px solid #ffd54f",boxShadow:"0 4px 15px rgba(255, 213, 79, 0.2)"},children:c.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"800",textTransform:"uppercase",letterSpacing:"1px",color:T.D.miel},children:g.categoria.toUpperCase()})}),c.jsx("img",{src:g.imagen,alt:g.nombre,style:{width:"100%",height:"350px",objectFit:"cover"},onError:D=>{D.target.src="/images/logo/amorymiellogo.png"}}),c.jsxs("div",{style:{padding:"clamp(1.5rem, 3vw, 2.5rem)",background:"linear-gradient(180deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,1) 100%)"},children:[c.jsx("h3",{style:{fontSize:"clamp(1.2rem, 3vw, 1.5rem)",fontWeight:"700",color:T.D.carbon,margin:"0 0 0.8rem 0",lineHeight:"1.3"},children:g.nombre}),c.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:"0 0 1.2rem 0",lineHeight:"1.5"},children:g.descripcion}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginBottom:"1.2rem"},children:[c.jsxs("span",{style:{fontSize:"1.4rem",fontWeight:"700",color:T.D.miel,lineHeight:"1"},children:["$",g.precio]}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#999",fontWeight:"500"},children:g.moneda})]}),c.jsxs("div",{style:{display:"flex",gap:"0.6rem",flexWrap:"wrap",alignItems:"center"},children:[c.jsx("button",{onClick:()=>V(g),style:{background:"transparent",color:T.D.miel,border:`2px solid ${T.D.miel}`,padding:"0.6rem 1rem",borderRadius:"25px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"600",transition:"all 0.3s ease",minWidth:"80px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:D=>{D.target.style.background=T.D.miel,D.target.style.color="white",D.target.style.transform="translateY(-2px)"},onMouseLeave:D=>{D.target.style.background="transparent",D.target.style.color=T.D.miel,D.target.style.transform="translateY(0)"},children:"Ver ms"}),c.jsx("button",{onClick:()=>ti(g),style:{background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",border:"none",padding:"0.6rem 1rem",borderRadius:"25px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"600",transition:"all 0.3s ease",minWidth:"80px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 12px rgba(212, 165, 116, 0.3)"},onMouseEnter:D=>{D.target.style.transform="translateY(-2px)",D.target.style.boxShadow="0 6px 20px rgba(212, 165, 116, 0.4)"},onMouseLeave:D=>{D.target.style.transform="translateY(0)",D.target.style.boxShadow="0 3px 12px rgba(212, 165, 116, 0.3)"},children:w?"Agregar al Carrito":"Inicia sesin para comprar"})]})]})]},g.id))})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"2rem",fontWeight:"600",color:T.D.miel,textAlign:"center",margin:"0 0 2rem 0"},children:"Servicios para Nios"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(auto-fill, minmax(250px, 1fr))":"repeat(auto-fill, minmax(280px, 1fr))",gap:window.innerWidth<=768?"1rem":"clamp(1.5rem, 4vw, 2rem)"},children:y.map(g=>c.jsxs("div",{style:{background:"white",borderRadius:"20px",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",border:"2px solid #ffd54f",transition:"all 0.3s ease"},onMouseEnter:D=>{D.currentTarget.style.transform="translateY(-5px)",D.currentTarget.style.boxShadow="0 15px 40px rgba(0,0,0,0.15)"},onMouseLeave:D=>{D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 10px 30px rgba(0,0,0,0.1)"},children:[c.jsx("img",{src:g.imagen,alt:g.nombre,style:{width:"100%",height:"350px",objectFit:"cover"},onError:D=>{D.target.src="/images/logo/amorymiellogo.png"}}),c.jsxs("div",{style:{padding:"1.5rem"},children:[c.jsx("h3",{style:{margin:"0 0 0.5rem 0",color:T.D.carbon},children:g.nombre}),c.jsxs("p",{style:{color:"#666",fontSize:"0.9rem",margin:"0 0 1rem 0"},children:[g.duracion,"  ",g.modalidad]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("span",{style:{fontSize:"1.3rem",fontWeight:"bold",color:T.D.miel},children:["$",g.precio," ",g.moneda]}),c.jsx("a",{href:g.bookingLink,target:"_blank",rel:"noopener noreferrer",style:{background:"#ffd54f",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",textDecoration:"none",transition:"all 0.3s ease"},onMouseEnter:D=>{D.target.style.background="#ffc107",D.target.style.transform="translateY(-2px)"},onMouseLeave:D=>{D.target.style.background="#ffd54f",D.target.style.transform="translateY(0)"},children:"Agendar"})]})]})]},g.id))})]})]})}),c.jsx("section",{id:"quienes-somos",style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"4rem 0"},children:c.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"3rem",alignItems:"center"},children:[c.jsx("div",{style:{textAlign:"center"},children:c.jsx("img",{src:"/images/about/quiensomos.jpg",alt:"Amor y Miel - Quines Somos",style:{width:"100%",maxWidth:"500px",height:"auto",borderRadius:"20px",boxShadow:"0 15px 40px rgba(0,0,0,0.1)",border:`3px solid ${T.D.miel}`},onError:g=>{g.target.src="/images/logo/amorymiellogo.png"}})}),c.jsxs("div",{style:{padding:"0 1rem"},children:[c.jsx("h2",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",color:T.D.carbon,margin:"0 0 1.5rem 0",lineHeight:"1.2"},children:"Quines Somos"}),c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.08)",border:`2px solid ${T.D.crema}`},children:[c.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.7",color:"#555",margin:"0 0 1.5rem 0"},children:["En ",c.jsx("strong",{style:{color:T.D.miel},children:"Amor y Miel"}),", creemos en el poder transformador de la naturaleza y la energa del amor. Somos una marca artesanal dedicada a crear productos y servicios holsticos que nutren el cuerpo, la mente y el alma."]}),c.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.7",color:"#555",margin:"0 0 1.5rem 0"},children:["Cada producto es elaborado con ",c.jsx("strong",{style:{color:T.D.miel},children:"ingredientes naturales"})," cuidadosamente seleccionados y consagrados bajo rituales de amor y sanacin. Nuestros servicios holsticos estn diseados para acompaarte en tu camino hacia el bienestar integral."]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginTop:"2rem"},children:[c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:""}),c.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:T.D.miel,fontSize:"1.1rem",fontWeight:"600"},children:"100% Natural"}),c.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"#666"},children:"Ingredientes puros y orgnicos"})]}),c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:""}),c.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:T.D.miel,fontSize:"1.1rem",fontWeight:"600"},children:"Hecho con Amor"}),c.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"#666"},children:"Cada producto es consagrado"})]}),c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:""}),c.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:T.D.miel,fontSize:"1.1rem",fontWeight:"600"},children:"Energa Positiva"}),c.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"#666"},children:"Rituales de sanacin holstica"})]})]}),c.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:c.jsx("a",{href:"#contacto",style:{background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",padding:"1rem 2rem",borderRadius:"30px",textDecoration:"none",fontSize:"1rem",fontWeight:"600",display:"inline-block",boxShadow:"0 5px 15px rgba(212, 165, 116, 0.3)",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 8px 25px rgba(212, 165, 116, 0.4)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 5px 15px rgba(212, 165, 116, 0.3)"},children:"Conoce Nuestra Historia"})})]})]})]})})}),c.jsx("section",{style:{background:"white",padding:"4rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",color:T.D.carbon,margin:"0 0 1rem 0"},children:" Informacin de Envos"}),c.jsx("p",{style:{fontSize:"1.2rem",color:"#666",maxWidth:"600px",margin:"0 auto",lineHeight:"1.6"},children:"Entregamos nuestros productos con amor y cuidado a toda la Repblica Mexicana"})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",gap:window.innerWidth<=768?"1rem":"2rem"},children:[c.jsxs("div",{style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"2rem",borderRadius:"20px",border:`2px solid ${T.D.crema}`,textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:T.D.carbon,margin:"0 0 1rem 0"},children:"Envos Nacionales"}),c.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0 0 1rem 0"},children:"Realizamos envos a toda la Repblica Mexicana"}),c.jsx("p",{style:{color:T.D.miel,fontWeight:"600",fontSize:"1.1rem",margin:"0"},children:"3-7 das hbiles"})]}),c.jsxs("div",{style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"2rem",borderRadius:"20px",border:`2px solid ${T.D.crema}`,textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:T.D.carbon,margin:"0 0 1rem 0"},children:"Costo de Envo"}),c.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0 0 1rem 0"},children:"Envo gratuito en compras mayores a $500 MXN"}),c.jsx("p",{style:{color:T.D.miel,fontWeight:"600",fontSize:"1.1rem",margin:"0"},children:"$80 MXN (compras menores)"})]}),c.jsxs("div",{style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"2rem",borderRadius:"20px",border:`2px solid ${T.D.crema}`,textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:T.D.carbon,margin:"0 0 1rem 0"},children:"Empaque Seguro"}),c.jsx("p",{style:{color:"#666",lineHeight:"1.6",margin:"0 0 1rem 0"},children:"Todos nuestros productos son empacados con cuidado y proteccin"}),c.jsx("p",{style:{color:T.D.miel,fontWeight:"600",fontSize:"1.1rem",margin:"0"},children:"100% protegido"})]})]}),c.jsxs("div",{style:{background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,padding:"2rem",borderRadius:"20px",marginTop:"2rem",textAlign:"center"},children:[c.jsx("h3",{style:{color:"white",fontSize:"1.5rem",fontWeight:"600",margin:"0 0 1rem 0"},children:" Necesitas ayuda con tu envo?"}),c.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"1.1rem",margin:"0 0 1rem 0"},children:"Contctanos por WhatsApp para consultas sobre envos y seguimiento"}),c.jsx("a",{href:"https://wa.me/529991320209?text=Hola,%20tengo%20una%20consulta%20sobre%20envos",target:"_blank",rel:"noopener noreferrer",style:{background:"white",color:T.D.miel,padding:"1rem 2rem",borderRadius:"30px",textDecoration:"none",fontWeight:"600",fontSize:"1.1rem",display:"inline-block",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},children:"Contactar por WhatsApp"})]})]})}),c.jsx("section",{style:{background:"white",padding:"4rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",color:T.D.carbon,margin:"0 0 1rem 0"},children:" Lo Que Dicen Nuestros Clientes"}),c.jsx("p",{style:{fontSize:"1.2rem",color:"#666",maxWidth:"600px",margin:"0 auto",lineHeight:"1.6"},children:"Testimonios reales de personas que han transformado su bienestar con nuestros productos"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"2rem"},children:[{name:"Mara Gonzlez",text:"Los productos de Amor y Miel han transformado mi rutina de autocuidado. El Kit de Bienestar Completo es perfecto para relajarme despus del trabajo.",rating:5},{name:"Carlos Rodrguez",text:"La Sonoterapia fue una experiencia increble. Me ayud a reducir el estrs y encontrar paz interior. Definitivamente lo recomiendo.",rating:5},{name:"Ana Martnez",text:"Las velas de miel tienen un aroma delicioso y crean un ambiente muy relajante. Mi familia y yo las usamos todas las noches.",rating:5},{name:"Laura Fernndez",text:"Los baos energticos son mgicos. Me ayudaron a limpiar mi energa y sentirme renovada. El servicio al cliente es excepcional.",rating:5},{name:"Roberto Silva",text:"La Numerologa me abri los ojos a muchas cosas. Los productos son de excelente calidad y el ambiente es muy relajante.",rating:5},{name:"Carmen Ruiz",text:"Mi hija ama los productos para nios. Son suaves, naturales y realmente funcionan. Recomiendo Amor y Miel a todas las mams.",rating:5}].map((g,D)=>c.jsxs("div",{style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"2rem",borderRadius:"20px",border:`2px solid ${T.D.crema}`,boxShadow:"0 8px 25px rgba(0,0,0,0.08)"},children:[c.jsx("div",{style:{marginBottom:"1rem"},children:[...Array(g.rating)].map((Z,re)=>c.jsx("span",{style:{color:"#ffd700",fontSize:"1.2rem"},children:""},re))}),c.jsxs("p",{style:{fontSize:"1rem",lineHeight:"1.6",color:"#555",margin:"0 0 1.5rem 0",fontStyle:"italic"},children:['"',g.text,'"']}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:g.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0",color:T.D.carbon,fontSize:"1.1rem",fontWeight:"600"},children:g.name}),c.jsx("p",{style:{margin:"0",color:"#666",fontSize:"0.9rem"},children:"Cliente Verificado"})]})]})]},D))})]})}),c.jsx("section",{style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"4rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",color:T.D.carbon,margin:"0 0 1rem 0"},children:" Preguntas Frecuentes"}),c.jsx("p",{style:{fontSize:"1.2rem",color:"#666",maxWidth:"600px",margin:"0 auto",lineHeight:"1.6"},children:"Resolvemos las dudas ms comunes sobre nuestros productos y servicios"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"1.5rem"},children:[{question:"Los productos son 100% naturales?",answer:"S, todos nuestros productos estn elaborados con ingredientes 100% naturales y orgnicos. No utilizamos qumicos dainos ni conservantes artificiales."},{question:"Cmo puedo agendar una cita para servicios?",answer:"Puedes agendar tu cita directamente a travs de WhatsApp al +52 999 132 0209 o haciendo clic en el botn 'Agendar' de cada servicio."},{question:"Hacen envos a toda la repblica?",answer:"S, realizamos envos a toda la Repblica Mexicana. Los tiempos de entrega varan segn la ubicacin, generalmente de 3 a 7 das hbiles."},{question:"Los productos tienen garanta?",answer:"Ofrecemos garanta de satisfaccin. Si no ests completamente satisfecho con tu compra, puedes devolver el producto en un plazo de 15 das."},{question:"Puedo usar los productos si estoy embarazada?",answer:"Recomendamos consultar con tu mdico antes de usar cualquier producto durante el embarazo. Algunos ingredientes pueden no ser recomendables en esta etapa."},{question:"Cmo debo conservar los productos?",answer:"Mantn los productos en un lugar fresco, seco y alejado de la luz directa del sol. Esto asegura que mantengan sus propiedades por ms tiempo."}].map((g,D)=>c.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"15px",border:`2px solid ${T.D.crema}`,boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[c.jsx("h3",{style:{margin:"0 0 1rem 0",color:T.D.miel,fontSize:"1.1rem",fontWeight:"600"},children:g.question}),c.jsx("p",{style:{margin:"0",color:"#555",lineHeight:"1.6",fontSize:"0.95rem"},children:g.answer})]},D))})]})}),c.jsx("section",{style:{background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,padding:"4rem 0"},children:c.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"0 1rem",textAlign:"center"},children:[c.jsx("h2",{style:{fontSize:"clamp(2rem, 4vw, 2.8rem)",fontWeight:"700",color:"white",margin:"0 0 1rem 0"},children:" Mantente Conectado"}),c.jsx("p",{style:{fontSize:"1.2rem",color:"rgba(255,255,255,0.9)",margin:"0 0 2rem 0",lineHeight:"1.6"},children:"Recibe tips de bienestar, ofertas especiales y novedades directamente en tu correo"}),c.jsxs("form",{onSubmit:lt,style:{display:"flex",gap:"1rem",maxWidth:"500px",margin:"0 auto",flexWrap:"wrap",justifyContent:"center"},children:[c.jsx("input",{type:"email",name:"email",placeholder:"Tu correo electrnico",required:!0,style:{flex:"1",minWidth:"250px",padding:"1rem 1.5rem",borderRadius:"30px",border:"none",fontSize:"1rem",outline:"none",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"}}),c.jsx("button",{type:"submit",disabled:U,style:{background:U?"#ccc":"white",color:T.D.miel,border:"none",padding:"1rem 2rem",borderRadius:"30px",fontSize:"1rem",fontWeight:"600",cursor:U?"not-allowed":"pointer",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",transition:"all 0.3s ease",opacity:U?.7:1},onMouseEnter:g=>{U||(g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 6px 20px rgba(0,0,0,0.15)")},onMouseLeave:g=>{U||(g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 4px 15px rgba(0,0,0,0.1)")},children:U?c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{marginRight:"0.5rem"},children:""}),"Suscribiendo..."]}):"Suscribirse"})]}),_&&c.jsx("div",{style:{padding:"1rem",margin:"1rem auto 0 auto",maxWidth:"500px",borderRadius:"10px",backgroundColor:_.includes("exitosamente")?"rgba(212, 237, 218, 0.9)":"rgba(248, 215, 218, 0.9)",color:_.includes("exitosamente")?"#155724":"#721c24",border:`1px solid ${_.includes("exitosamente")?"rgba(195, 230, 203, 0.8)":"rgba(245, 198, 203, 0.8)"}`,textAlign:"center",fontWeight:"500"},children:_}),c.jsx("p",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.8)",margin:"1.5rem 0 0 0"},children:"No compartimos tu informacin. Puedes cancelar tu suscripcin en cualquier momento."})]})}),c.jsx("section",{id:"contacto",style:{background:"white",padding:"4rem 0"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",color:T.D.carbon,margin:"0 0 1rem 0"},children:" Contctanos"}),c.jsx("p",{style:{fontSize:"1.2rem",color:"#666",maxWidth:"600px",margin:"0 auto",lineHeight:"1.6"},children:"Estamos aqu para ayudarte en tu camino hacia el bienestar integral"})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",gap:window.innerWidth<=768?"2rem":"3rem"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:T.D.miel,margin:"0 0 1.5rem 0"},children:"Informacin de Contacto"}),c.jsxs("div",{style:{marginBottom:"2rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[c.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.2rem"},children:""}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0",color:T.D.carbon},children:"WhatsApp"}),c.jsx("p",{style:{margin:"0",color:"#666"},children:"+52 999 132 0209"})]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[c.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.2rem"},children:""}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0",color:T.D.carbon},children:"Email"}),c.jsx("p",{style:{margin:"0",color:"#666"},children:"info@amorymiel.com"})]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[c.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.2rem"},children:""}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0",color:T.D.carbon},children:"Horarios"}),c.jsx("p",{style:{margin:"0",color:"#666"},children:"Lunes a Sbado: 9:00 AM - 7:00 PM"})]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[c.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.2rem",flexShrink:0},children:""}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:T.D.carbon},children:"Direccin de Tienda Fsica"}),c.jsxs("div",{style:{color:"#666",lineHeight:"1.5"},children:[c.jsx("p",{style:{margin:"0 0 0.25rem 0",fontWeight:"600"},children:"Gestalt del Caribe"}),c.jsx("p",{style:{margin:"0 0 0.25rem 0"},children:"Calle Yaxcopoil M2 SM59, Edificio 9,"}),c.jsx("p",{style:{margin:"0 0 0.25rem 0"},children:"Local 217 Centro Comercial Cancn Maya,"}),c.jsx("p",{style:{margin:"0 0 0.25rem 0"},children:"Cancn, Q. Roo. CP 77515"})]})]})]}),c.jsxs("div",{style:{marginTop:"2rem"},children:[c.jsx("h4",{style:{margin:"0 0 1rem 0",color:T.D.carbon},children:" Encuntranos en el Mapa"}),c.jsx("div",{style:{width:"100%",height:"300px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",border:`2px solid ${T.D.miel}`,background:"#f8f9fa"},children:c.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3720.123456789!2d-86.8515!3d21.1619!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f4c2b123456789%3A0x123456789abcdef!2sCentro%20Comercial%20Canc%C3%BAn%20Maya!5e0!3m2!1ses!2smx!4v1234567890123!5m2!1ses!2smx",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Ubicacin de Amor y Miel - Gestalt del Caribe"})}),c.jsxs("div",{style:{marginTop:"1rem",textAlign:"center",color:"#666",fontSize:"0.9rem"},children:[c.jsxs("p",{style:{margin:"0"},children:[c.jsx("strong",{children:" Gestalt del Caribe"}),c.jsx("br",{}),"Centro Comercial Cancn Maya, Local 217",c.jsx("br",{}),"Cancn, Quintana Roo, Mxico"]}),c.jsx("a",{href:"https://maps.google.com/?q=Centro+Comercial+Cancn+Maya,+Cancn,+Q.Roo",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginTop:"0.5rem",padding:"0.5rem 1rem",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",textDecoration:"none",borderRadius:"25px",fontSize:"0.9rem",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 6px 15px rgba(212, 165, 116, 0.4)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},children:" Abrir en Google Maps"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0 0 1rem 0",color:T.D.carbon},children:"Sguenos"}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("a",{href:"https://www.instagram.com/_amor_y_miel_/reels",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"45px",height:"45px",borderRadius:"50%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",textDecoration:"none",fontSize:"1.2rem",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 6px 15px rgba(212, 165, 116, 0.4)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},children:""}),c.jsx("a",{href:"https://www.facebook.com/p/Amor-y-Miel-100089698655453/",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"45px",height:"45px",borderRadius:"50%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",textDecoration:"none",fontSize:"1.2rem",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 6px 15px rgba(212, 165, 116, 0.4)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="none"},children:""})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:T.D.miel,margin:"0 0 1.5rem 0"},children:"Envanos un Mensaje"}),c.jsxs("form",{onSubmit:tt,style:{background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`,padding:"2rem",borderRadius:"20px",border:`2px solid ${T.D.crema}`},children:[c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"name",required:!0,style:{width:"100%",padding:"1rem",borderRadius:"10px",border:`2px solid ${T.D.crema}`,fontSize:"1rem",outline:"none",transition:"border-color 0.3s ease"},onFocus:g=>{g.target.style.borderColor=T.D.miel},onBlur:g=>{g.target.style.borderColor=T.D.crema}})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Correo Electrnico"}),c.jsx("input",{type:"email",name:"email",required:!0,style:{width:"100%",padding:"1rem",borderRadius:"10px",border:`2px solid ${T.D.crema}`,fontSize:"1rem",outline:"none",transition:"border-color 0.3s ease"},onFocus:g=>{g.target.style.borderColor=T.D.miel},onBlur:g=>{g.target.style.borderColor=T.D.crema}})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Asunto"}),c.jsxs("select",{style:{width:"100%",padding:"1rem",borderRadius:"10px",border:`2px solid ${T.D.crema}`,fontSize:"1rem",outline:"none",background:"white"},children:[c.jsx("option",{children:"Consulta sobre productos"}),c.jsx("option",{children:"Agendar servicio"}),c.jsx("option",{children:"Informacin general"}),c.jsx("option",{children:"Soporte tcnico"}),c.jsx("option",{children:"Otro"})]})]}),c.jsxs("div",{style:{marginBottom:"2rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Mensaje"}),c.jsx("textarea",{name:"message",required:!0,rows:"4",style:{width:"100%",padding:"1rem",borderRadius:"10px",border:`2px solid ${T.D.crema}`,fontSize:"1rem",outline:"none",resize:"vertical",transition:"border-color 0.3s ease"},onFocus:g=>{g.target.style.borderColor=T.D.miel},onBlur:g=>{g.target.style.borderColor=T.D.crema}})]}),O&&c.jsx("div",{style:{padding:"1rem",marginBottom:"1rem",borderRadius:"10px",backgroundColor:O.includes("exitosamente")?"#d4edda":"#f8d7da",color:O.includes("exitosamente")?"#155724":"#721c24",border:`1px solid ${O.includes("exitosamente")?"#c3e6cb":"#f5c6cb"}`,textAlign:"center",fontWeight:"500"},children:O}),c.jsx("button",{type:"submit",disabled:E,style:{width:"100%",background:E?"#ccc":`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",border:"none",padding:"1rem 2rem",borderRadius:"30px",fontSize:"1rem",fontWeight:"600",cursor:E?"not-allowed":"pointer",boxShadow:"0 4px 15px rgba(212, 165, 116, 0.3)",transition:"all 0.3s ease",opacity:E?.7:1},onMouseEnter:g=>{E||(g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 8px 25px rgba(212, 165, 116, 0.4)")},onMouseLeave:g=>{E||(g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 4px 15px rgba(212, 165, 116, 0.3)")},children:E?c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{marginRight:"0.5rem"},children:""}),"Enviando..."]}):"Enviar Mensaje"})]})]})]})]})}),c.jsx("footer",{style:{background:T.D.carbon,color:"white",padding:"3rem 0 1rem 0",marginTop:"3rem"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 1rem"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"clamp(1.5rem, 4vw, 2rem)",marginBottom:"2rem"},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[c.jsx("img",{src:"/images/logo/amorymiellogo.png",alt:"Amor y Miel",style:{height:"40px"}}),c.jsx("h3",{style:{margin:0},children:"Amor y Miel"})]}),c.jsx("p",{style:{color:"#ccc",lineHeight:"1.6"},children:"Productos holsticos artesanales para el bienestar espiritual y fsico. Cuidado natural, artesanal y con amor."})]}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Productos"}),c.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#productos",style:{color:"#ccc",textDecoration:"none"},children:"Velas"})}),c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#productos",style:{color:"#ccc",textDecoration:"none"},children:"Lociones"})}),c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#productos",style:{color:"#ccc",textDecoration:"none"},children:"Aceites"})}),c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#productos",style:{color:"#ccc",textDecoration:"none"},children:"Baos Energticos"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Servicios"}),c.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#servicios",style:{color:"#ccc",textDecoration:"none"},children:"Sonoterapia"})}),c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#servicios",style:{color:"#ccc",textDecoration:"none"},children:"Ceremonia de Cacao"})}),c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#servicios",style:{color:"#ccc",textDecoration:"none"},children:"Numerologa"})}),c.jsx("li",{style:{marginBottom:"0.5rem"},children:c.jsx("a",{href:"#servicios",style:{color:"#ccc",textDecoration:"none"},children:"Tarot Angelical"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Contacto"}),c.jsx("p",{style:{color:"#ccc",margin:"0 0 0.5rem 0"},children:" WhatsApp: +52 999 132 0209"}),c.jsx("p",{style:{color:"#ccc",margin:"0 0 0.5rem 0"},children:" Email: info@amorymiel.com"}),c.jsxs("div",{style:{color:"#ccc",margin:"0 0 1rem 0",lineHeight:"1.4"},children:[c.jsx("p",{style:{margin:"0 0 0.25rem 0",fontWeight:"600"},children:" Gestalt del Caribe"}),c.jsx("p",{style:{margin:"0 0 0.25rem 0"},children:"Calle Yaxcopoil M2 SM59, Edificio 9,"}),c.jsx("p",{style:{margin:"0 0 0.25rem 0"},children:"Local 217 Centro Comercial Cancn Maya,"}),c.jsx("p",{style:{margin:"0 0 0.25rem 0"},children:"Cancn, Q. Roo. CP 77515"})]}),c.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Mtodos de Pago"}),c.jsx("p",{style:{color:"#ccc",margin:"0 0 0.5rem 0"},children:" Mercado Pago"}),c.jsx("p",{style:{color:"#ccc",margin:"0 0 0.5rem 0"},children:" Transferencia bancaria"}),c.jsx("p",{style:{color:"#ccc",margin:"0 0 1rem 0"},children:" Pago en efectivo"}),c.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Sguenos"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[c.jsxs("a",{href:"https://www.instagram.com/_amor_y_miel_/reels",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#ccc",textDecoration:"none",transition:"color 0.3s ease"},onMouseEnter:g=>g.target.style.color="#E0A73A",onMouseLeave:g=>g.target.style.color="#ccc",children:[c.jsx("span",{style:{fontSize:"1.2rem"},children:""}),c.jsx("span",{children:"Instagram"})]}),c.jsxs("a",{href:"https://www.facebook.com/p/Amor-y-Miel-100089698655453/",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#ccc",textDecoration:"none",transition:"color 0.3s ease"},onMouseEnter:g=>g.target.style.color="#E0A73A",onMouseLeave:g=>g.target.style.color="#ccc",children:[c.jsx("span",{style:{fontSize:"1.2rem"},children:""}),c.jsx("span",{children:"Facebook"})]})]})]})]}),c.jsx("div",{style:{borderTop:"1px solid #444",paddingTop:"1rem",textAlign:"center"},children:c.jsx("p",{style:{color:"#ccc",margin:0},children:" 2024 Amor y Miel. Todos los derechos reservados. Hecho con  en Mxico."})})]})}),P&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:window.innerWidth<=768?"1rem":"2rem"},children:c.jsxs("div",{style:{background:"white",borderRadius:"20px",maxWidth:"1100px",width:"100%",maxHeight:"100vh",overflow:"auto",position:"relative"},children:[c.jsx("button",{onClick:()=>V(null),style:{position:"absolute",top:"1rem",right:"1rem",background:"#ff4444",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",fontSize:"1.2rem",zIndex:1001},children:""}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",gap:window.innerWidth<=768?"1rem":"2rem",padding:window.innerWidth<=768?"1rem":"2rem",minHeight:window.innerWidth<=768?"auto":"800px"},children:[c.jsx("div",{children:c.jsx("img",{src:wP[P.nombre]||P.imagen,alt:P.nombre,style:{width:"100%",height:"auto",maxHeight:"500px",objectFit:"contain",borderRadius:"15px"},onError:g=>{g.target.src="/images/logo/amorymiellogo.png"}})}),c.jsxs("div",{children:[c.jsx("div",{style:{marginBottom:"1rem"},children:c.jsx("span",{style:{background:T.D.miel,color:"white",padding:"0.25rem 0.75rem",borderRadius:"15px",fontSize:"0.8rem",fontWeight:"600"},children:P.categoria})}),c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",color:T.D.carbon,margin:"0 0 0.5rem 0"},children:P.nombre}),c.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:"0 0 1rem 0",lineHeight:"1.4"},children:P.descripcion}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[P.elaboracion&&c.jsxs("div",{style:{marginBottom:"0.75rem"},children:[c.jsx("h4",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"0.9rem",fontWeight:"600"},children:" Elaboracin"}),c.jsx("p",{style:{color:"#666",fontSize:"0.8rem",margin:0,lineHeight:"1.4"},children:P.elaboracion})]}),P.proposito&&c.jsxs("div",{style:{marginBottom:"0.75rem"},children:[c.jsx("h4",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"0.9rem",fontWeight:"600"},children:" Propsito"}),c.jsx("p",{style:{color:"#666",fontSize:"0.8rem",margin:0,lineHeight:"1.4"},children:P.proposito})]}),P.beneficios&&c.jsxs("div",{style:{marginBottom:"0.75rem"},children:[c.jsx("h4",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"0.9rem",fontWeight:"600"},children:" Beneficios"}),c.jsx("p",{style:{color:"#666",fontSize:"0.8rem",margin:0,lineHeight:"1.4"},children:P.beneficios})]}),P.modoUso&&c.jsxs("div",{style:{marginBottom:"0.75rem"},children:[c.jsx("h4",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"0.9rem",fontWeight:"600"},children:" Modo de Uso"}),c.jsx("p",{style:{color:"#666",fontSize:"0.8rem",margin:0,lineHeight:"1.4"},children:P.modoUso})]}),P.ingredientes&&c.jsxs("div",{style:{marginBottom:"0.75rem"},children:[c.jsx("h4",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"0.9rem",fontWeight:"600"},children:" Ingredientes"}),c.jsx("p",{style:{color:"#666",fontSize:"0.8rem",margin:0,lineHeight:"1.4"},children:P.ingredientes})]}),P.duracion&&c.jsxs("div",{style:{marginBottom:"0.75rem"},children:[c.jsx("h4",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"0.9rem",fontWeight:"600"},children:" Duracin"}),c.jsx("p",{style:{color:"#666",fontSize:"0.8rem",margin:0,lineHeight:"1.4"},children:P.duracion})]}),P.cuidados&&c.jsxs("div",{style:{marginBottom:"0.75rem"},children:[c.jsx("h4",{style:{color:T.D.carbon,margin:"0 0 0.5rem 0",fontSize:"0.9rem",fontWeight:"600"},children:" Cuidados"}),c.jsx("p",{style:{color:"#666",fontSize:"0.8rem",margin:0,lineHeight:"1.4"},children:P.cuidados})]})]}),c.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:T.D.miel},children:["$",P.precio," ",P.moneda]}),c.jsxs("div",{style:{display:"flex",gap:"0.8rem",flexWrap:"wrap",flexDirection:window.innerWidth<=768?"column":"row"},children:[c.jsx("button",{onClick:()=>{ti(P),V(null)},style:{background:T.D.miel,color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",flex:"1",minWidth:"120px"},children:w?"Agregar al Carrito":"Inicia sesin para comprar"}),c.jsxs("button",{onClick:()=>{const g=`https://link.mercadopago.com.mx/amorymiel?amount=${P.precio}`;window.open(g,"_blank")},style:{background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",border:"none",padding:"0.8rem 1.5rem",borderRadius:"25px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"700",flex:"1",minWidth:"120px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.4rem",boxShadow:"0 4px 15px rgba(224, 167, 58, 0.3)",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 8px 25px rgba(224, 167, 58, 0.4)",g.target.style.background="linear-gradient(135deg, #f0b854 0%, #e0a73a 100%)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 4px 15px rgba(224, 167, 58, 0.3)",g.target.style.background=`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`},children:[c.jsx("span",{style:{fontSize:"1rem"},children:""}),c.jsx("span",{style:{textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:"Pagar Ahora"})]})]})]})]})]})]})}),t.length>0&&c.jsxs("div",{style:{position:"fixed",top:"0",right:"0",width:window.innerWidth<=768?"100%":"400px",height:"100vh",background:"white",boxShadow:window.innerWidth<=768?"0 0 30px rgba(0,0,0,0.15)":"-10px 0 30px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column",transform:"translateX(0)",transition:"transform 0.3s ease-in-out"},children:[c.jsx("div",{style:{padding:window.innerWidth<=768?"1rem 1rem 0.5rem":"2rem 1.5rem 1rem",borderBottom:`1px solid ${T.D.crema}`,background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[c.jsxs("h3",{style:{margin:"0",color:T.D.carbon,fontSize:window.innerWidth<=768?"1.2rem":"1.5rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Carrito (",t.length,")"]}),c.jsx("button",{onClick:()=>e([]),style:{background:"transparent",border:"none",color:T.D.carbon,cursor:"pointer",padding:"0.5rem",borderRadius:"8px",fontSize:"1.2rem",transition:"background-color 0.3s ease"},onMouseEnter:g=>g.target.style.backgroundColor="rgba(0,0,0,0.1)",onMouseLeave:g=>g.target.style.backgroundColor="transparent",children:""})]})}),c.jsx("div",{style:{flex:"1",overflowY:"auto",padding:window.innerWidth<=768?"0.5rem 1rem":"1rem 1.5rem"},children:t.map(g=>c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:window.innerWidth<=768?"0.5rem":"1rem",padding:window.innerWidth<=768?"0.8rem":"1rem",marginBottom:window.innerWidth<=768?"0.8rem":"1rem",background:"white",borderRadius:"15px",border:`1px solid ${T.D.crema}`,boxShadow:"0 4px 15px rgba(0,0,0,0.05)",transition:"all 0.3s ease"},children:[c.jsx("img",{src:g.imagen,alt:g.nombre,style:{width:window.innerWidth<=768?"50px":"60px",height:window.innerWidth<=768?"50px":"60px",objectFit:"cover",borderRadius:"10px",border:`1px solid ${T.D.crema}`},onError:D=>D.target.src="/images/logo/amorymiellogo.png"}),c.jsxs("div",{style:{flex:"1"},children:[c.jsx("h4",{style:{margin:"0 0 0.25rem 0",fontSize:window.innerWidth<=768?"0.85rem":"0.95rem",color:T.D.carbon,fontWeight:"600",lineHeight:"1.3"},children:g.nombre}),c.jsxs("p",{style:{margin:"0 0 0.5rem 0",fontSize:window.innerWidth<=768?"0.75rem":"0.85rem",color:T.D.miel,fontWeight:"600"},children:["$",g.precio," MXN"]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>ba(g.id,g.quantity-1),style:{background:T.D.crema,border:"none",borderRadius:"6px",width:window.innerWidth<=768?"24px":"28px",height:window.innerWidth<=768?"24px":"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"1rem",color:T.D.carbon,transition:"all 0.3s ease"},onMouseEnter:D=>D.target.style.background=T.D.miel,onMouseLeave:D=>D.target.style.background=T.D.crema,children:""}),c.jsx("span",{style:{minWidth:window.innerWidth<=768?"25px":"30px",textAlign:"center",fontSize:window.innerWidth<=768?"0.8rem":"0.9rem",fontWeight:"600",color:T.D.carbon},children:g.quantity}),c.jsx("button",{onClick:()=>ba(g.id,g.quantity+1),style:{background:T.D.crema,border:"none",borderRadius:"6px",width:window.innerWidth<=768?"24px":"28px",height:window.innerWidth<=768?"24px":"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"1rem",color:T.D.carbon,transition:"all 0.3s ease"},onMouseEnter:D=>D.target.style.background=T.D.miel,onMouseLeave:D=>D.target.style.background=T.D.crema,children:"+"})]})]}),c.jsx("button",{onClick:()=>Us(g.id),style:{background:"transparent",border:"none",color:"#ff4444",cursor:"pointer",padding:"0.5rem",borderRadius:"8px",fontSize:"1.2rem",transition:"all 0.3s ease"},onMouseEnter:D=>{D.target.style.backgroundColor="rgba(255, 68, 68, 0.1)",D.target.style.transform="scale(1.1)"},onMouseLeave:D=>{D.target.style.backgroundColor="transparent",D.target.style.transform="scale(1)"},children:""})]},g.id))}),c.jsxs("div",{style:{padding:"1.5rem",borderTop:`1px solid ${T.D.crema}`,background:`linear-gradient(135deg, ${T.D.crema} 0%, #f8f5f0 100%)`},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[c.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"600",color:T.D.carbon},children:"Total:"}),c.jsxs("span",{style:{fontSize:"1.3rem",fontWeight:"700",color:T.D.miel},children:["$",ni()," MXN"]})]}),c.jsx("button",{onClick:Bs,style:{width:"100%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",border:"none",padding:"1.2rem 1.5rem",borderRadius:"20px",fontSize:"1.1rem",fontWeight:"700",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 8px 25px rgba(224, 167, 58, 0.4), 0 4px 12px rgba(224, 167, 58, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.8rem",position:"relative",overflow:"hidden"},onMouseEnter:g=>{g.target.style.transform="translateY(-3px) scale(1.02)",g.target.style.boxShadow="0 15px 35px rgba(224, 167, 58, 0.5), 0 8px 20px rgba(224, 167, 58, 0.3)",g.target.style.background="linear-gradient(135deg, #f0b854 0%, #e0a73a 100%)"},onMouseLeave:g=>{g.target.style.transform="translateY(0) scale(1)",g.target.style.boxShadow="0 8px 25px rgba(224, 167, 58, 0.4), 0 4px 12px rgba(224, 167, 58, 0.2)",g.target.style.background=`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`},children:F?c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{fontSize:"1.3rem",animation:"spin 1s linear infinite"},children:""}),c.jsx("span",{style:{textShadow:"0 2px 4px rgba(0,0,0,0.2)",letterSpacing:"0.5px"},children:"Procesando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{style:{fontSize:"1.3rem",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"},children:""}),c.jsx("span",{style:{textShadow:"0 2px 4px rgba(0,0,0,0.2)",letterSpacing:"0.5px"},children:"Pagar con Mercado Pago"})]})})]})]}),H&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"20px",maxWidth:"400px",width:"90%",maxHeight:"90vh",overflow:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:T.D.carbon,margin:0},children:J==="login"?"Iniciar Sesin":"Crear Cuenta"}),c.jsx("button",{onClick:()=>X(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666"},children:""})]}),C&&c.jsx("div",{style:{padding:"0.8rem",marginBottom:"1rem",borderRadius:"8px",backgroundColor:C.includes("exitosamente")?"#d4edda":"#f8d7da",color:C.includes("exitosamente")?"#155724":"#721c24",border:`1px solid ${C.includes("exitosamente")?"#c3e6cb":"#f5c6cb"}`,textAlign:"center",fontSize:"0.9rem"},children:C}),c.jsxs("form",{onSubmit:async g=>{g.preventDefault();const D=new FormData(g.target),Z=D.get("email"),re=D.get("password"),Ee=D.get("name");J==="login"?await Ra(Z,re):await Ni(Z,re,Ee)},children:[J==="register"&&c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"name",required:!0,style:{width:"100%",padding:"0.8rem",borderRadius:"8px",border:`2px solid ${T.D.crema}`,fontSize:"1rem",outline:"none"}})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Correo Electrnico"}),c.jsx("input",{type:"email",name:"email",required:!0,style:{width:"100%",padding:"0.8rem",borderRadius:"8px",border:`2px solid ${T.D.crema}`,fontSize:"1rem",outline:"none"}})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Contrasea"}),c.jsx("input",{type:"password",name:"password",required:!0,style:{width:"100%",padding:"0.8rem",borderRadius:"8px",border:`2px solid ${T.D.crema}`,fontSize:"1rem",outline:"none"}})]}),c.jsx("button",{type:"submit",style:{width:"100%",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,color:"white",border:"none",padding:"1rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",marginBottom:"1rem"},children:J==="login"?"Iniciar Sesin":"Crear Cuenta"})]}),c.jsx("div",{style:{textAlign:"center"},children:J==="login"?c.jsxs(c.Fragment,{children:[c.jsxs("p",{style:{color:"#666",margin:"0 0 1rem 0"},children:["No tienes cuenta?"," ",c.jsx("button",{onClick:()=>de("register"),style:{background:"none",border:"none",color:T.D.miel,cursor:"pointer",textDecoration:"underline"},children:"Crear cuenta"})]}),c.jsx("button",{onClick:()=>{const g=prompt("Ingresa tu email para recuperar contrasea:");g&&_u(g)},style:{background:"none",border:"none",color:T.D.miel,cursor:"pointer",textDecoration:"underline",fontSize:"0.9rem"},children:"Olvidaste tu contrasea?"})]}):c.jsxs("p",{style:{color:"#666",margin:0},children:["Ya tienes cuenta?"," ",c.jsx("button",{onClick:()=>de("login"),style:{background:"none",border:"none",color:T.D.miel,cursor:"pointer",textDecoration:"underline"},children:"Iniciar sesin"})]})})]})}),Zr&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",borderRadius:"15px",padding:"2rem",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[c.jsx("h2",{style:{color:T.D.miel,margin:0,fontSize:"1.5rem",fontWeight:"bold"},children:" Informacin de Envo"}),c.jsx("button",{onClick:()=>an(!1),style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666"},children:""})]}),c.jsxs("form",{onSubmit:g=>{g.preventDefault(),ka()},children:[c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Nombre Completo *"}),c.jsx("input",{type:"text",required:!0,value:he.fullName,onChange:g=>at(D=>({...D,fullName:g.target.value})),style:{width:"100%",padding:"0.75rem",border:`2px solid ${T.D.crema}`,borderRadius:"8px",fontSize:"1rem",outline:"none",transition:"border-color 0.3s ease"},onFocus:g=>g.target.style.borderColor=T.D.miel,onBlur:g=>g.target.style.borderColor=T.D.crema})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Direccin Completa *"}),c.jsx("textarea",{required:!0,value:he.address,onChange:g=>at(D=>({...D,address:g.target.value})),style:{width:"100%",padding:"0.75rem",border:`2px solid ${T.D.crema}`,borderRadius:"8px",fontSize:"1rem",outline:"none",minHeight:"80px",resize:"vertical"},onFocus:g=>g.target.style.borderColor=T.D.miel,onBlur:g=>g.target.style.borderColor=T.D.crema})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Ciudad *"}),c.jsx("input",{type:"text",required:!0,value:he.city,onChange:g=>at(D=>({...D,city:g.target.value})),style:{width:"100%",padding:"0.75rem",border:`2px solid ${T.D.crema}`,borderRadius:"8px",fontSize:"1rem",outline:"none"},onFocus:g=>g.target.style.borderColor=T.D.miel,onBlur:g=>g.target.style.borderColor=T.D.crema})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Estado *"}),c.jsx("input",{type:"text",required:!0,value:he.state,onChange:g=>at(D=>({...D,state:g.target.value})),style:{width:"100%",padding:"0.75rem",border:`2px solid ${T.D.crema}`,borderRadius:"8px",fontSize:"1rem",outline:"none"},onFocus:g=>g.target.style.borderColor=T.D.miel,onBlur:g=>g.target.style.borderColor=T.D.crema})]})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Cdigo Postal *"}),c.jsx("input",{type:"text",required:!0,value:he.zipCode,onChange:g=>at(D=>({...D,zipCode:g.target.value})),style:{width:"100%",padding:"0.75rem",border:`2px solid ${T.D.crema}`,borderRadius:"8px",fontSize:"1rem",outline:"none"},onFocus:g=>g.target.style.borderColor=T.D.miel,onBlur:g=>g.target.style.borderColor=T.D.crema})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Telfono *"}),c.jsx("input",{type:"tel",required:!0,value:he.phone,onChange:g=>at(D=>({...D,phone:g.target.value})),style:{width:"100%",padding:"0.75rem",border:`2px solid ${T.D.crema}`,borderRadius:"8px",fontSize:"1rem",outline:"none"},onFocus:g=>g.target.style.borderColor=T.D.miel,onBlur:g=>g.target.style.borderColor=T.D.crema})]})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:T.D.carbon,fontWeight:"500"},children:"Notas de Envo (Opcional)"}),c.jsx("textarea",{value:he.notes,onChange:g=>at(D=>({...D,notes:g.target.value})),placeholder:"Instrucciones especiales para la entrega...",style:{width:"100%",padding:"0.75rem",border:`2px solid ${T.D.crema}`,borderRadius:"8px",fontSize:"1rem",outline:"none",minHeight:"60px",resize:"vertical"},onFocus:g=>g.target.style.borderColor=T.D.miel,onBlur:g=>g.target.style.borderColor=T.D.crema})]}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:()=>an(!1),style:{flex:1,padding:"0.75rem",background:"transparent",border:`2px solid ${T.D.miel}`,color:T.D.miel,borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:g=>{g.target.style.background=T.D.miel,g.target.style.color="white"},onMouseLeave:g=>{g.target.style.background="transparent",g.target.style.color=T.D.miel},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:F,style:{flex:1,padding:"0.75rem",background:`linear-gradient(135deg, ${T.D.miel} 0%, #d4a574 100%)`,border:"none",color:"white",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:F?"not-allowed":"pointer",opacity:F?.7:1,transition:"all 0.3s ease"},children:F?"Procesando...":"Continuar al Pago"})]})]})]})}),ne&&c.jsx(_P,{user:w,onClose:()=>ge(!1)})]})}_d.createRoot(document.getElementById("root")).render(c.jsx(FE.StrictMode,{children:c.jsx(xP,{})}));
